<div class="form-group" [class.d-inline-flex]="!config.templateOptions.title" [class.mb-0]="!config.templateOptions.mb && !this.group" style="white-space: nowrap" *ngIf="!config.hidden || showButton">
  <label class="mr-1" *ngIf="label && config.templateOptions.label">{{config.templateOptions.label}}</label>
  <div class="form-element w-100" *ngIf="config.templateOptions.title">
    <label class="col-form-label form-element-label">{{config.templateOptions.title}}:</label>
  </div>
  <button [type]="config.templateOptions.type ? config.templateOptions.type : 'button'"
    *ngIf="(!config.hidden || showButton) && (config.templateOptions.text || repeatArray && repeatArray.length > 1) && config.action !== 'showMessage'"
    [ngClass]="[buttonClass, textClass]"
    [ngStyle]="{'backgroundColor': config.inverse ? 'white' : config.color}"
    class="btn"
    [class.btn-outline-primary]="config.list && !buttonClass && !config.inverse && !config.shadow"
    [class.btn-sm]="config.templateOptions.small"
    [class.px-2]="config.templateOptions.p && buttonClass !== 'btn-link'"
    [class.list]="config.templateOptions.p"
    [class.text-white]="(buttonClass || config.color) && !config.inverse && buttonClass !== 'btn-link' && !config.shadow"
    [class.disabled]="isDisabled"
    [attr.title]="disabledTitle"
    [disabled]="config.disableAction || isDisabled"
    (click)="action($event)">
      <span *ngIf="repeatArray" class="d-flex align-items-center justify-content-between">
        <i fa
          [ngClass]="{'text-white': buttonClass && buttonClass !== 'btn-link' && !config.shadow, 'mr-1': !last || first}"
          *ngFor="let icon of repeatArray; let last = last; let first = first"
          [name]="config.templateOptions.icon">
        </i>
        {{config.templateOptions.text}}
      </span>

      <span *ngIf="!repeatArray">{{config.templateOptions.text}}</span>
  </button>
  <button class="btn btn-sm btn-link mr-1" type="button" *ngIf="config.action === 'showMessage'" [placement]="config.placement" [ngbTooltip]="detail" (click)="action($event)">
    {{config.templateOptions.text}}
  </button>
  <span class="postfix mr-1" *ngIf="config.postfix">{{config.postfix}}</span>
  <span class="custom-button" *ngIf="!config.hidden && !config.templateOptions.text && repeatArray && repeatArray.length === 1 && !config.disableAction" (click)="action($event)">
    <i class="icon" fa [name]="config.templateOptions.icon"
      [ngStyle]="{'color': config.text_color}" [title]="config.title">
    </i>
      {{config.title}}
  </span>
  <div *ngIf="config.customLink && config.image" class="image-wrapper">
    <img [src]="config.image" alt="" style="border-radius: 50%">
    <div class="backdrop" (click)="action($event)">
      <span>Show <br> map</span>
    </div>
  </div>
  <span *ngIf="config.customLink && !config.image" class="custom-link" (click)="action($event)">{{config.title}}</span>
  <span *ngIf="config.hidden && replacyValue">{{replacyValue}}</span>
  <small class="text-muted" *ngIf="config.templateOptions.description">
    {{config.templateOptions.description}}
  </small>
  <span *ngIf="config.delim">{{config.delim}}</span>
</div>
<span *ngIf="config.emptyValue && config.hidden">{{config.emptyValue}}</span>
<span [class.mr-1]="config.delim !== ' '" *ngIf="config.delim && !last">{{config.delim}}</span>
<br *ngIf="config.list && !config.hidden && !config.delim && !config.noDelim">

<ng-template #detail>
  <div class="line">
    <label for="">Data:</label>
    <p>{{config.value.sent_at | dateFormat: 'datetime'}}</p>
  </div>

  <div class="line">
    <label for="">Status:</label>
    <p>{{config.value.status}}</p>
  </div>

  <div class="line">
    <label for="">Text:</label>
    <p>{{config.value.text}}</p>
  </div>
</ng-template>

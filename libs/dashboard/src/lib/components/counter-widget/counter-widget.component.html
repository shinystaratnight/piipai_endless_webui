<app-dashboard-widget [label]="widgetLabel">
  <div header class="btn-group range-buttons" btnRadioGroup [formControl]="dateRangeTypeControl">
    <app-range-button
      *ngFor="let option of dateRangeList"
      [active]="dateRangeTypeControl.value === option"
      [dateRange]="option"
      [key]="getLabel(option).key"
      [label]="getLabel(option).value"
      [disabled]="option === dateRange.Custom"
    ></app-range-button>
  </div>

  <div class="body" body>
    <table class="table" body *ngIf="data$ | async as data">
      <thead>
        <tr>
          <th>{{ 'activity' | translate: {"Default": "Activity"} }}</th>
          <th>{{ 'amount' | translate: {"Default": "Amount"} }}</th>
          <th>{{ 'earned' | translate: {"Default": "Earned"} }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let activity of data.activities">
          <td *ngIf="activity.key">{{ activity.key | translate: {"Default": activity.label} }}</td>
          <td *ngIf="!activity.key">{{ activity.label }}</td>
          <td>{{activity.amount}} <span class="description">{{activity.uom}}</span></td>
          <td>{{activity.earned | currency: data.currency}}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td>{{ 'filter.date.label' | translate: {"Default": "Shifts"} }}: {{data.shifts}}</td>
          <td class="text-right"><b>{{ 'total' | translate: {"Default": "Total"} }}:</b></td>
          <td><b>{{ data.total | currency: data.currency }}</b></td>
        </tr>
      </tfoot>
    </table>

    <app-loader *ngIf="loading$ | async" class="loader"></app-loader>
  </div>

</app-dashboard-widget>

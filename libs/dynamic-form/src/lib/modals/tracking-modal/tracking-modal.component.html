<div class="tracking-header">
  <h5 class="title">Candidate Tracking</h5>
  <p class="jobsite">{{jobsite}}</p>

  <app-close-button class="close ml-2 mt-2" (click)="dismiss()"></app-close-button>
</div>

<agm-map
  style="height: 320px"
  [fullscreenControl]="false"
  [streetViewControl]="false"
  [mapTypeControl]="false"
  [panControl]="false"
  [rotateControl]="false"
  [scaleControl]="false"
  [zoomControl]="false"
  [latitude]="latitude"
  [longitude]="longitude"
  [zoom]="13">
  <agm-marker
    [latitude]="markerLatitude"
    [longitude]="markerLongitude">
  </agm-marker>
  <agm-polyline strokeColor="#28a3fc">
    <agm-polyline-point
      [latitude]="point.lat"
      [longitude]="point.lng"
      *ngFor="let point of path; trackBy: trackByTraking">
    </agm-polyline-point>
    <ng-container *ngIf="breakPath.length">
      <agm-polyline-point
        [latitude]="point.lat"
        [longitude]="point.lng"
        *ngFor="let point of breakPath; trackBy: trackByTraking">
      </agm-polyline-point>
    </ng-container>
  </agm-polyline>
</agm-map>

<div [class.tracking-desctop]="!isMobile()" [class.pt-4]="isMobile()">
  <div *ngIf="!isMobile()" class="tracking-title-wrapper">
    <h5 class="tracking-title">
      Time and path
      <span>{{timePoints.start | dateFormat: 'date'}}</span>
    </h5>
    <p class="tracking-description">Moving the time slider and look the path</p>
  </div>

  <app-time-tracking
    [timePoints]="timePoints"
    (changeTimeTracking)="trackingMarkerCoordinates($event)">
  </app-time-tracking>
</div>

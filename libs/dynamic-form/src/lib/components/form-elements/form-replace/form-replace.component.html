<div class="form-group">
  <label *ngIf="label && config.templateOptions.label" [attr.for]="key">{{config.templateOptions.label}}</label>
  <ng-container
    *ngFor="let field of metadata;"
    appFormElement
    [config]="field"
    [group]="selfGroup"
    [errors]="errors"
    (event)="eventHandler($event)"
    (buttonAction)="eventHandler($event)"
    [message]="message">
  </ng-container>
</div>

<ng-template #modal let-c="close">
  <div class="modal-content-wrapper">
    <div class="modal-header-wrapper">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">{{modalData.title}}</h5>

        <webui-close-button class="close ml-2" (click)="c()"></webui-close-button>
      </div>
    </div>

    <div class="modal-body">
      <div *ngIf="modalData.type !== 'delete'">
        <app-generic-form [endpoint]="modalData.endpoint" [id]="modalData.id" (event)="formEvent($event, c, modalData.el)">
          <button type="submit" class="btn btn-primary">Save</button>
        </app-generic-form>
      </div>
      <div *ngIf="modalData.type === 'delete'">
        Are you sure?
      </div>
    </div>

    <div *ngIf="modalData.type === 'delete'" class="modal-footer">
      <button type="button" class="btn btn-danger"
        (click)="deleteElement(c)">Delete</button>
    </div>
  </div>
</ng-template>

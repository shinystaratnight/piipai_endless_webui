<div class="datatable-wrapper">
  <webui-dynamic-list
    *ngIf="isTableReady"
    [inForm]="inForm"
    [config]="tables[0].metadata"
    [data]="tables[0].data"
    [refresh]="tables[0].refresh"
    [first]="tables[0].first"
    [id]="tables[0].id"
    [active]="tables[0].active"
    [limit]="tables[0].limit"
    [offset]="tables[0].offset"
    [sorted]="tables[0].sorted"
    [innerTables]="tables[0].innerTables"
    [update]="tables[0].update"
    [minimized]="tables[0].minimized"
    [maximize]="tables[0].maximize"
    [endpoint]="tables[0].endpoint"
    [parentEndpoint]="tables[0].parentEndpoint"
    [inForm]="inForm"
    [actionData]="tables[0].actionData"
    [supportData]="supportData"
    [responseField]="responseField"
    [paginated]="paginated"
    [actions]="actions"
    [delay]="delay"
    [allowPermissions]="allowPermissions"
    [metadataQuery]="metadataQuery"
    [addMetadataQuery]="addMetadataQuery"
    [editEndpoint]="editEndpoint"
    [addData]="tables[0].addData"
    [disableActions]="disableActions"
    [inlineFilters]="inlineFilters"
    [actionProcess]="tables[0].actionProcess"
    [uploadAll]="tables[0].uploadAll"
    [hasButtonInAction]="hasButtonInAction"
    (checkedObjects)="checkedHandler($event)"
    (list)="listHandler($event)"
    (event)="eventHandler($event)">
      <ng-content></ng-content>

      <div class="list-actions">
        <div class="load-more-wrapper">
          <button title="Load more" class="load-more"
            *ngIf="!isLoading && tables[0].data && !inForm && (tables[0].offset + tables[0].limit < tables[0].data.count) && (tables[0].data.count > tables[0].limit) && !tables[0].uploadAll"
            (click)="loadMoreHandler()">
              <fa-icon icon="chevron-down" class="text-white"></fa-icon>
          </button>
        </div>
        <div class="d-flex justify-content-center">
          <webui-loader *ngIf="!tables[0].data || isLoading"></webui-loader>
        </div>
      </div>
  </webui-dynamic-list>
</div>

<!-- <div #list class="d-flex justify-content-start datatable-list pt-2 flex-wrap" *ngIf="minimizedTable.length">
  <ng-container *ngFor="let table of minimizedTable">
    <div class="datatable-item px-1 pt-1">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h6 class="d-flex justify-content-between align-items-center mb-0">
            <span class="me-3 title" placement="top" ngbTooltip="{{table.metadata.list.label}}">{{table.metadata.list.label}}</span>
            <div class="d-flex fustify-content-center align-items-center">
              <fa-icon
                class="ms-2 icon"
                [icon]="['fas', 'window-minimize']"
                (click)="action('minimize', table)"
                aria-hidden="true"></fa-icon>
              <fa-icon
                class="ms-2 icon"
                [icon]="['fas', 'window-maximize']"
                (click)="action('maximize', table)"
                aria-hidden="true"></fa-icon>
              <fa-icon
                class="ms-2 icon"
                [icon]="['fas', 'times']"
                (click)="action('close', table)"
                aria-hidden="true"></fa-icon>
            </div>
          </h6>
        </div>
      </div>
    </div>
  </ng-container>
</div> -->

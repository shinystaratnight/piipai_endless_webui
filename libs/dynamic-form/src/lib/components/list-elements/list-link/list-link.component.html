<ng-container *ngIf="arrayValue ? config.value && config.value.length : config.value">
  <div class="list-link" [class.inline]="config.inline">
    <span *ngIf="config.display && config.value" class="display">{{config.display}}</span>
    <span class="d-flex align-items-center" *ngIf="!arrayValue">
      <a #view class="link default" [class.phone]="phone" [attr.href]="href" *ngIf="config.value && !link" [title]="config.title || ''" (click)="clickHandler($event)">
        {{config.value}}
      </a>
      <button type="button" class="btn btn-outline-primary"
        *ngIf="phone"
        [attr.title]="smsDisabledTitle"
        [class.disabled]="smsDisabled"
        (click)="sendSms($event)"
        [disabled]="smsDisabled">
          SMS
      </button>
      <button type="button" class="btn btn-outline-primary"
        *ngIf="phone"
        (click)="linkView.nativeElement.click()">
          Call
      </button>

      <a class="link" routerLink="{{href}}" *ngIf="config.value && link && config.link" [title]="config.title || ''">
        {{value}}
        <span *ngIf="config.fields">
          <ng-container
            *ngFor="let field of config.fields"
            appListElement
            [config]="field">
          </ng-container>
        </span>
      </a>

      <a class="link" [ngClass]="[linkClass]" *ngIf="config.endpoint" href="" (click)="action($event)" [title]="config.title || ''">
        {{value}}
        <span *ngIf="config.fields">
          <ng-container
            *ngFor="let field of config.fields"
            appListElement
            [config]="field"
            (event)="eventHandler($event)"
            (buttonAction)="buttonHandler($event)"></ng-container>
        </span>
      </a>

      <span *ngIf="config.delim && !last">{{config.delim}}</span>
      <br *ngIf="!config.delim && !config.fields">
    </span>

    <span class="d-flex flex-column" *ngIf="arrayValue">
      <span *ngFor="let item of value; let l = last; let i = index">
        <a class="link" [attr.href]="href[i]" *ngIf="item && !link" [title]="config.title || ''">{{item.__str__}}</a>

        <a class="link"
          [attr.href]="href[i]"
          [attr.title]="config.title || ''"
          (click)="action($event, i)"
          *ngIf="item && link && config.link">
          {{item.__str__}}
          <span *ngIf="config.fields">
            <ng-container *ngFor="let field of config.fields" appListElement [config]="field"></ng-container>
          </span>
        </a>

        <span *ngIf="config.delim && !l">{{config.delim}}</span>
        <br *ngIf="!config.delim && !config.fields && !l">
      </span>
    </span>
  </div>

  <span *ngIf="config.delim && !last">{{config.delim}}</span>
  <br *ngIf="!config.delim && !config.fields">
</ng-container>

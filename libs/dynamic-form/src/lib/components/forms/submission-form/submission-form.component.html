<app-dynamic-form
  *ngIf="!type && !formFilled"
  [config]="details"
></app-dynamic-form>

<app-dynamic-form
  *ngIf="type === timesheetType.Times"
  [config]="times"
  (submitForm)="saveTimesheet($event, true)"
>
  <div class="footer">
    <div *ngIf="errors" class="text-danger mb-2">
      {{ errors.non_field_errors }}
    </div>
    <button class="btn btn-primary" type="submit">
      Save
      <app-spinner *ngIf="saveProcess"></app-spinner>
    </button>
  </div>
</app-dynamic-form>

<app-dynamic-form
  *ngIf="type === timesheetType.Activity"
  [config]="skillActivity"
  (submitForm)="saveSkillActivity($event)"
  [errors]="errors"
>
  <div class="footer">
    <div *ngIf="errors" class="text-danger mb-2">
      {{ errors.non_field_errors }}
    </div>
    <button class="btn btn-primary" type="submit">
      Save
      <app-spinner *ngIf="saveProcess"></app-spinner>
    </button>
  </div>
</app-dynamic-form>

<app-dynamic-form
  *ngIf="type === timesheetType.Activities"
  [config]="skillActivities"
  (submitForm)="saveTimesheet($event)"
>
  <div class="footer">
    <div *ngIf="errors" class="text-danger mb-2">
      {{ errors.non_field_errors }}
    </div>
    <button class="btn btn-primary" type="submit">
      Save
      <app-spinner *ngIf="saveProcess"></app-spinner>
    </button>
  </div>
</app-dynamic-form>

<app-dynamic-form *ngIf="formFilled" [config]="notes"></app-dynamic-form>

<div *ngIf="!type && !formFilled" class="buttons">
  <button
    class="btn btn-primary"
    type="button"
    (click)="setTimesheetType(timesheetType.Times)"
  >
    Time only
  </button>

  <button
    class="btn btn-primary"
    type="button"
    (click)="setTimesheetType(timesheetType.Activity)"
  >
    Peiecework or combined
  </button>
</div>

<div class="footer" *ngIf="formFilled">
  <button class="btn btn-primary" type="submit" (click)="close()">
    Save
    <app-spinner *ngIf="saveProcess"></app-spinner>
  </button>
</div>

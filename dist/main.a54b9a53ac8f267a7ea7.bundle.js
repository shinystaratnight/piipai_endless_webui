webpackJsonp([2],{1133:function(t,e){},1148:function(t,e,n){function i(t){return n(a(t))}function a(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./af":596,"./af.js":596,"./ar":603,"./ar-dz":597,"./ar-dz.js":597,"./ar-kw":598,"./ar-kw.js":598,"./ar-ly":599,"./ar-ly.js":599,"./ar-ma":600,"./ar-ma.js":600,"./ar-sa":601,"./ar-sa.js":601,"./ar-tn":602,"./ar-tn.js":602,"./ar.js":603,"./az":604,"./az.js":604,"./be":605,"./be.js":605,"./bg":606,"./bg.js":606,"./bn":607,"./bn.js":607,"./bo":608,"./bo.js":608,"./br":609,"./br.js":609,"./bs":610,"./bs.js":610,"./ca":611,"./ca.js":611,"./cs":612,"./cs.js":612,"./cv":613,"./cv.js":613,"./cy":614,"./cy.js":614,"./da":615,"./da.js":615,"./de":618,"./de-at":616,"./de-at.js":616,"./de-ch":617,"./de-ch.js":617,"./de.js":618,"./dv":619,"./dv.js":619,"./el":620,"./el.js":620,"./en-au":621,"./en-au.js":621,"./en-ca":622,"./en-ca.js":622,"./en-gb":623,"./en-gb.js":623,"./en-ie":624,"./en-ie.js":624,"./en-nz":625,"./en-nz.js":625,"./eo":626,"./eo.js":626,"./es":628,"./es-do":627,"./es-do.js":627,"./es.js":628,"./et":629,"./et.js":629,"./eu":630,"./eu.js":630,"./fa":631,"./fa.js":631,"./fi":632,"./fi.js":632,"./fo":633,"./fo.js":633,"./fr":636,"./fr-ca":634,"./fr-ca.js":634,"./fr-ch":635,"./fr-ch.js":635,"./fr.js":636,"./fy":637,"./fy.js":637,"./gd":638,"./gd.js":638,"./gl":639,"./gl.js":639,"./gom-latn":640,"./gom-latn.js":640,"./he":641,"./he.js":641,"./hi":642,"./hi.js":642,"./hr":643,"./hr.js":643,"./hu":644,"./hu.js":644,"./hy-am":645,"./hy-am.js":645,"./id":646,"./id.js":646,"./is":647,"./is.js":647,"./it":648,"./it.js":648,"./ja":649,"./ja.js":649,"./jv":650,"./jv.js":650,"./ka":651,"./ka.js":651,"./kk":652,"./kk.js":652,"./km":653,"./km.js":653,"./kn":654,"./kn.js":654,"./ko":655,"./ko.js":655,"./ky":656,"./ky.js":656,"./lb":657,"./lb.js":657,"./lo":658,"./lo.js":658,"./lt":659,"./lt.js":659,"./lv":660,"./lv.js":660,"./me":661,"./me.js":661,"./mi":662,"./mi.js":662,"./mk":663,"./mk.js":663,"./ml":664,"./ml.js":664,"./mr":665,"./mr.js":665,"./ms":667,"./ms-my":666,"./ms-my.js":666,"./ms.js":667,"./my":668,"./my.js":668,"./nb":669,"./nb.js":669,"./ne":670,"./ne.js":670,"./nl":672,"./nl-be":671,"./nl-be.js":671,"./nl.js":672,"./nn":673,"./nn.js":673,"./pa-in":674,"./pa-in.js":674,"./pl":675,"./pl.js":675,"./pt":677,"./pt-br":676,"./pt-br.js":676,"./pt.js":677,"./ro":678,"./ro.js":678,"./ru":679,"./ru.js":679,"./sd":680,"./sd.js":680,"./se":681,"./se.js":681,"./si":682,"./si.js":682,"./sk":683,"./sk.js":683,"./sl":684,"./sl.js":684,"./sq":685,"./sq.js":685,"./sr":687,"./sr-cyrl":686,"./sr-cyrl.js":686,"./sr.js":687,"./ss":688,"./ss.js":688,"./sv":689,"./sv.js":689,"./sw":690,"./sw.js":690,"./ta":691,"./ta.js":691,"./te":692,"./te.js":692,"./tet":693,"./tet.js":693,"./th":694,"./th.js":694,"./tl-ph":695,"./tl-ph.js":695,"./tlh":696,"./tlh.js":696,"./tr":697,"./tr.js":697,"./tzl":698,"./tzl.js":698,"./tzm":700,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":700,"./uk":701,"./uk.js":701,"./ur":702,"./ur.js":702,"./uz":704,"./uz-latn":703,"./uz-latn.js":703,"./uz.js":704,"./vi":705,"./vi.js":705,"./x-pseudo":706,"./x-pseudo.js":706,"./yo":707,"./yo.js":707,"./zh-cn":708,"./zh-cn.js":708,"./zh-hk":709,"./zh-hk.js":709,"./zh-tw":710,"./zh-tw.js":710};i.keys=function(){return Object.keys(s)},i.resolve=a,t.exports=i,i.id=1148},1229:function(t,e){t.exports='<ol *ngIf="list.length" class="breadcrumb mb-0">\n  <li class="breadcrumb-item"><a routerLink="/">Home</a></li>\n  <li class="breadcrumb-item" [ngClass]="{\'active\': item.active || last}"\n    *ngFor="let item of list; let last = last">\n    <a *ngIf="!item.active && !last" routerLink="{{item.path}}">{{item.label}}</a>\n    <span *ngIf="item.active || last">{{item.label}}</span>\n  </li>\n</ol>\n'},1230:function(t,e){t.exports='<div class="container">\n  <div class="card mt-3 mb-3">\n    <h5 class="card-header p-3 bg-primary text-white">Registration</h5>\n\n    <div class="card-content p-3">\n      <generic-form\n        *ngIf="!password"\n        [commonFields]="commonFields"\n        [hide]="hide"\n        [endpoint]="endpoint"\n        [data]="data"\n        [response]="response"\n        [errors]="error"\n        [relatedField]="relatedField"\n        [form]="form"\n        (event)="eventHandler($event)"\n        (buttonAction)="buttonActionHandler($event)">\n        <div class="form-group">\n          <button type="submit" class="btn btn-primary pl-4 pr-4 mt-3" [disabled]="hide">Register</button>\n        </div>\n      </generic-form>\n\n      <generic-form\n        *ngIf="password"\n        [edit]="true"\n        [endpoint]="endpoint"\n        [response]="response"\n        [errors]="error"\n        (event)="eventHandler($event)">\n          <div class="form-group">\n            <button type="submit" class="btn btn-primary pl-4 pr-4 mt-3">Save</button>\n          </div>\n      </generic-form>\n    </div>\n\n  </div>\n</div>\n'},1231:function(t,e){t.exports='<div class="dashboard py-2">\n  <div class="welcome d-flex align-items-center justify-content-center flex-column"\n    *ngIf="userModules && !userModules.length">\n    <span class="text-muted"><b>Modify your dashboard by adding widgets!</b></span>\n    <button class="add-widget icon btn btn-primary mt-2 px-4 d-flex align-items-center justify-content-center" (click)="openModal()">\n      <span class="text-white"><b>Add Widget</b></span>\n    </button>\n  </div>\n\n  <div class="col-12 col-md-6 mt-5" *ngIf="userModules && userModules.length">\n    <button class="icon btn btn-primary mb-3 px-4 d-flex align-items-center justify-content-center" (click)="openModal()">\n      <span class="text-white"><b>Add Widget</b></span>\n    </button>\n\n    <div class="mb-3 d-flex flex-column align-items-stretch justify-content-center"\n      *ngFor="let group of widgetList">\n      <h6 class="p-2 mb-0 bg-inverse text-white">{{group.label}}</h6>\n      <div class="list-group">\n        <div class="widget p-2 list-group-item d-flex align-items-center justify-content-between"\n          *ngFor="let widget of group.list">\n            <a [routerLink]="[widget.link]">{{widget.label}}</a>\n            <i fa [name]="\'times\'" class="icon text-danger"\n              (click)="removeModule(widget)"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<template #modal let-c="close">\n  <div class="dashboard">\n    <div class="modal-content-wrapper">\n      <div class="modal-header-wrapper">\n        <div class="modal-header bg-primary text-white">\n          <h5 class="modal-title">Widgets</h5>\n          <button type="button" class="close ml-2" (click)="c()">\n            <span class="text-white" aria-hidden="true">&times;</span>\n          </button>\n        </div>\n      </div>\n\n      <div class="modal-body">\n        <div class="d-flex justify-content-around align-items-stretch flex-wrap flex-column">\n          <div *ngIf="!selectedWidget">\n            <div class="widget-preview p-2 d-flex justify-content-center align-items-center"\n              *ngFor="let widget of availableModules"\n              (click)="selectModule(widget)">\n                <span class="text-muted"><b>{{widget.content_type.name}}</b></span>\n            </div>\n          </div>\n          <div *ngIf="selectedWidget">\n            <form (submit)="addModule(c)">\n              <div class="form-check">\n                <label class="form-check-label">\n                  <input class="form-check-input" type="checkbox"\n                    [(ngModel)]="userModelData.ui_config.display_on_navbar"\n                    [ngModelOptions]="{standalone: true}">\n                  Display on Navbar\n                </label>\n              </div>\n              <div class="form-group mt-3">\n                <button type="submit" class="btn btn-primary">Add</button>\n              </div>\n            </form>\n          </div>\n          <div class="d-flex justify-content-center align-content-center p-3"\n            *ngIf="availableModules && !availableModules.length">\n              <span class="text-muted">No Widgets</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n'},1232:function(t,e){t.exports='<div class="form-builder">\n  <generic-form\n    [endpoint]="endpoint"\n    [data]="data"\n    [id]="id"\n    [modal]="true"\n    [showResponse]="false"\n    (str)="eventForm($event)"\n    (event)="eventHandler($event)">\n    <button *ngIf="!id" type="submit" class="btn btn-primary">Save</button>\n    <span *ngIf="label">\n      Preview: <a [href]="previewLink" target="blank">{{label}}</a>\n    </span>\n    <div *ngIf="id" class="d-flex justify-content-between align-items-center mt-2">\n      <button type="button" class="btn btn-danger" (click)="delete()">Delete</button>\n      <button type="submit" class="btn btn-primary">Save</button>\n    </div>\n  </generic-form>\n</div>\n'},1233:function(t,e){t.exports='<navigation></navigation>\n\n<div class="container">\n    <ul class="list-group">\n        <li class="list-group-item">\n            <a [routerLink]="[\'/login\']" [queryParams]="{type: \'extranet\'}">Client/Candidate Access</a>\n        </li>\n        <li class="list-group-item">\n            <a href="#" (click)="mobileLogin()">Mobile Login</a>\n        </li>\n        <li class="list-group-item">\n            <a [routerLink]="[\'/login\']" [queryParams]="{type: \'crm\'}">CRM Access</a>\n        </li>\n        <li class="list-group-item">\n            <a [routerLink]="[\'/registration\']">Register as candidate</a>\n        </li>\n    </ul>\n</div>\n\n<template #mobileLoginTemplate let-c="close">\n  <div class="modal-header">\n    <div class="d-flex align-items-center">\n      <h5 class="mb-0">{{modalInfo.label}}</h5>\n    </div>\n    <button type="button" class="close" aria-label="Close" (click)="c(false)">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="modal-body">\n    <generic-form\n      [endpoint]="modalInfo.endpoint"\n      [data]="modalInfo.data"\n      (event)="formEvent($event, c)">\n        <button type="submit" class="btn btn-primary text-white">Sign In</button>\n        <button type="button" class="btn bg-inverse text-white" (click)="c()">Close</button>\n    </generic-form>\n  </div>\n</template>\n'},1234:function(t,e){t.exports='<div class="container" *ngIf="!token">\n  <div class="row justify-content-center align-items-center">\n    <div class="col-12 col-sm-9 col-md-7 col-lg-4 mt-5">\n      <div class="card">\n\n        <h5 class="card-header p-3 bg-primary text-white">{{label}}</h5>\n        <div class="card-content p-3">\n          <generic-form\n            [endpoint]="endpoint"\n            [errors]="error"\n            (redirect)="redirectHandler($event)"\n            (responseForm)="responseHandler($event)">\n            <div class="form-group text-center">\n              <button type="submit" class="btn btn-primary pl-4 pr-4">Log In</button>\n            </div>\n          </generic-form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},1235:function(t,e){t.exports='<header #header class="text-white navigation">\n  <div class="d-flex justify-content-between h-100">\n    <div class="logo">\n    </div>\n    <div class="d-flex align-items-center title">\n      <a class="title-name" href="#">CRM</a>\n      <span class="title-name-bg">CRM</span>\n    </div>\n    <div class="d-flex align-items-center flex-xl-unordered align-items-stretch"\n      [ngClass]="{\'flex-first\': pages}"\n      *ngIf="pages && pages.length">\n      <nav #nav class="d-flex">\n        <button class=" d-flex align-items-center hamburger hamburger--spring hidden-xl-up" type="button"\n          [ngClass]="{\'is-active\': isCollapsed}"\n          (click)="showNavigation($event)">\n          <span class="hamburger-box">\n            <span class="hamburger-inner"></span>\n          </span>\n        </button>\n        <ul class="navigation-list mh-100" [ngClass]="{\'show\': isCollapsed}" [ngStyle]="{\'top.px\': (isCollapsed) ? headerHeight : 0}">\n          <template *ngFor="let page of pages" [ngTemplateOutlet]="item" [ngOutletContext]="{page: page, first: true, height: headerHeight}"></template>\n        </ul>\n      </nav>\n    </div>\n    <div class="user d-flex justify-content-end align-items-center ml-xl-auto flex-wrap">\n      <span *ngIf="greeting" class="user-title" [ngClass]="{\'hide\': user}">{{greeting}}</span>\n      <div *ngIf="user" class="d-flex align-items-center flex-wrap">\n        <a href="#" class="user-icons">\n          <img class="user-icon" src="/assets/img/eye.svg" alt="View site">\n        </a>\n        <a href="#" class="user-icons">\n          <img class="user-icon" src="/assets/img/lock.svg" alt="Change password">\n        </a>\n        <a href="#" class="user-icons" (click)="logOut()">\n          <img class="user-icon" src="/assets/img/logout.svg" alt="Log out">\n        </a>\n      </div>\n    </div>\n  </div>\n</header>\n\n<template #list let-p="pages" let-h="height">\n  <ul *ngIf="!isCollapsed" class="navigation-list-nested" [ngStyle]="{\'top.px\': h}">\n    <template *ngFor="let page of p" [ngTemplateOutlet]="item" [ngOutletContext]="{page: page}"></template>\n  </ul>\n  <ul *ngIf="isCollapsed" class="navigation-list-nested">\n    <template *ngFor="let page of p" [ngTemplateOutlet]="item" [ngOutletContext]="{page: page}"></template>\n  </ul>\n</template>\n\n<template #item let-p="page" let-f="first" let-h="height">\n  <li class="navigation-item">\n    <div class="d-flex align-items-center justify-content-between w-100 h-100">\n      <a *ngIf="!p.disabled" routerLink="{{p.url}}" class="p-2 navigation-link"\n        (click)="isCollapsed = false">{{p.name}}</a>\n      <span class="p-2 navigation-link" *ngIf="p.disabled" (click)="isCollapsed = false">{{p.name}}</span>\n      <i fa class="icon mr-2"\n        *ngIf="(!f || isCollapsed) && p.childrens && p.childrens.length"\n        [name]="\'chevron-right\'"></i>\n    </div>\n    <template *ngIf="p.childrens && f" [ngTemplateOutlet]="list" [ngOutletContext]="{pages: p.childrens, height: h}"></template>\n    <template *ngIf="p.childrens && !f" [ngTemplateOutlet]="list" [ngOutletContext]="{pages: p.childrens}"></template>\n  </li>\n</template>\n'},1236:function(t,e){t.exports='<div *ngIf="data" class="container profile pt-5 d-flex flex-column justify-content-start">\n\n  <div class="d-flex flex-column flex-md-row justify-content-between align-items-start w-100 mb-3">\n    <div class="d-flex flex-column block">\n\n      <div class="element d-flex align-items-center p-2 px-4 mb-3">\n        <img class="avatar mr-3" [src]="data.contact.picture" alt="Profile">\n        <span class="name mr-auto">{{data.contact.__str__}}</span>\n        <button type="button" class="btn btn-default"\n          (click)="openModal()">Edit</button>\n      </div>\n\n      <div class="element mb-3 mb-md-0">\n        <div class="text-white element-header p-2"\n          (click)="residency.isCollapsed = !residency.isCollapsed"\n          [attr.aria-expanded]="!residency.isCollapsed" aria-controls="collapseExample">\n            <i fa class="element-icon m-0 mr-2" [name]="residency.isCollapsed ? \'plus\' : \'close\'"></i>\n            Residency\n          </div>\n        <div id="collapseExample" [ngbCollapse]="residency.isCollapsed">\n          <div *ngFor="let item of residency.viewData; let odd = odd" class="element-item p-2" [ngClass]="{\'odd\': odd}">\n            <span class="pr-2"><b>{{item[0]}}</b></span>\n            <span class="pl-md-2">{{item[1]}}</span>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div class="block element">\n      <div class="text-white element-header p-2"\n        (click)="personalTraits.isCollapsed = !personalTraits.isCollapsed"\n        [attr.aria-expanded]="!personalTraits.isCollapsed" aria-controls="collapseExample">\n          <i fa class="element-icon m-0 mr-2" [name]="personalTraits.isCollapsed ? \'plus\' : \'close\'"></i>\n          Personal Traits\n        </div>\n      <div id="collapseExample" [ngbCollapse]="personalTraits.isCollapsed">\n        <div *ngFor="let item of personalTraits.viewData; let odd = odd" class="element-item p-2" [ngClass]="{\'odd\': odd}">\n          <span class="pr-2"><b>{{item[0]}}</b></span>\n          <span class="pl-md-2">{{item[1]}}</span>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n  <div class="element mb-3">\n    <div class="text-white element-header p-2"\n      (click)="skills.isCollapsed = !skills.isCollapsed"\n      [attr.aria-expanded]="!skills.isCollapsed" aria-controls="collapseExample">\n        <i fa class="element-icon m-0 mr-2" [name]="skills.isCollapsed ? \'plus\' : \'close\'"></i>\n        Skills\n    </div>\n    <div id="collapseExample" [ngbCollapse]="skills.isCollapsed">\n      <div style="overflow-x: auto">\n        <table class="table mb-0">\n          <thead>\n            <tr>\n              <th *ngFor="let item of skills.viewData.label">{{item}}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor="let row of skills.viewData.row" class="item">\n              <td *ngFor="let cell of row.values; let f = first" >\n                <div class="d-flex align-items-center justify-content-between">\n                  {{cell}}\n                  <i fa class="edit icon text-muted ml-1 mr-2"\n                    *ngIf="false"\n                    [name]="\'pencil\'"\n                    (click)="openModal(cell, \'skills\', row.id)"></i>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n\n  <div class="element mb-3">\n    <div class="text-white element-header p-2"\n      (click)="tags.isCollapsed = !tags.isCollapsed"\n      [attr.aria-expanded]="!tags.isCollapsed" aria-controls="collapseExample">\n        <i fa class="element-icon m-0 mr-2" [name]="tags.isCollapsed ? \'plus\' : \'close\'"></i>\n        Tags\n    </div>\n    <div id="collapseExample" [ngbCollapse]="tags.isCollapsed">\n      <div style="overflow-x: auto">\n        <table class="table mb-0">\n          <thead>\n            <tr>\n              <th *ngFor="let item of tags.viewData.label">{{item}}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor="let row of tags.viewData.row" class="item">\n              <td *ngFor="let cell of row.values; let f = first">\n                <div class="d-flex align-items-center justify-content-between">\n                  <a *ngIf="cell.map" [href]="cell[0]">Link</a>\n                  <span *ngIf="!cell.map">{{cell}}</span>\n                  <i fa class="edit icon text-muted ml-1 mr-2"\n                    *ngIf="false"\n                    [name]="\'pencil\'"\n                    (click)="openModal(cell, \'tags\', row.id)"></i>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n\n  <div class="element">\n    <div class="text-white element-header p-2"\n      (click)="contactDetails.isCollapsed = !contactDetails.isCollapsed"\n      [attr.aria-expanded]="!contactDetails.isCollapsed" aria-controls="collapseExample">\n        <i fa class="element-icon m-0 mr-2" [name]="contactDetails.isCollapsed ? \'plus\' : \'close\'"></i>\n        Contact Details\n      </div>\n    <div id="collapseExample" [ngbCollapse]="contactDetails.isCollapsed">\n      <div *ngFor="let item of contactDetails.viewData; let odd = odd" class="element-item p-2" [ngClass]="{\'odd\': odd}">\n        <span class="pr-2"><b>{{item[0]}}</b></span>\n        <a *ngIf="item[2]" [href]="item[2] + item[1]">{{item[1]}}</a>\n        <span *ngIf="!item[2]" class="pl-md-2">{{item[1]}}</span>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n<div *ngIf="!data" class="spinner">\n  <div class="double-bounce1"></div>\n  <div class="double-bounce2"></div>\n</div>\n\n<template #modal let-c="close">\n  <div class="modal-content-wrapper">\n    <div class="modal-header-wrapper">\n      <div class="modal-header bg-primary text-white">\n        <h5 class="modal-title">{{modalData.title}}</h5>\n        <button type="button" class="close" (click)="c()">\n          <span class="text-white" aria-hidden="true">&times;</span>\n        </button>\n      </div>\n    </div>\n\n    <div class="modal-body">\n      <generic-form [endpoint]="modalData.endpoint" [id]="modalData.id" (event)="formEvent($event, c)">\n        <button type="submit" class="btn btn-primary">Save</button>\n      </generic-form>\n    </div>\n  </div>\n</template>\n'},1237:function(t,e){t.exports='<navigation [user]="user" [pages]="pagesList"></navigation>\n\n<div class="h-100" *ngIf="pageData" [ngSwitch]="pageData.pathData.type">\n  <div *ngSwitchCase="\'form\'">\n    <breadcrumb [navigationList]="pagesList" [formLabel]="formLabel"></breadcrumb>\n    <div class="container-fluid pb-5">\n      <generic-form\n        *ngIf="pageData.endpoint !== \'/ecore/api/v2/endless-core/forms/\'"\n        [title]="pageData.pathData.title"\n        [modal]="pageData.pathData.modal"\n        [endpoint]="pageData.endpoint"\n        [id]="pageData.pathData.id"\n        [edit]="pageData.pathData.postfix"\n        (event)="formEvent($event)"\n        (str)="changeFormLabel($event)">\n          <div class="d-flex">\n            <button type="button" class="btn btn-danger"\n              *ngIf="pageData.pathData.id"\n              (click)="deleteElement(pageData)">Delete</button>\n            <button type="submit" class="btn btn-primary ml-auto">Save</button>\n          </div>\n      </generic-form>\n    </div>\n    <form-builder\n      *ngIf="pageData.endpoint === \'/ecore/api/v2/endless-core/forms/\'"\n      [path]="pageData.pathData.path"\n      [endpoint]="pageData.endpoint"\n      [id]="pageData.pathData.id"\n      (str)="changeFormLabel($event)">\n    </form-builder>\n  </div>\n  <div class="list-page" *ngSwitchCase="\'list\'">\n    <div class="filter-place"></div>\n    <div class="content">\n      <breadcrumb [navigationList]="pagesList" [formLabel]="formLabel"></breadcrumb>\n      <generic-list [endpoint]="pageData.endpoint"></generic-list>\n    </div>\n  </div>\n  <div *ngSwitchCase="\'profile\'">\n    <profile [id]="user.id"></profile>\n  </div>\n\n</div>\n  <dashboard *ngIf="dashboard"\n    [pages]="pagesList"\n    [userModules]="userModules"\n    [modulesList]="modulesList"\n    (changeWidgetList)="updateNavigation($event)"></dashboard>\n'},1238:function(t,e){t.exports='<div class="d-flex mb-3 form-group">\n  <label class="col-form-label pr-1">{{config.label}}</label>\n  <select\n    [(ngModel)]="action"\n    class="custom-select mr-2">\n      <option value=""></option>\n      <option *ngFor="let option of config.options" [ngValue]="option">{{option.label}}</option>\n  </select>\n  <button class="btn" type="button" (click)="toDoAction()">{{config.button_label}}</button>\n</div>\n\n<template #content let-c="close" let-d="dismiss">\n  <div class="modal-header">\n    <p>{{action.message}}</p>\n    <button type="button" class="close" aria-label="Close" (click)="d(false)">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="modal-footer">\n    <button type="button" class="btn btn-secondary" (click)="c(true)">{{config.agree_label}}</button>\n    <button type="button" class="btn btn-secondary" (click)="c(false)">{{config.decline_label}}</button>\n  </div>\n</template>\n'},1239:function(t,e){t.exports='<div class="filter-element p-2" [class.active]="!isCollapsed">\n  <label class="filter-label"  [class.active]="!isCollapsed">\n    {{config.label}}\n    <i\n      fa\n      class="p-2"\n      [name]="isCollapsed ? \'angle-right\' : \'angle-down\'"\n      [border]=false\n      (click)="isCollapsed = !isCollapsed"\n      [class.text-primary]="!isCollapsed"\n      [attr.aria-expanded]="!isCollapsed"\n      style="cursor: pointer"></i>\n    <i\n      *ngIf="false"\n      fa\n      class="text-danger ml-1"\n      [name]="\'times-circle\'"\n      [border]="true"\n      style="cursor: pointer"\n      (click)="resetFilter()"></i>\n  </label>\n  <ul class="list-unstyled filter-choice" [ngbCollapse]="isCollapsed">\n    <li\n      *ngFor="let item of config.list"\n      [class.selected]="query === item.value"\n      style="cursor: pointer"\n      (click)="select(item.value)">\n        {{item.label}}\n    </li>\n  </ul>\n</div>\n'},1240:function(t,e){t.exports='<div class="filter-element p-2" [class.active]="!isCollapsed">\n  <label class="filter-label" [class.active]="!isCollapsed">\n    {{config.label}}\n    <i\n      fa\n      class="p-2"\n      [name]="icons[theme][isCollapsed]"\n      [border]=false\n      (click)="isCollapsed = !isCollapsed"\n      [class.text-primary]="icons[theme] === \'r3sourcer\' && !isCollapsed"\n      [attr.aria-expanded]="!isCollapsed"\n      style="cursor: pointer"></i>\n    <i\n      *ngIf="false"\n      fa\n      class="text-danger ml-1"\n      [name]="\'times-circle\'"\n      [border]="true"\n      style="cursor: pointer"\n      (click)="resetFilter()"></i>\n  </label>\n  <div [ngbCollapse]="isCollapsed" class="filter-date-wrapper">\n    <ul class="list-inline d-flex justify-content-between my-1">\n      <li\n        *ngFor="let item of config.list"\n        [class.text-primary]="query === item.query"\n        style="cursor: pointer"\n        (click)="selectQuery(item.query)">\n          {{item.label}}\n      </li>\n    </ul>\n\n    <div class="input-group datepicker" [class.mb-1]="!l" *ngFor="let input of config.input; let l = last">\n      <input\n        class="form-control filter-date"\n        [attr.placeholder]="input.label"\n        #d\n        data-role="datebox"\n        [attr.name]="input.query"\n        [(ngModel)]="data[input.query]"\n        (ngModelChange)="onChange()">\n    </div>\n  </div>\n</div>\n'},1241:function(t,e){t.exports='<div class="filter-element p-2" [class.active]="!isCollapsed">\n  <label class="filter-label related" [class.active]="!isCollapsed">\n    {{config.label}}\n    <i\n      fa\n      class="p-2"\n      [name]="isCollapsed ? \'eye\' : \'eye-slash\'"\n      [border]=false\n      (click)="isCollapsed = !isCollapsed"\n      [attr.aria-expanded]="!isCollapsed"\n      style="cursor: pointer"></i>\n    <i\n      *ngIf="false"\n      fa\n      class="text-danger ml-1"\n      [name]="\'times-circle\'"\n      [border]="true"\n      style="cursor: pointer"\n      (click)="resetFilter()"></i>\n  </label>\n  <div [ngbCollapse]="isCollapsed" class="filter-related">\n    <div class="d-flex justify-content-center align-items-center mb-1 autocomplete-filter" *ngFor="let item of elements" style="position: relative">\n      <div class="form-control autocomplete-value active"\n        (click)="openAutocomplete($event, item)">\n          <div style="overflow: hidden; white-space: nowrap">{{item.displayValue}}</div>\n          <i fa [name]="item.hideAutocomplete ? \'angle-right\' : \'angle-down\'" class="text-md-white ml-2"></i>\n      </div>\n\n      <div class="card autocomplete p-1" [hidden]="item.hideAutocomplete" [ngStyle]="{\'top.px\': topHeight}">\n        <input type="text" class="form-control mb-1"\n          [(ngModel)]="searchValue"\n          [ngModelOptions]="{standalone: true}"\n          (blur)="resetList(item)"\n          (keyup)="filter(item)">\n        <div class="autocomplete-list"\n          infinite-scroll\n          [infiniteScrollDistance]="modalScrollDistance"\n          [infiniteScrollThrottle]="modalScrollThrottle"\n          [scrollWindow]="false"\n          (scrolled)="onModalScrollDown(item)"\n          [hidden]="!(previewList && previewList.length)">\n          <ul class="list-group w-100">\n            <li class="list-group-item autocomplete-item p-1 pl-2" style="cursor: pointer" (click)="setValue({id: \'\', __str__: \'All\'}, item)">All</li>\n            <li class="list-group-item autocomplete-item p-1 pl-2" style="cursor: pointer"\n              *ngFor="let option of previewList"\n              (click)="setValue(option, item)">{{option[config.data.value]}}</li>\n          </ul>\n        </div>\n      </div>\n\n      <div *ngIf="config.many" class="d-flex justify-content-center align-items-center p-1">\n        <i fa *ngIf="config.many" [name]="\'plus\'" [border]=true (click)="addElement()" class="text-success p-1" style="cursor: pointer"></i>\n        <i fa *ngIf="elements.length > 1" [name]="\'ban\'" [border]=true (click)="deleteElement(item)" class="text-danger p-1" style="cursor: pointer"></i>\n      </div>\n    </div>\n  </div>\n</div>\n'},1242:function(t,e){t.exports='<div class="filter-element p-2" [class.active]="!isCollapsed">\n  <label class="filter-label" [class.active]="!isCollapsed">\n    {{config.label}}\n    <i\n      fa\n      class="p-2"\n      [name]="icons[theme][isCollapsed]"\n      [border]=false\n      [class.text-primary]="icons[theme] === \'r3sourcer\' && !isCollapsed"\n      (click)="isCollapsed = !isCollapsed"\n      [attr.aria-expanded]="!isCollapsed"\n      style="cursor: pointer"></i>\n    <i\n      *ngIf="false"\n      fa\n      class="text-danger ml-1"\n      [name]="\'times-circle\'"\n      [border]="true"\n      style="cursor: pointer"\n      (click)="resetFilter()"></i>\n  </label>\n  <div [ngbCollapse]="isCollapsed" class="filter-select-wrapper">\n    <select class="form-control custom-select filter-select" [(ngModel)]="data" (change)="onChange()">\n      <option *ngFor="let option of config.options" [attr.value]="option.value" [selected]="data === option.value">{{option.label}}</option>\n    </select>\n  </div>\n</div>\n'},1243:function(t,e){t.exports='<div class="form-group" [class.mb-0]="!config.templateOptions.mb && !this.group" style="white-space: nowrap">\n  <label class="mr-1" *ngIf="label && config.templateOptions.label">{{config.templateOptions.label}}</label>\n  <button\n    *ngIf="!config.hidden"\n    [ngClass]="[buttonClass]"\n    [ngStyle]="{\'backgroundColor\': buttonColor}"\n    class="btn mt-1 mb-1"\n    [class.button]="config.list && !buttonClass"\n    [class.btn-sm]="config.templateOptions.small"\n    [class.px-2]="config.templateOptions.p"\n    [class.pl-4.pr-4]="!config.templateOptions.p"\n    [class.btn-primary]="!config.list"\n    [class.text-white]="buttonClass"\n    [attr.type]="config.templateOptions.type"\n    (click)="action($event)">\n      <span class="d-flex align-items-center justify-content-between">\n        <i fa\n          [ngClass]="{\'text-white\': buttonClass, \'mr-1\': !last || first}"\n          *ngFor="let icon of repeatArray; let last = last; let first = first"\n          [name]="config.templateOptions.icon"></i>{{config.templateOptions.text}}\n      </span>\n  </button>\n  <span *ngIf="config.hidden">{{replacyValue}}</span>\n  <small class="text-muted" *ngIf="config.templateOptions.description">\n    {{config.templateOptions.description}}\n  </small>\n</div>\n'},1244:function(t,e){t.exports='<div class="form-group" [formGroup]="group" *ngIf="!config.read_only">\n  <div class="form-check">\n    <label [attr.for]="key" class="form-check-label" [ngClass]="{\'pl-0\': config.read_only || this.config.templateOptions.type === \'icon\'}">\n      <i class="mr-1" *ngIf="config.templateOptions.type === \'icon\'"\n        [ngClass]="[checkboxClass]"\n        [ngStyle]="{\'color\': checkboxColor}"\n        fa [name]="config.templateOptions.values[group.get(key).value]"></i>\n      <input\n        [hidden]="config.templateOptions.type === \'icon\'"\n        #checkbox\n        class="form-check-input"\n        [formControl]="group.get(key)"\n        type="checkbox"\n        [attr.id]="key"\n        [attr.name]="key">\n      {{config.templateOptions.label}}\n    </label><br>\n    <small class="text-muted" *ngIf="config.templateOptions.description">\n      {{config.templateOptions.description}}\n    </small>\n    <div *ngIf="errors">\n      <div class="text-danger mt-1" *ngIf="errors[config.key]">{{errors[config.key]}}</div>\n    </div>\n    <div *ngIf="message">\n      <div *ngIf="message[config.key]" class="text-success mt-1">{{message[config.key]}}</div>\n    </div>\n  </div>\n</div>\n\n<div class="form-group d-flex fustify-content-start align-items-center" *ngIf="config.read_only">\n  <label class="mr-5 mb-0">{{config.templateOptions.label}}</label>\n  <span\n    *ngIf="config.templateOptions && config.templateOptions.type === \'text\'">\n      {{this.checkboxValue}}\n  </span>\n  <i fa [name]="checkboxValue"\n    [ngClass]="[checkboxClass]"\n    *ngIf="config.templateOptions && config.templateOptions.type === \'icon\'">\n  </i>\n</div>\n'},1245:function(t,e){t.exports='<div class="form-group">\n  <div class="d-flex" (click)="updateDate()">\n    <div class="w-100">\n      <label *ngIf="label && config.templateOptions.label" [attr.for]="key">{{config.templateOptions.label}}</label>\n      <div *ngIf="!config.read_only" class="input-group datepicker d-flex flex-column">\n        <input class="form-control"\n          #d\n          data-role="datebox"\n          [(ngModel)]="date"\n          [attr.id]="key"\n          [attr.name]="key">\n        <input [hidden]="config.templateOptions.type !== \'datetime\'" class="form-control"\n          #t\n          date-role="datebox"\n          [(ngModel)]="time">\n      </div>\n      <div *ngIf="config.read_only" class="form-control">{{group && group.get(key).value}}</div>\n      <small class="text-muted" *ngIf="config.templateOptions.description">\n        {{config.templateOptions.description}}\n      </small>\n      <div *ngIf="errors">\n        <div class="text-danger mt-1" *ngIf="errors[config.key]">{{errors[config.key]}}</div>\n      </div>\n      <div *ngIf="message">\n        <div *ngIf="message[config.key]" class="text-success mt-1">{{message[config.key]}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n'},1246:function(t,e){t.exports='<div class="form-group">\n  <label *ngIf="config.templateOptions.label">{{config.templateOptions.label}}</label><br>\n  <div class="card mb-2" *ngFor="let group of groups">\n    <div class="card-header p-2 mb-1 d-flex justify-content-between align-items-center element group">\n      <b>{{group.name}}</b>\n      <i fa [name]="\'pencil\'" class="icon text-primary ml-auto mr-2" (click)="edit(group, groups, \'group\')"></i>\n      <i fa [name]="\'times\'" class="icon text-danger mr-2" (click)="delete(group, groups, \'group\')"></i>\n      <b><small>(position: {{group.position}})</small></b>\n    </div>\n\n    <div class="card flex-row p-2 align-items-stretch justify-content-between m-2 element field" *ngFor="let field of group.field_list">\n      <div class="d-flex flex-column justify-content-between">\n        <b>{{field.label}}</b>\n        <small>({{fields[field.field_type].label}})</small>\n      </div>\n      <div class="d-flex flex-column justify-content-between">\n        <div class="d-flex justify-content-end align-items-center">\n          <i fa [name]="\'pencil\'" class="icon text-primary ml-auto mr-2" (click)="edit(field, group.field_list, \'field\')"></i>\n          <i fa [name]="\'times\'" class="icon text-danger" (click)="delete(field, group.field_list, \'field\')"></i>\n        </div>\n        <b><small>(position: {{field.position}})</small></b>\n      </div>\n    </div>\n\n    <button type="button" class="btn btn-sm btn-primary my-2 align-self-start m-2" (click)="addField(group, group.id)">Add field</button>\n  </div>\n\n  <button type="button" class="btn btn-sm btn-primary mt-2" (click)="addGroup()">Add group</button>\n</div>\n\n<template #modal let-c="close" let-d="dismiss">\n  <div class="modal-content-wrapper">\n    <div class="modal-header-wrapper">\n      <div class="modal-header bg-primary text-white">\n        <h5 class="modal-title">{{(choosenType && fields[choosenType].label) || modalData.title}}</h5>\n        <button type="button" class="close ml-2" (click)="c()">\n          <span class="text-white" aria-hidden="true">&times;</span>\n        </button>\n      </div>\n    </div>\n\n    <div class="modal-body">\n      <div class="d-flex flex-column" *ngIf="modalData.type === \'field\' && !modalData.id && !choosenType">\n        <span\n          [ngClass]="{\'badge badge-default my-1 py-2\': i !== 1}"\n          [class.mb-4]="f"\n          style="cursor: pointer"\n          *ngFor="let type of types; let f = first; let i = index"\n          (click)="setType(type)">\n            {{fields[type].label}}\n        </span>\n      </div>\n      <generic-form\n        *ngIf="(modalData.type === \'field\' && choosenType) || modalData.type === \'group\'"\n        [data]="modalData.data"\n        [endpoint]="modalData.endpoint"\n        [id]="modalData.id"\n        (event)="formEvent($event, c, modalData.container, modalData.edit, modalData.type)">\n        <button type="submit" class="btn btn-primary">Save</button>\n      </generic-form>\n    </div>\n  </div>\n</template>\n'},1247:function(t,e){t.exports='<div *ngIf="!config.hide" class="form-group" [formGroup]="group" style="position: relative">\n  <label [attr.for]="key" *ngIf="label && config.templateOptions.label">\n    {{config.templateOptions.label}}\n  </label>\n  <input\n    *ngIf="!config.read_only"\n    class="form-control"\n    autocomplete="off"\n    #input\n    (blur)="eventHandler($event)"\n    (focus)="generateList()"\n    (keyup)=filter(key)\n    [formControlName]="key"\n    [attr.type]="config.templateOptions.type ? config.templateOptions.type : \'text\'"\n    [attr.id]="key"\n    [attr.name]="key"\n    [attr.placeholder]="config.templateOptions.placeholder ? config.templateOptions.placeholder : \'\'"\n    [readonly]="config.read_only"\n    [value]="config.value === 0 || config.value ? config.value : group.get(key).value === 0 || group.get(key).value ? group.get(key).value : \'\'">\n  <div *ngIf="config.read_only && config.type !== \'static\'" >{{(group && group.get(key).value) || \'\'}}</div>\n  <div *ngIf="config.type === \'static\'" >{{displayValue}}</div>\n  <div class="autocomplete" [hidden]="!(filteredList && filteredList.length) || hideAutocomplete">\n    <div class="autocomplete-list"\n      infinite-scroll\n      [infiniteScrollDistance]="modalScrollDistance"\n      [infiniteScrollThrottle]="modalScrollThrottle"\n      [scrollWindow]="false"\n      (scrolled)="onModalScrollDown()">\n      <ul class="list-group w-100">\n        <li class="list-group-item autocomplete-item p-1 pl-2" style="cursor: pointer"\n          *ngFor="let item of list"\n          (click)="select(item.name)">{{item.name}}</li>\n      </ul>\n    </div>\n  </div>\n  <small class="text-muted" *ngIf="config.templateOptions.description">\n    {{config.templateOptions.description}}\n  </small>\n  <div *ngIf="errors">\n    <div class="text-danger mt-1" *ngIf="errors[config.key]">{{errors[config.key]}}</div>\n  </div>\n  <div *ngIf="message">\n    <div *ngIf="message[config.key]" class="text-success mt-1">{{message[config.key]}}</div>\n  </div>\n</div>\n\n'},1248:function(t,e){t.exports='<h5 class="bg-primary text-white">\n  <i\n    fa\n    class="p-2"\n    [name]="isCollapsed ? \'eye\' : \'eye-slash\'"\n    [border]=false\n    (click)="isCollapsed = !isCollapsed"\n    [attr.aria-expanded]="!isCollapsed"\n    aria-controls="collapseExample"\n    style="cursor: pointer"></i>\n  {{config.templateOptions.label}}\n</h5>\n<div id="collapseExample" [ngbCollapse]="isCollapsed" class="px-2">\n  <generic-list [endpoint]="config.endpoint" [inForm]="true" [data]="data"></generic-list>\n</div>\n\n'},1249:function(t,e){t.exports='<div *ngIf="!config.hide" class="form-group" style="position: relative">\n  <label [attr.for]="key" *ngIf="config.templateOptions.label">\n    {{config.templateOptions.label}}\n  </label>\n\n  <div class="form-group">\n    <div class="row mb-2 align-items-center" *ngFor="let option of optionsArray; let f = first">\n      <div class="col-11 col-md-5">\n        <input\n        type="text"\n        class="form-control"\n        placeholder="Label"\n        [(ngModel)]="option.label"\n        (ngModelChange)="updateValue()">\n      </div>\n      <div class="col-11 col-md-5">\n        <input\n          type="text"\n          class="form-control"\n          placeholder="Value"\n          [(ngModel)]="option.value"\n          (ngModelChange)="updateValue()">\n      </div>\n      <div class="col-1 col-md-2">\n        <i *ngIf="!f" fa [name]="\'times\'" class="icon text-danger" (click)="deleteOption(option)"></i>\n      </div>\n    </div>\n  </div>\n\n  <button type="button" class="btn btn-sm btn-primary" (click)="addOption()">Add Option</button>\n\n  <small class="text-muted" *ngIf="config.templateOptions.description">\n    {{config.templateOptions.description}}\n  </small>\n  <div *ngIf="errors">\n    <div class="text-danger mt-1" *ngIf="errors[config.key]">{{errors[config.key]}}</div>\n  </div>\n  <div *ngIf="message">\n    <div *ngIf="message[config.key]" class="text-success mt-1">{{message[config.key]}}</div>\n  </div>\n</div>\n'},1250:function(t,e){t.exports='<div class="form-group">\n  <label *ngIf="label && config.templateOptions.label">{{config.templateOptions.label}}</label>\n  <input\n    #picture\n    accept="image/*"\n    [attr.type]="\'file\'"\n    [hidden]="true"\n    [attr.id]="key"\n    (change)="fileChangeEvent($event)"\n    [attr.name]="key">\n  <div class="d-flex align-items-center flex-wrap">\n    <button type="button" class="btn btn-primary btn-sm text-white d-flex align-items-center"\n      (click)="upload()">\n      <i fa class="mr-1"\n        [name]="\'upload\'"></i>\n      {{config.templateOptions.label_upload}}\n    </button>\n    <span class="p-1">or</span>\n    <button type="button" class="btn btn-success btn-sm text-white d-flex"\n      (click)="open()">\n      <i fa class="mr-1"\n        [name]="\'camera\'"></i>\n      {{config.templateOptions.label_photo}}\n    </button>\n  </div>\n  <div class="mt-1" *ngIf="fileName"><i class="text-muted">file:</i> {{fileName}}</div>\n  <small class="text-muted" *ngIf="config.templateOptions.description">\n    {{config.templateOptions.description}}\n  </small>\n  <div *ngIf="errors">\n    <div class="text-danger mt-1" *ngIf="errors[key]">{{errors[key]}}</div>\n  </div>\n  <div *ngIf="message">\n    <div *ngIf="message[key]" class="text-success mt-1">{{message[key]}}</div>\n  </div>\n</div>\n\n<template #modal let-c="close">\n  <div class="modal-header">\n    <h5 class="modal-title">{{config.templateOptions.label_photo}}</h5>\n    <button type="button" class="close" (click)="c()">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n\n  <div class="modal-body picture d-inline-block d-flex justify-content-around flex-wrap" style="overflow: auto">\n    <ng2-webcam class="d-flex align-items-center" [options]="options" [onSuccess]="onSuccess" [onError]="onError"></ng2-webcam>\n    <div class="photo d-flex justify-content-center align-items-center">\n      <span *ngIf="!photoExist" class="text-white">Photo</span>\n      <canvas [hidden]="!photoExist"></canvas>\n    </div>\n  </div>\n\n  <div class="modal-footer justify-content-start">\n    <button *ngIf="photoExist" type="button" class="btn btn-success" (click)="save(c)">Save</button>\n    <button type="button" class="btn btn-primary" (click)="getPhoto()">{{photoExist ? \'Try again\' : config.templateOptions.label_photo}}</button>\n    <button type="button" class="btn btn-secondary" (click)="c()">Cancel</button>\n  </div>\n</template>\n'},1251:function(t,e){t.exports='<div *ngIf="!(config.editForm && config.read_only) && !config.hide">\n  <div *ngIf="!config.list" class="form-group" [formGroup]="group">\n    <div *ngIf="!config.many" style="position: relative">\n      <label *ngIf="label && config.templateOptions.label" [attr.for]="key">{{config.templateOptions.label}}</label>\n      <div class="d-flex align-items-center">\n        <div class="form-control custom-select autocomplete-value"\n          [ngClass]="{\'active\': !config.readonly}"\n          (click)="openAutocomplete()">\n          <div style="overflow: hidden; white-space: nowrap">{{displayValue}}</div>\n          <template *ngIf="!config.options && !displayValue" [ngTemplateOutlet]="spinner"></template>\n        </div>\n        <div class="btn-group" role="group"\n          *ngIf="config.options && (config.templateOptions.add || config.templateOptions.edit || config.templateOptions.delete)" >\n          <button type="button" class="btn btn-secondary"\n            *ngIf="config.templateOptions.edit && displayValue"\n            (click)="open(\'edit\')">\n            <i fa class="text-primary icon"\n              [name]="\'pencil\'"></i>\n          </button>\n          <button type="button" class="btn btn-secondary"\n            *ngIf="config.templateOptions.add"\n            (click)="open(\'add\')">\n            <i fa class="text-success icon"\n              [name]="\'plus\'" ></i>\n          </button>\n          <button type="button" class="btn btn-secondary"\n            *ngIf="config.templateOptions.delete && displayValue"\n            (click)="open(\'delete\')">\n            <i fa class="text-danger icon"\n              [name]="\'times\'"></i>\n          </button>\n        </div>\n      </div>\n\n      <div class="card autocomplete p-1" [hidden]="hideAutocomplete">\n        <input type="text" class="form-control mb-1" autocomplete="off"\n          #search\n          [(ngModel)]="searchValue"\n          [ngModelOptions]="{standalone: true}"\n          (blur)="resetList()"\n          (keyup)="filter(searchValue)">\n        <div #autocomplete class="autocomplete-list"\n          infinite-scroll\n          [infiniteScrollDistance]="modalScrollDistance"\n          [infiniteScrollThrottle]="modalScrollThrottle"\n          [scrollWindow]="false"\n          (scrolled)="onModalScrollDown()"\n          [hidden]="!(previewList && previewList.length)">\n          <ul class="list-group w-100">\n            <li class="list-group-item autocomplete-item p-1 pl-2" style="cursor: pointer"\n              *ngFor="let option of previewList"\n              (click)="setValue(option)">{{option[display]}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div *ngIf="config.many" style="position: relative">\n      <label *ngIf="label && config.templateOptions.label" [attr.for]="key">{{config.templateOptions.label}}</label>\n      <input type="text" class="form-control custom-select autocomplete-value" autocomplete="off"\n        [(ngModel)]="searchValue"\n        [ngModelOptions]="{standalone: true}"\n        [ngClass]="{\'active\': !config.readonly}"\n        (focus)="generateList()"\n        (blur)="resetList()"\n        (keyup)="filter(searchValue)">\n      <template *ngIf="!config.options" [ngTemplateOutlet]="spinner"></template>\n        <div class="autocomplete" [hidden]="!(previewList && previewList.length)">\n          <div class="autocomplete-list"\n            infinite-scroll\n            [infiniteScrollDistance]="modalScrollDistance"\n            [infiniteScrollThrottle]="modalScrollThrottle"\n            [scrollWindow]="false"\n            (scrolled)="onModalScrollDown()">\n            <ul class="list-group w-100">\n              <li class="list-group-item autocomplete-item p-1 pl-2" style="cursor: pointer"\n                *ngFor="let option of previewList"\n                (click)="setValue(option)">{{option[display]}}</li>\n            </ul>\n          </div>\n        </div>\n      <div class="d-flex flex-wrap align-items-center mt-2">\n        <span class="d-flex align-items-center badge badge-default mb-1 mr-2 p-2" style="white-space: normal"\n          *ngFor="let item of results; let i = index">\n          {{item[display]}}\n          <i fa class="text-white icon ml-2"\n            (click)="deleteItem(i)"\n            [name]="\'times\'"></i>\n        </span>\n      </div>\n    </div>\n\n    <small class="text-muted" *ngIf="config.templateOptions.description">\n      {{config.templateOptions.description}}\n    </small>\n    <div *ngIf="errors">\n      <div class="text-danger mt-1" *ngIf="errors[config.key]">{{errors[config.key]}}</div>\n    </div>\n    <div *ngIf="message">\n      <div *ngIf="message[config.key]" class="text-success mt-1">{{message[config.key]}}</div>\n    </div>\n  </div>\n\n  <div class="mb-3" *ngIf="config.list">\n    <h6 class="card flex-row align-items-center mb-0" [ngClass]="{\'bg-primary text-white\': !isCollapsed}">\n      <i\n        fa\n        class="p-2"\n        [name]="isCollapsed ? \'eye\' : \'eye-slash\'"\n        [border]=false\n        (click)="isCollapsed = !isCollapsed"\n        [attr.aria-expanded]="!isCollapsed"\n        aria-controls="collapseExample"\n        style="cursor: pointer"></i>\n          {{config.templateOptions.label}}\n    </h6>\n    <div #tableWrapper id="collapseExample" [ngbCollapse]="isCollapsed" class="list px-2">\n      <table *ngIf="dataOfList" class="table table-bordered mb-1">\n        <thead>\n          <tr>\n            <th *ngFor="let col of config.metadata">\n              {{col.templateOptions.label}}\n            </th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor="let object of dataOfList">\n            <td *ngFor="let field of object.metadata;">\n              <ng-container\n                formElement\n                [label]="false"\n                [config]="field"\n                [group]="object.data"\n                (event)="updateValue($event)">\n              </ng-container>\n            </td>\n            <td>\n              <span *ngIf="object.id" class="d-flex align-items-center justify-content-center">\n                <i fa class="icon text-danger" title="Delete"\n                  [name]="\'trash\'"\n                  (click)="deleteObject(object)"></i>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <a *ngIf="dataOfList" href="#" (click)="addObject($event)">\n          <i fa [name]="\'plus\'" class="icon text-success"></i>\n          Add {{config.templateOptions.label}}\n      </a>\n    </div>\n  </div>\n</div>\n\n<div class="form-group" *ngIf="config.editForm && config.read_only && !config.hide">\n  <label *ngIf="label && config.templateOptions.label">{{config.templateOptions.label}}</label><br>\n  <a *ngIf="!config.many" href="#" (click)="open(\'edit\', $event)">{{displayValue}}</a>\n  <div *ngIf="config.many && results">\n    <a *ngFor="let item of results" href="#" (click)="open(\'edit\', $event, item)">{{item[display]}}</a>\n  </div>\n</div>\n\n<template #modal let-c="close" let-d="dismiss">\n  <div class="modal-content-wrapper">\n    <div class="modal-header-wrapper">\n      <div class="modal-header bg-primary text-white">\n        <h5 class="modal-title">{{modalData.title}}</h5>\n        <button type="button" class="close ml-2" (click)="c()">\n          <span class="text-white" aria-hidden="true">&times;</span>\n        </button>\n      </div>\n    </div>\n\n    <div class="modal-body">\n      <div *ngIf="modalData.type !== \'delete\'">\n        <generic-form [endpoint]="modalData.endpoint" [id]="modalData.id" (event)="formEvent($event, c, type)">\n          <button type="submit" class="btn btn-primary">Save</button>\n        </generic-form>\n      </div>\n      <div *ngIf="modalData.type === \'delete\'">\n        Are you sure?\n      </div>\n    </div>\n\n    <div *ngIf="modalData.type === \'delete\'" class="modal-footer">\n      <button type="button" class="btn btn-danger"\n        (click)="deleteElement(c)">Delete</button>\n    </div>\n  </div>\n</template>\n\n<template #spinner>\n  <div class="sk-fading-circle">\n    <div class="sk-circle1 sk-circle"></div>\n    <div class="sk-circle2 sk-circle"></div>\n    <div class="sk-circle3 sk-circle"></div>\n    <div class="sk-circle4 sk-circle"></div>\n    <div class="sk-circle5 sk-circle"></div>\n    <div class="sk-circle6 sk-circle"></div>\n    <div class="sk-circle7 sk-circle"></div>\n    <div class="sk-circle8 sk-circle"></div>\n    <div class="sk-circle9 sk-circle"></div>\n    <div class="sk-circle10 sk-circle"></div>\n    <div class="sk-circle11 sk-circle"></div>\n    <div class="sk-circle12 sk-circle"></div>\n  </div>\n</template>\n\n'},1252:function(t,e){t.exports='<div class="form-group">\n  <label *ngIf="label && config.templateOptions.label">{{config.templateOptions.label}}</label>\n\n  <div class="card p-2 mb-3">\n    <dynamic-form [config]="config.activeMetadata" (event)="changeActiveStates($event)"></dynamic-form>\n\n    <div class="d-flex flex-wrap align-items-center pb-2" *ngFor="let item of view; let last = last">\n      <div class="btn-group-sm mr-3 mb-1">\n        <label class="btn btn-primary mb-0" [(ngModel)]="item.operator" btnRadio="or">or</label>\n        <label class="btn btn-primary mb-0" [(ngModel)]="item.operator" btnRadio="and">and</label>\n      </div>\n\n      <span class="pr-1">#{{item.id}}</span>\n\n      <span *ngFor="let value of item.values; let last = last; let i = index">\n        <span class="badge badge-default p-2 mb-1">\n          {{value}}\n          <i fa class="icon pl-2"\n            (click)="open(element, item.type, item, i)"\n            [name]="\'pencil\'"></i>\n        </span>\n\n        <span class="px-2"\n          *ngIf="!last">{{item.operator}}</span>\n      </span>\n\n      <i fa class="icon pl-2 text-success"\n        [name]="\'plus\'"\n        (click)="open(element, item.type, item)"></i>\n    </div>\n\n    <div>\n      <button type="button" class="btn btn-primary btn-sm"\n        (click)="addNewRule()"\n        [disabled]="view.length && view[view.length - 1].values.length < 1">Add rule</button>\n      <button type="button" class="btn btn-primary btn-sm"\n        (click)="showPreview()"\n        [disabled]="view.length < 1">Preview</button>\n    </div>\n\n    <div class="mt-2" *ngFor="let item of previewRule">\n      <b>{{item.label}}s:</b>&nbsp;{{item.value}}\n    </div>\n  </div>\n\n  <small class="text-muted"\n    *ngIf="config.templateOptions.description">\n    {{config.templateOptions.description}}\n  </small>\n  <div *ngIf="errors">\n    <div class="text-danger mt-1"\n      *ngIf="errors[key]">{{errors[key]}}</div>\n  </div>\n  <div *ngIf="message">\n    <div class="text-success mt-1"\n      *ngIf="message[key]">{{message[key]}}</div>\n  </div>\n</div>\n\n<template #element let-c="close" let-d="dismiss">\n  <div class="modal-body">\n    <span *ngIf="editValue">{{editValue}}</span>\n    <hr *ngIf="editValue">\n    <div class="btn-group-sm mr-3 mb-1">\n      <label *ngIf="!(addType !== \'new\' && ruleArray.length === 0)" class="btn btn-primary mb-0" [(ngModel)]="choice" btnRadio="state" (click)="elementValue = \'\'">State</label>\n      <label *ngIf="addType === \'function\' || addType === \'new\'" class="btn btn-primary mb-0" [(ngModel)]="choice" btnRadio="function" (click)="elementValue = \'\'">Function</label>\n      <label *ngIf="ruleArray.length" class="btn btn-primary mb-0" [(ngModel)]="choice" btnRadio="rule" (click)="elementValue = \'\'">Rule</label>\n    </div>\n\n    <div [ngSwitch]="choice">\n      <div *ngSwitchCase="\'state\'">\n        <div class="form-group mt-2">\n          <label for="state">State</label>\n          <select class="form-control custom-select"\n            (focus)="generateArray(\'options\')"\n            [(ngModel)]="elementValue">\n            <option *ngFor="let el of statesArray" [value]="el.name_before_activation">{{el.name_before_activation}}</option>\n          </select>\n        </div>\n      </div>\n\n      <div *ngSwitchCase="\'function\'">\n        <div class="form-group mt-2">\n          <label for="app">App</label>\n          <select class="form-control custom-select" id="app"\n            (focus)="generateArray(\'app\')"\n            (change)="getRelatedData(\'model\')"\n            [(ngModel)]="app">\n            <option *ngFor="let el of appsArray" [value]="el">{{el}}</option>\n          </select>\n\n          <div *ngIf="this.config.model">\n            <label for="model" class="mt-2">Model</label>\n            <select class="form-control custom-select" id="model"\n              (focus)="generateArray(\'model\')"\n              (change)="getRelatedData(\'function\')"\n              [(ngModel)]="model">\n              <option *ngFor="let el of modelsArray" [value]="el">{{el}}</option>\n            </select>\n          </div>\n\n          <div *ngIf="this.config.function">\n            <label for="function" class="mt-2">Function</label>\n            <select class="form-control custom-select"\n              (focus)="generateArray(\'function\')"\n              [(ngModel)]="elementValue">\n              <option *ngFor="let el of functionsArray" [value]="el">{{el}}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div *ngSwitchCase="\'rule\'">\n        <div class="form-group mt-2">\n          <label for="rule">Rule</label>\n          <select class="form-control custom-select" [(ngModel)]="elementValue">\n            <option *ngFor="let el of ruleArray">{{el.name}}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-success"\n      (click)="done(c, choice)"\n      [disabled]="!elementValue">Done</button>\n    <button type="button" class="btn btn-danger"\n      (click)="delete(c)"\n      *ngIf="editIndex === 0 || editIndex">Delete</button>\n    <button type="button" class="btn btn-danger" (click)="c()">Cancel</button>\n  </div>\n</template>\n'},1253:function(t,e){t.exports='<div class="form-group" [formGroup]="group">\n  <label *ngIf="label && config.templateOptions.label" [attr.for]="key">{{config.templateOptions.label}}</label>\n  <select\n    class="form-control custom-select"\n    #select\n    (change)="eventHandler($event)"\n    [formControlName]="key"\n    [attr.id]="key"\n    [attr.name]="key">\n      <option class="text-muted" value="" [disabled]="true">{{config.templateOptions.label ? config.templateOptions.label : \'\'}}</option>\n      <option *ngFor="let option of config.templateOptions.options" [attr.value]="option.value" [selected]="group.get(key).value == option.value">{{option.label}}</option>\n  </select>\n  <small class="text-muted" *ngIf="config.templateOptions.description">\n    {{config.templateOptions.description}}\n  </small>\n  <div *ngIf="errors">\n    <div class="text-danger mt-1" *ngIf="errors[key]">{{errors[key]}}</div>\n  </div>\n  <div *ngIf="message">\n    <div *ngIf="message[key]" class="text-success mt-1">{{message[key]}}</div>\n  </div>\n</div>\n'},1254:function(t,e){t.exports='<div class="form-group" [formGroup]="group">\n  <label [attr.for]="key" *ngIf="label && config.templateOptions.label">\n    {{config.templateOptions.label}}\n  </label>\n  <textarea\n    class="form-control"\n    #textarea\n    [formControlName]="key"\n    [attr.type]="config.templateOptions.type ? config.templateOptions.type : \'text\'"\n    [attr.id]="key"\n    [attr.name]="key"\n    [attr.placeholder]="config.templateOptions.placeholder ? config.templateOptions.placeholder : \'\'"></textarea>\n  <small class="text-muted" *ngIf="config.templateOptions.description">\n    {{config.templateOptions.description}}\n  </small>\n  <div *ngIf="errors">\n    <div class="text-danger mt-1" *ngIf="errors[config.key]">{{errors[config.key]}}</div>\n  </div>\n  <div *ngIf="message">\n    <div *ngIf="message[config.key]" class="text-success mt-1">{{message[config.key]}}</div>\n  </div>\n</div>\n'},1255:function(t,e){t.exports='<div class="timeline">\n  <div *ngFor="let state of config.options; let l = last" class="d-inline-block mb-3">\n    <div class="d-flex flex-column">\n      <div class="timeline-element-wrapper" style="position: relative">\n        <div class="timeline-element card p-3"\n          [ngClass]="{\n            \'need-requirements\': state.state === 0,\n            \'allowed\': state.state === 1,\n            \'active\': state.state === 2,\n            \'visited\': state.state === 3,\n            \'not-allowed\': state.state === 4\n          }"\n          (click)="open(state)">\n          <span *ngIf="state.state === 2">\n            {{(state.name_after_activation) ? state.name_after_activation : state.name_before_activation}}\n          </span>\n          <span *ngIf="state.state !== 2">\n            {{state.name_before_activation}}\n          </span>\n        </div>\n        <i fa class="mx-3"\n          *ngIf="!l"\n          [name]="\'chevron-right\'"></i>\n        <div class="timeline-requirements"\n          *ngIf="state.state === 0 && state.requirements && state.requirements.length > 0">\n          <div class="timeline-requirements-item p-2">\n            <h6>Requirements:</h6>\n            <ul class="list-unstyled m-0">\n              <li *ngFor="let item of state.requirements; let i = index">{{i + 1}}.&nbsp;{{item}}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<template #stateModal let-c="close" let-d="dismiss">\n  <div class="modal-content-wrapper">\n    <div class="modal-header">\n      <h5 class="modal-title">{{modalData.title}}</h5>\n      <button type="button" class="close" (click)="c()">\n        <span aria-hidden="true">&times;</span>\n      </button>\n    </div>\n\n    <div class="modal-body" *ngIf="modalData">\n      <generic-form [endpoint]="objectEndpoint" [id]="modalData.id" [data]="stateData" (event)="sendEventHandler($event, c)">\n        <button type="submit" class="btn btn-primary">Save</button>\n      </generic-form>\n    </div>\n  </div>\n</template>\n'},1256:function(t,e){t.exports='<div class="form-group">\n  <label>{{config.templateOptions.label}}</label>\n  <div class="vacancy-dates-wrapper mb-2">\n    <ngb-datepicker\n      [ngModel]="vacancyDate"\n      [minDate]="minDate"\n      [displayMonths]="displayMonths"\n      [navigation]="navigation"\n      (ngModelChange)="selectVacancyDate($event)"></ngb-datepicker>\n  </div>\n\n  <div class="d-flex align-items-center flex-wrap">\n    <div class="vacancy-dates d-flex justify-content-between align-items-center p-2 m-2"\n      *ngFor="let vacancyDate of vacancyDates">\n      <span class="text-muted">{{vacancyDate.shift_date}}</span>\n      <input type="number" min="0" class="workers form-control"\n        [(ngModel)]="vacancyDate.workers">\n      <i fa class="icon text-danger" [name]="\'close\'" (click)="removeVacancyDate(vacancyDate)"></i>\n    </div>\n  </div>\n</div>\n\n'},1257:function(t,e){t.exports='<div [ngClass]="{\'d-flex justify-content-center align-items-center\': modal}">\n  <div [ngClass]="{\'col-12 col-sm-9 col-md-9 col-lg-9 mt-3\': modal}">\n    <div [ngClass]="{\'card\': modal}">\n      <h5 *ngIf="modal" class="card-header p-3 bg-primary text-white">{{title}}</h5>\n      <div [ngClass]="{\'card-content p-3\': modal}">\n        <div *ngIf="!show" class="spinner">\n          <div class="double-bounce1"></div>\n          <div class="double-bounce2"></div>\n        </div>\n        <dynamic-form\n          *ngIf="show"\n          [commonFields]="commonFields"\n          [config]="metadata"\n          [errors]="errors"\n          [message]="response"\n          [data]="data"\n          (submit)="submitForm($event)"\n          (formChange)="formChange($event)"\n          (event)="eventHandler($event)"\n          (buttonAction)="buttonActionHandler($event)">\n          <ng-content></ng-content>\n        </dynamic-form>\n      </div>\n    </div>\n  </div>\n</div>\n'},1258:function(t,e){t.exports='<div class="datatable-wrapper" *ngFor="let table of tables; let last = last" [ngClass]="{\'pb-3\': last && minimizedTable.length}">\n  <dynamic-list\n    *ngIf="table.metadata && table.data"\n    [config]="table.metadata"\n    [data]="table.data"\n    [refresh]="table.refresh"\n    [first]="table.first"\n    [id]="table.id"\n    [active]="table.active"\n    [limit]="table.limit"\n    [offset]="table.offset"\n    [sorted]="table.sorted"\n    [innerTables]="table.innerTables"\n    [update]="table.update"\n    [minimized]="table.minimized"\n    [maximize]="table.maximize"\n    [endpoint]="table.endpoint"\n    [parentEndpoint]="table.parentEndpoint"\n    [inForm]="inForm"\n    [actionData]="table.actionData"\n    (list)="listHandler($event)"\n    (event)="eventHandler($event)">\n  </dynamic-list>\n  <div *ngIf="!(table.metadata && table.data)" class="spinner">\n    <div class="double-bounce1"></div>\n    <div class="double-bounce2"></div>\n  </div>\n</div>\n\n<div #list class="d-flex justify-content-start datatable-list pt-2 flex-wrap" *ngIf="minimizedTable.length">\n  <ng-container *ngFor="let table of minimizedTable">\n    <div class="datatable-item px-1 pt-1">\n      <div class="card">\n        <div class="card-header bg-primary text-white">\n          <h6 class="d-flex justify-content-between align-items-center mb-0">\n            <span class="mr-3 title" placement="top" ngbTooltip="{{table.metadata.list.label}}">{{table.metadata.list.label}}</span>\n            <div class="d-flex fustify-content-center align-items-center">\n              <i fa\n                class="ml-2 icon"\n                [name]="\'window-minimize\'"\n                [border]="true"\n                (click)="action(\'minimize\', table)"\n                aria-hidden="true"></i>\n              <i fa\n                class="ml-2 icon"\n                [name]="\'window-maximize\'"\n                [border]="true"\n                (click)="action(\'maximize\', table)"\n                aria-hidden="true"></i>\n              <i fa\n                class="ml-2 icon"\n                [name]="\'times\'"\n                [border]="true"\n                (click)="action(\'close\', table)"\n                aria-hidden="true"></i>\n            </div>\n          </h6>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</div>\n'},1259:function(t,e){t.exports='<i\n  *ngIf="!config.values"\n  fa\n  [class.text-danger]="config.value === false"\n  [class.text-success]="config.value === true"\n  [class.text-muted]="config.value == null"\n  [name]="config.value ? \'check-circle\' : config.value === false ? \'times-circle\' : \'minus-circle\'"\n  [border]="true">\n</i>\n<span *ngIf="config.values">{{value}}</span>\n'},1260:function(t,e){t.exports='<img *ngIf="src" [src]="src" alt="avatar" width="40" height="40">\n<i *ngIf="icon" fa [name]="icon" [ngClass]="[iconClass]"></i>\n'},1261:function(t,e){t.exports='<a class="link" [attr.href]="href" *ngIf="config.value && !link">{{config.value}}</a>\n<a class="link" routerLink="{{href}}" *ngIf="link && config.link">\n  {{value}}\n  <span *ngIf="config.fields">\n    <ng-container\n      *ngFor="let field of config.fields"\n      listElement\n      [config]="field"></ng-container>\n  </span>\n</a>\n<a class="link" #link *ngIf="config.endpoint" href="" (click)="action($event)">\n  {{value}}\n  <span *ngIf="config.fields">\n    <ng-container\n      *ngFor="let field of config.fields"\n      listElement\n      [config]="field"\n      (event)="eventHandler($event)"\n      (buttonAction)="buttonHandler($event)"></ng-container>\n  </span>\n</a>\n\n<br *ngIf="config.value">\n'},1262:function(t,e){t.exports='<form action="" class="search-bar form-group" (ngSubmit)="search($event)">\n  <input\n    [(ngModel)]="searchValue"\n    [ngModelOptions]="{standalone: true}"\n    type="form-control"\n    placeholder="Search...">\n  <i fa [name]="\'search\'" class="search-icon icon" (click)="search($event)"></i>\n</form>\n'},1263:function(t,e){t.exports='<table lass="table-sm table-striped" style="width: 100%">\n  <thead class="thead-default hidden-sm-down" >\n    <tr>\n      <th *ngFor="let field of config.metadata.list.columns;" class="align-middle">{{field.label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor="let row of config.body">\n      <td *ngFor="let cell of row.content" [attr.data-label]="cell.label">\n        <ng-container\n          listElement\n          [config]="cell.content">\n        </ng-container>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},1264:function(t,e){t.exports='<div class="d-flex align-items-center flex-wrap mb-1" *ngIf="config.value || config.value === 0" style="width: 100%">\n  <span [ngClass]="{\'label\': length > 1}" *ngIf="config.label">{{config.label + \':\'}} </span>{{config.value}}\n</div>\n'},1265:function(t,e){t.exports='<form [formGroup]="form" (ngSubmit)="handleSubmit($event)">\n  <ng-container\n    *ngFor="let field of config;"\n    formElement\n    [config]="field"\n    [group]="form"\n    [errors]="errors"\n    (event)="eventHandler($event)"\n    (buttonAction)="buttonActionHandler($event)"\n    [message]="message">\n  </ng-container>\n  <div *ngIf="errors">\n    <div class="text-danger mt-1 mb-3" *ngIf="errors.non_field_errors">\n      <div *ngFor="let error of errors.non_field_errors">{{error}}</div>\n    </div>\n  </div>\n  <div *ngIf="message">\n    <div *ngIf="message.message" class="text-success mt-1 mb-3">{{message.message}}</div>\n  </div>\n  <ng-content></ng-content>\n</form>\n'},1266:function(t,e){t.exports='<div #datatable [ngClass]="{\'poped card p-0\': poped}" class="mw-100 datatable" (click)="activeTable()" [hidden]="minimized">\n  <div move [parent]="datatable" *ngIf="poped" class="card-header bg-primary text-white" (active)="activeTable($event)">\n    <h5 class="d-flex justify-content-between align-items-center mb-0 lead" *ngIf="config.list">\n      <span [ngClass]="{\'mr-5\': poped}">{{config.list.label}}</span>\n      <div class="d-flex fustify-content-center align-items-center">\n        <i \n          fa\n          class="ml-2 icon"\n          [name]="\'window-minimize\'"\n          [border]="true"\n          (click)="minimizeTable()"\n          aria-hidden="true"></i>\n        <i\n          fa\n          class="ml-2 icon"\n          [name]="\'window-maximize\'"\n          [border]="true"\n          (click)="unpopedTable()"\n          aria-hidden="true"></i>\n        <i\n          fa\n          class="ml-2 icon"\n          [name]="\'times\'"\n          [border]="true"\n          (click)="closeTable()"\n          aria-hidden="true"></i>\n      </div>\n    </h5>\n  </div>\n  <div [class.card-block]="poped" class="datatable-body">\n    <div class="filter-wrapper" *ngIf="(first || poped) && filtersOfList && filtersOfList.length">\n      <filter-block [config]="filtersOfList" (event)="filterHandler($event)"></filter-block>\n    </div>\n    <action-element *ngIf="config.list.actions" [config]="config.list.actions" (event)="actionHandler($event)"></action-element>\n    <h5 class="datatable-label" *ngIf="config.list && !poped">\n      <span class="mr-auto">select {{config.list.label}} to change</span>\n      <list-search-bar *ngIf="config.list.search_enabled" [list]="config.list.list" (event)="filterHandler($event)"></list-search-bar>\n      <div>\n        <list-buttons\n          [buttons]="config.list.buttons"\n          [first]="first"\n          [inForm]="inForm"\n          [label]="config.list.label"\n          [poped]="poped"\n          (event)="buttonAction($event)">\n        </list-buttons>\n      </div>\n    </h5>\n    <div *ngIf="poped">\n      <list-buttons\n        [buttons]="config.list.buttons"\n        [first]="first"\n        [inForm]="inForm"\n        [label]="config.list.label"\n        [poped]="poped"\n        (event)="buttonAction($event)">\n      </list-buttons>\n    </div>\n    <div class="tabs d-flex flex-wrap justify-content-around align-items-center">\n      <div class="tab py-2 mx-2"\n        *ngFor="let tab of tabs"\n        (click)="changeTab(tab)">\n        <i fa [name]="tab.is_collapsed ? \'eye\' : \'eye-slash\'"></i>\n        {{tab.label}}\n      </div>\n    </div>\n    <div #tableWrapper class="table-wrapper">\n      <table class="table table-sm" *ngIf="config.list">\n        <thead class="thead-default hidden-sm-down">\n          <tr>\n            <th *ngIf="!config.list.buttons || config.list.buttons.length > 0" class="text-center" style="width: 2rem">\n              *\n              <input type="checkbox" *ngIf="config.list.actions" [(ngModel)]="selectedAll" (ngModelChange)="selectAll()">\n            </th>\n            <th *ngFor="let field of config.list.columns;"\n              [class.datatable-title-hover]="field.sort"\n              [hidden]="field.tab && field.tab.is_collapsed">\n                <i fa\n                  *ngIf="field.sorted"\n                  [name]="field.sorted === \'desc\' ? \'sort-desc\' : \'sort-asc\'"\n                  [border]=true\n                  class="pr-2 icon"\n                  (click)="sorting(field)"></i>\n                <i fa\n                  *ngIf="field.sorted"\n                  [name]="\'sort\'"\n                  [border]=true\n                  class="pr-2 text-muted icon"\n                  (click)="resetSort(field, true)"></i>\n                <ng-container\n                  listElement\n                  [head]="true"\n                  [config]="field"\n                  (event)="sorting(field)">\n                </ng-container>\n            </th>\n          </tr>\n        </thead>\n        <tbody *ngIf="body && !refresh">\n          <tr *ngFor="let row of body"\n            [class.table-warning]="row.highlight && row.highlight.highlight"\n            [ngStyle]="row.highlight && row.highlight.color && {\'background-color\': row.highlight.color}">\n            <td *ngIf="!config.list.buttons || config.list.buttons.length > 0">\n              <div class="d-flex flex-md-column justify-content-between align-items-center">\n                <input type="checkbox" *ngIf="config.list.actions" [(ngModel)]="select[row.id]" [checked]="select[row.id]">\n                <a class="d-flex mt-md-2 ml-auto ml-md-0" *ngIf="first && !inForm" [routerLink]="[row.id + \'/change\']">\n                  <i fa [name]="\'pencil\'" class="icon text-warning"></i>\n                </a>\n                <i fa *ngIf="!first || inForm"\n                  [name]="\'pencil\'" class="icon text-warning ml-auto ml-md-0"\n                  (click)="editObject(row.id, row.__str__)"></i>\n              </div>\n            </td>\n            <td *ngFor="let cell of row.content" [attr.data-label]="cell.label" [hidden]="cell.tab && cell.tab.is_collapsed">\n              <div class="d-flex justify-content-between">\n                <ng-container\n                  listElement\n                  [config]="cell.content"\n                  (event)="eventHandler($event)"\n                  (buttonAction)="buttonHandler($event)">\n                </ng-container>\n                <div *ngIf="cell.contextMenu" ngbDropdown class="d-inline-block">\n                  <i fa\n                    id="dropdownBasic1"\n                    class="text-muted p-2 icon"\n                    [class.dropdown-toggle]="false"\n                    [name]="\'ellipsis-v\'"\n                    [border]=true\n                    ngbDropdownToggle></i>\n                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownBasic1">\n                    <button class="dropdown-item" *ngFor="let field of cell.contextMenu" (click)="openModal(modal, field)">{{field.label}}</button>\n                  </div>\n                </div>\n              </div>\n              <div *ngIf="innerTables && innerTables[row.id] && innerTables[row.id][cell.name]">\n                <list-table *ngIf="innerTables[row.id][cell.name].body" [config]="innerTables[row.id][cell.name]"></list-table>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div *ngIf="refresh" class="spinner">\n        <div class="double-bounce1"></div>\n        <div class="double-bounce2"></div>\n      </div>\n    </div>\n    <div class="pagination d-flex flex-wrap align-items-center py-3">\n      <ngb-pagination\n        [collectionSize]="pageSize"\n        [(page)]="page"\n        [maxSize]="2"\n        [rotate]="true"\n        [ellipses]="true"\n        [boundaryLinks]="true"\n        size="sm"\n        (pageChange)="pageChange()">\n      </ngb-pagination>\n      <div class="ml-2">{{data.count}} {{config.list.label}}</div>\n    </div>\n  </div>\n</div>\n\n\n<template #modal let-c="close" let-d="dismiss">\n  <div class="modal-content-wrapper">\n    <div class="modal-header-wrapper">\n      <div class="modal-header bg-primary text-white">\n        <h5 class="modal-title">{{modalInfo.label}}</h5>\n        <button type="button" class="close ml-2" aria-label="Close" (click)="d(\'Cross click\')">\n          <span class="text-white" aria-hidden="true">&times;</span>\n        </button>\n      </div>\n    </div>\n    <div class="modal-body" [ngSwitch]="modalInfo.type">\n      <generic-form [endpoint]="modalInfo.endpoint" [data]="modalInfo.data" [id]="modalInfo.id" *ngSwitchCase="\'form\'" (event)="formEvent($event, c)">\n        <button type="submit" class="btn btn-secondary bg-primary text-white">Save</button>\n      </generic-form>\n      <sebm-google-map [latitude]="modalInfo.latitude" [longitude]="modalInfo.longitude" *ngSwitchCase="\'map\'">\n        <sebm-google-map-marker [latitude]="modalInfo.latitude" [longitude]="modalInfo.longitude"></sebm-google-map-marker>\n      </sebm-google-map>\n    </div>\n  </div>\n</template>\n\n<template #confirmModal let-c="close">\n  <div class="modal-header">\n    <p>{{modalInfo.message}}</p>\n    <button type="button" class="close" aria-label="Close" (click)="d(false)">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="modal-footer">\n    <button type="button" class="btn btn-secondary" (click)="callAction(modalInfo, c)">{{modalInfo.agree_label}}</button>\n    <button type="button" class="btn btn-secondary" (click)="c(false)">{{modalInfo.decline_label}}</button>\n  </div>\n</template>\n\n<template #evaluateModal let-c="close">\n  <div class="modal-header">\n    <div class="d-flex align-items-center">\n      <img class="mr-2" [src]="modalInfo.label.picture" alt="Photo" width="40" height="40">\n      <h5 class="mb-0">{{modalInfo.label.name}}</h5>\n    </div>\n    <button type="button" class="close" aria-label="Close" (click)="c(false)">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="modal-body">\n    <generic-form\n      [needData]="modalInfo.needData"\n      [endpoint]="modalInfo.endpoint"\n      [data]="modalInfo.data"\n      [edit]="modalInfo.edit"\n      (event)="evaluateEvent($event, c)">\n        <button class="btn btn-primary mr-auto text-white">Submit</button>\n    </generic-form>\n  </div>\n</template>\n\n<template #sendMessageModal let-c="close">\n  <div class="modal-body">\n    <iframe class="send-sms" [src]="modalInfo.url" frameborder="0"></iframe>\n    <br>\n  </div>\n</template>\n\n<template #showPreviewInvoice>\n  <div class="modal-body">\n    <pdf-viewer [src]="modalInfo.url" [render-text]="true" style="display: block;"></pdf-viewer>\n    <br>\n  </div>\n</template>\n'},1267:function(t,e){t.exports='  <div class="filter-block" [class.filter-block-collapsed]="direction === \'right\'">\n    <div class="filter-block-label">\n      <span>Filter</span>\n      <i fa [name]="\'filter\'"></i>\n    </div>\n    <div *ngFor="let field of config;">\n      <ng-container\n        filterElement\n        (event)="changeQuery($event)"\n        [config]="field">\n      </ng-container>\n    </div>\n  </div>\n'},1268:function(t,e){t.exports='<h6 class="card flex-row align-items-center mb-3" [ngClass]="{\'bg-primary text-white\': !isCollapsed}">\n  <i\n    fa\n    class="p-2"\n    [name]="isCollapsed ? \'eye\' : \'eye-slash\'"\n    [border]=false\n    (click)="isCollapsed = !isCollapsed"\n    [attr.aria-expanded]="!isCollapsed"\n    aria-controls="collapseExample"\n    style="cursor: pointer"></i>\n  {{config.name}}\n</h6>\n<div id="collapseExample" [ngbCollapse]="isCollapsed" class="px-2">\n  <ng-container *ngFor="let field of config.children;"\n    formElement\n    [config]="field"\n    [group]="group"\n    [errors]="errors"\n    (event)="eventHandler($event)"\n    (buttonAction)="buttonActionHandler($event)"\n    [message]="message">\n  </ng-container>\n</div>\n'},1269:function(t,e){t.exports='<div class="row" [hidden]="config.hide" style="display: block">\n  <div class="col-12 col-md" *ngFor="let field of config.children;">\n    <ng-container\n      formElement\n      [config]="field"\n      [group]="group"\n      [errors]="errors"\n      (event)="eventHandler($event)"\n      (buttonAction)="buttonActionHandler($event)"\n      [message]="message">\n    </ng-container>\n  </div>\n</div>\n'},1270:function(t,e){t.exports='<h5 *ngIf="config.name" class="bg-primary p-2 text-white">{{config.name}}</h5>\n<div class="row">\n  <div class="col-12 col-md" *ngFor="let field of config.children;">\n    <ng-container\n      formElement\n      [config]="field"\n      [group]="group"\n      [errors]="errors"\n      (event)="eventHandler($event)"\n      (buttonAction)="buttonActionHandler($event)"\n      [message]="message">\n    </ng-container>\n  </div>\n</div>\n'},1271:function(t,e){t.exports='<div class="d-flex align-items-center" [class.list-buttons]="first">\n  <div class="d-flex align-items-center flex-wrap ml-sm-auto"\n    *ngIf="buttons && buttons.length">\n      <div class="my-1" *ngFor="let button of buttons; let f = first; let l = last">\n        <a class="datatable-button first" routerLink="add"\n        [ngClass]="{\'mx-2\': !(f || l)}"\n        *ngIf="first && !inForm && button.action === \'add_object\'">\n          <i *ngIf="button.action === \'add_object\'" fa [name]="\'plus-circle\'" class="text-white"></i>\n            {{button.label}}\n        </a>\n        <button *ngIf="!first || inForm || button.action !== \'add_object\'" class="datatable-button"\n          [ngClass]="{\'mx-2\': !(f || l)}"\n          (click)="buttonAction(button.action)">\n            {{button.label}}\n        </button>\n      </div>\n  </div>\n  <div class="d-flex align-items-center ml-sm-auto w-100"\n    *ngIf="!buttons">\n    <a class="datatable-button first text-white" routerLink="add"\n      *ngIf="first && !inForm">\n        <i fa [name]="\'plus-circle\'" class="text-white mr-2"></i>\n        Add {{label}}\n      </a>\n      <button *ngIf="!first || inForm" class="datatable-button ml-auto"\n        (click)="buttonAction(\'add_object\')">\n        <i fa [name]="\'plus-circle\'" class="text-white mr-2"></i>\n        Add {{label}}\n      </button>\n  </div>\n  <button class="datatable-button hidden-sm-down ml-2"\n    *ngIf="!first && !poped"\n    (click)="buttonAction(\'poped_table\')">\n    <i\n      fa\n      [name]="\'window-restore\'"\n      [border]="true" class="text-white icon"\n      aria-hidden="true"></i>\n  </button>\n</div>\n'},1272:function(t,e){t.exports='<span *ngIf="head && !config.iconLabel" (click)="sort()">{{config.label}}</span>\n<span *ngIf="head && config.iconLabel" (clock)="sort()">\n  <i fa class="text-muted"\n    [name]="config.iconLabel"></i>\n</span>\n\n<div *ngIf="!head">\n  <ng-container\n    *ngFor="let field of config;"\n    listElement\n    [config]="field"\n    [length]="config.length"\n    (event)="eventHandler($event)"\n    (buttonAction)="buttonHandler($event)">\n  </ng-container>\n</div>\n'},1321:function(t,e){},1322:function(t,e){},1323:function(t,e){},1324:function(t,e){},1325:function(t,e,n){"use strict";function i(){return n.i(a.a)().bootstrapModule(r.a).then(s.a).catch((function(t){return console.error(t)}))}Object.defineProperty(e,"__esModule",{value:!0});var a=n(813),s=n(381),o=n(815),r=(n.n(o),n(814));e.main=i,n.i(o.bootloader)(i)},140:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23),o=n(546),r=(n.n(o),n(28)),l=n(5);n.n(l);n.d(e,"a",(function(){return c}));var c=(function(){function t(t,e,n){this.service=t,this.router=e,this.cookie=n,this.authEndpoint="/ecore/api/v2/auth/restore_session/",this.logoutEndpoint="/ecore/api/v2/auth/logout/"}return t.prototype.getUserData=function(){var t=this;return this.user?this.user?l.Observable.of(this.user):void 0:this.service.getAll(""+this.authEndpoint).map((function(e){return t.user=e,t.user})).catch((function(t){return l.Observable.throw(t)}))},t.prototype.logout=function(){var t=this;this.service.submitForm(this.logoutEndpoint,{1:""}).subscribe((function(e){"success"===e.status&&(t.user=null,t.cookie.remove("sessionid"),t.router.navigate(["/home"]))}),(function(e){return t.error=e}))},t})();c=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[r.a,s.c,o.CookieService])],c)},198:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(28);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.gfs=t,this.endpoint="/ecore/api/v2/endless-core/extranetnavigations/?limit=-1",this.userModelsEndpoint="/ecore/api/v2/endless-core/userdashboardmodules/?limit=-1",this.modelsListEndpoint="/ecore/api/v2/endless-core/dashboardmodules/?limit=-1"}return t.prototype.getPages=function(){var t=this;return this.gfs.getAll(this.endpoint).map((function(e){if(e.results)return t.navigationList=e.results,t.navigationList}))},t.prototype.getUserModules=function(){var t=this;return this.gfs.getAll(this.userModelsEndpoint).map((function(e){if(e.results)return t.userModels=e.results,t.userModels}))},t.prototype.getModules=function(){var t=this;return this.gfs.getAll(this.modelsListEndpoint).map((function(e){if(e.results)return t.models=e.results,t.models}))},t})();o=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[s.a])],o)},28:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(192),o=n(5),r=(n.n(o),n(159)),l=(n.n(r),n(371)),c=(n.n(l),n(546));n.n(c);n.d(e,"a",(function(){return d}));var d=(function(){function t(t,e){this.http=t,this.cookie=e}return t.prototype.getByQuery=function(t,e){var n=this,i=new s.b;return this.updateHeaders(i),this.http.get(""+t+e,{headers:i}).map((function(t){return t.json()})).catch((function(t){return n.errorHandler(t)}))},t.prototype.getAll=function(t){var e=this,n=new s.b;return this.updateHeaders(n),this.http.get(t,{headers:n}).map((function(t){return t.json()})).catch((function(t){return e.errorHandler(t)}))},t.prototype.getMetadata=function(t,e){var n=this;void 0===e&&(e="");var i=new s.b;return this.updateHeaders(i),this.http.options(""+t+e,{headers:i}).map((function(t){return t.json()})).catch((function(t){return n.errorHandler(t)}))},t.prototype.submitForm=function(t,e){var n=this,i=new s.b;return this.updateHeaders(i),this.http.post(t,e,{headers:i}).map((function(t){return t.json()})).catch((function(t){return n.errorHandler(t)}))},t.prototype.editForm=function(t,e){var n=this,i=new s.b;return this.updateHeaders(i),this.http.put(t,e,{headers:i}).map((function(t){return t.json()})).catch((function(t){return n.errorHandler(t)}))},t.prototype.callAction=function(t,e){var n=this,i=new s.b;return this.updateHeaders(i),this.http.post(t,e,{headers:i}).map((function(t){return t.json()})).catch((function(t){return n.errorHandler(t)}))},t.prototype.delete=function(t,e){var n=this,i=new s.b;return this.updateHeaders(i),this.http.delete(""+t+e+"/",{headers:i}).map((function(t){return t.json()})).catch((function(t){return n.errorHandler(t)}))},t.prototype.updateHeaders=function(t){t.append("X-CSRFToken",this.cookie.get("csrftoken"))},t.prototype.errorHandler=function(t){return o.Observable.throw(t.json())},t})();d=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[s.c,c.CookieService])],d)},284:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.buttonAction=new a.EventEmitter}return t.prototype.ngOnInit=function(){this.config.replace_by&&(this.config.replace_by instanceof Object?this.replacyValue=this.config.replace_by.__str__:this.replacyValue=this.config.replace_by),this.config.repeat&&this.config.templateOptions.icon?this.repeatArray=new Array(this.config.repeat):this.config.templateOptions.icon&&(this.repeatArray=[""]),this.customizeButton()},t.prototype.customizeButton=function(){var t=this.config.color,e=["primary","danger","info","success","warning"];this.buttonClass=e.indexOf(t)>-1?"btn-"+t:"",this.buttonClass||(this.buttonColor=t||"")},t.prototype.action=function(t){this.buttonAction.emit({type:t.type,el:this.config,value:this.config.templateOptions.action})},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"buttonAction",void 0),s=i.a([n.i(a.Component)({selector:"form-button",template:n(1243)})],s)},285:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(192),o=n(5),r=(n.n(o),n(159)),l=(n.n(r),n(371)),c=(n.n(l),n(790));n.n(c);n.d(e,"a",(function(){return d}));var d=(function(){function t(t){this.http=t}return Object.defineProperty(t.prototype,"username",{get:function(){return this._username},set:function(t){this._username=t},enumerable:!0,configurable:!0}),t.prototype.loginWithToken=function(t){this.username=null;var e="/ecore/api/v2/auth/"+t+"/login_by_token/";return this.http.get(e).map((function(t){return t.json()})).catch((function(t){return o.Observable.throw(t.json()||"Server error")}))},t})();d=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[s.c])],d)},381:function(t,e,n){"use strict";var i=n(86),a=n(0);n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l}));var s=[],o=function(t){return t};n.i(a.enableProdMode)(),o=function(t){return n.i(i.a)(),t},s=s.slice();var r=o,l=s.slice()},468:function(t,e,n){"use strict";var i=n(4),a=n(6),s=n(0),o=n(23),r=n(498),l=n(285),c=n(334);n.d(e,"a",(function(){return d}));var d=(function(){function t(t,e,n,i,a,s){this.fb=t,this.crs=e,this.loginService=n,this.route=i,this.storage=a,this.router=s,this.companyContactEndpoint="/ecore/api/v2/endless-core/companycontacts/register/",this.candidateContactEndpoint="/ecore/api/v2/endless-candidate/candidatecontacts/register/",this.contactEndpoint="/ecore/api/v2/endless-core/contacts/",this.company={},this.companyData={},this.updateData={},this.password=!1,this.fields={email:"email",phoneMobile:"phone_mobile",country:"address.country",state:"address.state",city:"address.city",name:"company.name",businessId:"company.business_id",postalCode:"address.postal_code",streetAddress:"address.street_address"},this.username={phone_mobile:null,email:null,value:null},this.data={},this.error={},this.response={},this.form={},this.hide=!0,this.commonFields=["title","first_name","last_name","phone_mobile","email"],this.endpoint=this.companyContactEndpoint,this.relatedField=(o={},o[this.fields.country]={action:"add",data:{related:{field:this.fields.state,param:"id",query:"?country=",reset:this.fields.state}}},o[this.fields.state]={action:"add",data:{related:{field:this.fields.city,param:"id",query:"?region=",reset:this.fields.city},relate:!0}},o[this.fields.city]={action:"add",data:{relate:!0}},o);var o}return t.prototype.ngOnInit=function(){var t=this;if(this.loginService.username){var e=this.loginService.username;this.loginService.username=null,this.data=(n={},n[e.field]={action:"add",data:{value:e.value,read_only:!0}},n)}this.route.url.subscribe((function(e){var n=[].concat(e),i=t.storage.retrieve("contact");if(i&&i.password)return void t.router.navigate(["/"]);"password"===n.pop().path&&(t.endpoint=""+t.contactEndpoint+i.id+"/password/",t.password=!0)}));var n},t.prototype.getCompaniesOfCountry=function(t){var e=this;this.crs.getCompaniesOfCountry(t).subscribe((function(t){e.data=(n={},n[e.fields.name]={action:"add",data:{autocomplete:t.results}},n);var n}),(function(t){return e.error=t}))},t.prototype.getCompanyLocalization=function(t){var e=this;this.crs.getCompanyLocalization(t).subscribe((function(t){t.results.length&&(e.data=(n={},n[e.fields.businessId]={action:"add",data:{templateOptions:{label:t.results[0].verbose_value,description:t.results[0].help_text}}},n));var n}),(function(t){return e.error=t}))},t.prototype.getCompany=function(t){var e=this;this.crs.getCompany(t[this.fields.name],t[this.fields.businessId]).subscribe((function(t){t.message&&(e.form={company:t.results[0].id},e.data=(n={},n[e.fields.name]={action:"update",value:t.results[0].name,block:!0},n[e.fields.businessId]={action:"update",value:t.results[0].business_id,block:!0},n),e.crs.getAddressOfCompany(t.results[0].id).subscribe((function(n){e.response[e.fields.name]=t.message,e.clearResult(e.error,e.fields.name),e.data=(i={},i[e.fields.postalCode]={action:"update",value:n.results[0].address&&n.results[0].address.postal_code,block:!0},i[e.fields.streetAddress]={action:"update",value:n.results[0].address&&n.results[0].address.street_address,block:!0},i[e.fields.country]={action:"add",data:{value:n.results[0].address.country&&n.results[0].address.country.id,readonly:!0}},i[e.fields.state]={action:"update",value:n.results[0].address.state&&n.results[0].address.state.id,update:!0,query:"?country=",id:n.results[0].address.country&&n.results[0].address.country.id,block:!0},i[e.fields.city]={action:"update",value:n.results[0].address.city&&n.results[0].address.city.id,update:!0,query:"?region=",id:n.results[0].address.state&&n.results[0].address.state.id,block:!0},i);var i}),(function(t){return e.error=t})));var n}),(function(t){return e.error=t}))},t.prototype.checkCompany=function(){this.companyData[this.fields.name]&&this.companyData[this.fields.businessId]&&this.getCompany(this.companyData)},t.prototype.fieldValidation=function(t,e){var n=this;this.crs.fieldValidation(t,e).subscribe((function(e){n.response[t]=e.data.message,n.clearResult(n.error,t)}),(function(e){n.error[t]=e.errors.message,n.clearResult(n.response,t)}))},t.prototype.eventHandler=function(t){if("blur"!==t.type||t.el.key!==this.fields.email&&t.el.key!==this.fields.phoneMobile||this.fieldValidation(t.el.key,t.value),"change"===t.type&&t.el.key===this.fields.country&&(this.getCompaniesOfCountry(t.value[0].code2),this.getCompanyLocalization(t.value[0].code2)),"blur"!==t.type||t.el.key!==this.fields.name&&t.el.key!==this.fields.businessId||(this.companyData[t.el.key]=t.value,this.checkCompany()),"sendForm"===t.type&&"success"===t.status){var e=this.storage.retrieve("contact");e&&(e.password=!0,this.storage.store("contact",e),this.router.navigate(["/"]))}},t.prototype.buttonActionHandler=function(t){this[t.value]()},t.prototype.clearResult=function(t,e){t[e]&&delete t[e]},t.prototype.register_company_contact=function(){this.endpoint=this.companyContactEndpoint,this.reset(this.error),this.data={},this.hide=!1},t.prototype.register_candidate_contact=function(){this.endpoint=this.candidateContactEndpoint,this.reset(this.error),this.data={},this.hide=!1},t.prototype.reset=function(t){var e=this;Object.keys(t).forEach((function(n){-1===e.commonFields.indexOf(n)&&delete t[n]}))},t})();d=i.a([n.i(s.Component)({selector:"contact-registration-form",template:n(1230)}),i.b("design:paramtypes",[a.e,r.a,l.a,o.d,c.LocalStorageService,o.c])],d)},469:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(35);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.modalService=t}return t.prototype.ngOnDestroy=function(){this.modalRef&&this.modalRef.close()},t.prototype.mobileLogin=function(){this.modalInfo={label:"Please, enter a mobile phone",endpoint:"/ecore/api/v2/auth/login/",data:{password:{action:"add",data:{hide:!0,templateOptions:{label:""}}},username:{action:"add",data:{templateOptions:{label:"",placeholder:"Enter your phone",max:255,required:!0,type:"text"}}}}},this.modalRef=this.modalService.open(this.mobileLoginTemplate)},t.prototype.formEvent=function(t,e){"sendForm"===t.type&&"success"===t.status&&e()},t})();i.a([n.i(a.ViewChild)("mobileLoginTemplate"),i.b("design:type",Object)],o.prototype,"mobileLoginTemplate",void 0),o=i.a([n.i(a.Component)({selector:"home",template:n(1233)}),i.b("design:paramtypes",[s.b])],o)},470:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23),o=n(285);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e,n){this.loginService=t,this.router=e,this.route=n,this.error={},this.token=!1,this.endpoint="/ecore/api/v2/auth/login/"}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe((function(e){t.token=e.token,t.token&&t.tokenAuth(t.token)})),this.route.queryParams.subscribe((function(e){var n=e.type;"crm"!==n&&"extranet"!==n||(t.label="crm"===n?"CRM":"extranet"===n?"Extranet Login":"")}))},t.prototype.tokenAuth=function(t){var e=this;this.loginService.loginWithToken(t).subscribe((function(t){e.router.navigate([t.data.redirect_to])}),(function(t){return e.router.navigate(["home"])}))},t.prototype.responseHandler=function(t){t.data?this.router.navigate(["/"]):"success"===t.status&&(this.error={})},t.prototype.redirectHandler=function(t){this.loginService.username=t,this.router.navigate(["/registration"])},t})();r=i.a([n.i(a.Component)({selector:"login-form",template:n(1234)}),i.b("design:paramtypes",[o.a,s.c,s.d])],r)},471:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23),o=n(334),r=n(500),l=n(28),c=n(198),d=n(140);n.d(e,"a",(function(){return p}));var p=(function(){function t(t,e,n,i,a,s,o){this.router=t,this.route=e,this.siteService=n,this.storage=i,this.genericFormService=a,this.navigationService=s,this.userService=o,this.dashboard=!0}return t.prototype.ngOnInit=function(){var t=this;this.userService.getUserData().subscribe((function(e){t.user=e.data})),this.route.url.subscribe((function(e){t.formLabel="",t.pageData=null,t.getPageNavigation(e),e.length?t.dashboard=!1:t.dashboard=!0}))},t.prototype.changeFormLabel=function(t){t&&t.str&&(this.formLabel=t.str)},t.prototype.getPageData=function(t){var e=this;this.siteService.getDataOfPage(t,this.pagesList).subscribe((function(t){if(!t.endpoint)return void e.router.navigate(["/"]);setTimeout((function(){e.pageData=t}),50)}))},t.prototype.getPageNavigation=function(t){this.modulesList||this.getModelsList(t),this.pagesList||this.getPages(t),this.userModules||this.getUserModules(t),this.modulesList&&this.userModules&&this.pagesList&&this.getPageData(t)},t.prototype.getModelsList=function(t){var e=this;this.navigationService.getModules().subscribe((function(n){e.modulesList=n,e.pages&&e.userModules&&e.modulesList&&(e.pagesList=e.filterNavigation(e.pages,e.userModules,e.modulesList),t.length&&e.getPageData(t))}))},t.prototype.getUserModules=function(t){var e=this;this.navigationService.getUserModules().subscribe((function(n){e.userModules=n,e.pages&&e.userModules&&e.modulesList&&(e.pagesList=e.filterNavigation(e.pages,e.userModules,e.modulesList),t.length&&e.getPageData(t))}))},t.prototype.getPages=function(t){var e=this;this.navigationService.getPages().subscribe((function(n){e.pages=n,e.pages&&e.userModules&&e.modulesList&&(e.pagesList=e.filterNavigation(e.pages,e.userModules,e.modulesList),t.length&&e.getPageData(t))}))},t.prototype.formEvent=function(t){"sendForm"===t.type&&"success"===t.status&&this.router.navigate([this.pageData.pathData.path])},t.prototype.deleteElement=function(t){var e=this;this.genericFormService.delete(t.endpoint,t.pathData.id).subscribe((function(n){return e.router.navigate([t.pathData.path])}))},t.prototype.filterNavigation=function(t,e,n){var i=[];return e.forEach((function(t){if(t&&t.dashboard_module){var e=n.filter((function(e){return e.id===t.dashboard_module.id&&!t.ui_config.display_on_navbar}));if(e.length){var a=e[0].module_data.app.replace(/_/,"-"),s=e[0].module_data.plural_name.split(" ").join("").toLowerCase(),o="/ecore/api/v2/"+a+"/"+s+"/";i.push(o)}}})),this.removePages(t,i),t},t.prototype.removePages=function(t,e){var n=this;return t.forEach((function(i,a){if(i.childrens&&i.childrens.length){e.indexOf(i.endpoint)>-1&&(i.disabled=!0);!n.removePages(i.childrens,e).length&&i.disabled&&(t.splice(a,1),n.removePages(t,e))}else e.indexOf(i.endpoint)>-1&&(t.splice(a,1),n.removePages(t,e))})),t},t.prototype.updateNavigation=function(t){t.changed&&(this.pages=null,this.userModules=null,this.modulesList=null,this.getPageNavigation([]))},t})();p=i.a([n.i(a.Component)({selector:"site",template:n(1237)}),i.b("design:paramtypes",[s.c,s.d,r.a,o.LocalStorageService,l.a,c.a,d.a])],p)},472:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(72),o=n(23);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this.fs=t,this.route=e,this.isCollapsed=!0,this.event=new a.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.route.queryParams.subscribe((function(e){return t.updateFilter()})),this.isCollapsed=!this.query},t.prototype.select=function(t){var e=this.config.query+"="+t;t===this.query?(this.query=null,e=""):this.query=t,this.fs.generateQuery(e,this.config.key,this.config.listName,t),this.changeQuery()},t.prototype.changeQuery=function(){this.event.emit({list:this.config.listName})},t.prototype.updateFilter=function(){var t=this.fs.getQueries(this.config.listName,this.config.key);t&&t.byQuery?this.query=t.query.split("=")[1]:this.query=t},t.prototype.resetFilter=function(){this.query=null,this.fs.generateQuery(this.query,this.config.key,this.config.listName),this.changeQuery()},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],r.prototype,"event",void 0),r=i.a([n.i(a.Component)({selector:"filter-choice",template:n(1239)}),i.b("design:paramtypes",[s.a,o.d])],r)},473:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(72),o=n(23),r=n(214),l=n.n(r);n.d(e,"a",(function(){return c}));var c=(function(){function t(t,e){this.fs=t,this.route=e,this.picker=!1,this.data={},this.dateFormat="YYYY-MM-DD",this.datetimeFormat="YYYY-MM-DD hh:mm:ss",this.moment=l.a,this.isCollapsed=!0,this.init=!1,this.icons={r3sourcer:{true:"angle-right",false:"angle-down"},default:{true:"eye",false:"eye-slash"}},this.event=new a.EventEmitter,this.$=n(110)}return t.prototype.ngOnInit=function(){var t=this;this.createInputs(this.config.input,this.data),this.route.queryParams.subscribe((function(e){return t.updateFilter()})),this.isCollapsed=!(this.query||this.picker||document.body.classList.contains("r3sourcer")),this.mobileDevice=this.identifyDevice(),this.theme=document.body.classList.contains("r3sourcer")?"r3sourcer":"default"},t.prototype.identifyDevice=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())},t.prototype.ngAfterViewInit=function(){var t=this;if(!this.init&&this.d){var e=this.mobileDevice?"flipbox":"calbox";this.init=!0,this.d.forEach((function(n){t.$(n.nativeElement).datebox({mode:e,useClearButton:!0,closeCallback:function(){var e=n.nativeElement.value;t.onChange(e,n.nativeElement.name)}}),n.nativeElement.readOnly=!1}))}},t.prototype.selectQuery=function(t){this.picker=!1,this.resetData(this.data),this.parseDate(t,l.a),this.query=t,this.fs.generateQuery(t,this.config.key,this.config.listName,{data:this.data,query:t}),this.changeQuery(),this.updateConfig()},t.prototype.onChange=function(t,e){var n=this;this.picker=!0,this.query="";var i="";this.data[e]=t,Object.keys(this.data).forEach((function(t){n.data[t]&&(i+=t+"="+n.data[t]+"&")})),this.fs.generateQuery(i.substring(0,i.length-1),this.config.key,this.config.listName,{data:this.data}),this.changeQuery(),this.updateConfig()},t.prototype.updateConfig=function(){var t=this;this.config.input.forEach((function(e,n,i){e.query.indexOf("_0")>0?e.maxDate=t.data[i[1].query]:e.query.indexOf("_1")>0&&(e.minDate=t.data[i[0].query])}))},t.prototype.changeQuery=function(){this.event.emit({list:this.config.listName})},t.prototype.parseDate=function(t,e){var n=this,i={},a=[];t.split("&").forEach((function(t){var s=t.split("=");a.push(s[0]),i[s[0]]=e.tz(s[1],"Australia/Sydney").format(n.dateFormat)})),a.forEach((function(t){n.data[t]=i[t]}))},t.prototype.createInputs=function(t,e){t.forEach((function(t){e[t.query]=""}))},t.prototype.resetData=function(t){Object.keys(t).forEach((function(e){t[e]=""}))},t.prototype.updateFilter=function(){var t=this.fs.getQueries(this.config.listName,this.config.key);t?t.byQuery?(this.query=t.query,this.parseDate(t.query,l.a),this.picker=!0):(this.data=t.data,this.query=t.query):(this.query="",this.resetData(this.data),this.picker=!1),this.updateConfig()},t.prototype.resetFilter=function(){this.query=null,this.resetData(this.data),this.picker=!1,this.fs.generateQuery(this.query,this.config.key,this.config.listName),this.changeQuery()},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],c.prototype,"event",void 0),i.a([n.i(a.ViewChildren)("d"),i.b("design:type",Object)],c.prototype,"d",void 0),c=i.a([n.i(a.Component)({selector:"filter-date",template:n(1240)}),i.b("design:paramtypes",[s.a,o.d])],c)},474:function(t,e,n){"use strict";var i=n(4),a=n(72),s=n(0),o=n(23),r=n(28);n.d(e,"a",(function(){return l}));var l=(function(){function t(t,e,n){this.fs=t,this.route=e,this.genericFormService=n,this.elements=[],this.copyConfig=[],this.isCollapsed=!1,this.modalScrollDistance=2,this.modalScrollThrottle=50,this.limit=10,this.event=new s.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.route.queryParams.subscribe((function(e){return t.updateFilter()})),this.isCollapsed=!this.query&&!document.body.classList.contains("r3sourcer")},t.prototype.generateList=function(t,e){void 0===e&&(e=!1),this.getOptions(this.searchValue,t,e)},t.prototype.generatePreviewList=function(t,e){e.lastElement+=this.limit,this.previewList=t.slice(0,e.lastElement)},t.prototype.openAutocomplete=function(t,e){var n,i=t.target;this.searchValue=null,e.hideAutocomplete=!1,this.generateList(e),i.classList.contains("autocomplete-value")?(this.topHeight=i.offsetHeight,n=i.nextElementSibling):(this.topHeight=i.parentElement.offsetHeight,n=i.parentElement.nextElementSibling),setTimeout((function(){n.children[0].focus()}),50)},t.prototype.resetList=function(t){var e=this;setTimeout((function(){e.previewList=null,t.lastElement=0,t.count=null,t.hideAutocomplete=!0}),150)},t.prototype.filter=function(t){t.lastElement=0,t.count=null,this.previewList=null,this.generateList(t)},t.prototype.onModalScrollDown=function(t){this.generateList(t,!0)},t.prototype.setValue=function(t,e){e.data=t[this.config.data.key],e.displayValue=t[this.config.data.value],e.count=null,this.searchValue=null,this.previewList=null,this.onChange()},t.prototype.deleteValue=function(t){t.data="",this.fs.generateQuery(this.genericQuery(this.elements,this.config.query),this.config.key,this.config.listName,this.elements),this.changeQuery()},t.prototype.addElement=function(){this.elements.length<this.config.options.length&&this.elements.push(this.createElement(this.count))},t.prototype.deleteElement=function(t){if(this.elements.length>1){var e=this.elements.filter((function(e){return e.id!==t.id}));this.elements=e}this.fs.generateQuery(this.genericQuery(this.elements,this.config.query),this.config.key,this.config.listName,this.elements),this.changeQuery()},t.prototype.createElement=function(t,e){void 0===e&&(e=""),this.count++;var n={id:t,data:e,lastElement:0,hideAutocomplete:!0};return n.displayValue=e?this.getOption(e,n):this.config.label,n},t.prototype.onChange=function(){this.fs.generateQuery(this.genericQuery(this.elements,this.config.query),this.config.key,this.config.listName,this.elements),this.changeQuery()},t.prototype.genericQuery=function(t,e){var n="";return t.forEach((function(t){t.data&&(n+=e+"="+t.data+"&")})),this.query=n,n.substring(0,n.length-1)},t.prototype.changeQuery=function(){this.event.emit({list:this.config.listName})},t.prototype.parseQuery=function(t){var e=this;this.query=t,t.split("&").forEach((function(t){var n=t.split("=")[1];e.elements.push(e.createElement(e.count,n))}))},t.prototype.updateFilter=function(){var t=this.fs.getQueries(this.config.listName,this.config.key);if(t)if(t.byQuery)this.elements=[],this.parseQuery(t.query);else{this.elements=[];var e=t.map((function(t){return t.id}));(n=this.elements).push.apply(n,t),this.count=Math.max.apply(Math,e),this.genericQuery(this.elements,this.config.query)}else this.query="",this.count=1,this.elements&&!this.elements.length&&this.elements.push(this.createElement(this.count));var n},t.prototype.resetFilter=function(){this.elements.length=1,this.deleteValue(this.elements[0]),this.fs.generateQuery("",this.config.key,this.config.listName),this.changeQuery()},t.prototype.getOption=function(t,e){var n=""+this.config.data.endpoint+t+"/",i=this.config.data.value;this.genericFormService.getAll(n).subscribe((function(t){e.displayValue=t[i]}))},t.prototype.getOptions=function(t,e,n){var i=this;void 0===n&&(n=!1);var a=this.config.data.endpoint,s=e.lastElement,o=this.config.data.value,r=this.config.data.key,l="";t&&(l+="?search="+t+"&"),l+=l?"":"?",l+="limit="+this.limit+"&offset="+s+"&fields="+o+"&fields="+r,(!e.count||e.count&&s<e.count&&n)&&(e.lastElement+=this.limit,this.genericFormService.getByQuery(a,l).subscribe((function(t){e.count=t.count,t.results&&t.results.length&&(n?i.previewList&&(a=i.previewList).push.apply(a,t.results):i.previewList=t.results);var a})))},t})();i.a([n.i(s.ViewChild)("search"),i.b("design:type",Object)],l.prototype,"search",void 0),i.a([n.i(s.Output)(),i.b("design:type",s.EventEmitter)],l.prototype,"event",void 0),l=i.a([n.i(s.Component)({selector:"filter-related",template:n(1241)}),i.b("design:paramtypes",[a.a,o.d,r.a])],l)},475:function(t,e,n){"use strict";var i=n(4),a=n(23),s=n(72),o=n(0);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this.fs=t,this.route=e,this.data="",this.isCollapsed=!0,this.icons={r3sourcer:{true:"angle-right",false:"angle-down"},default:{true:"eye",false:"eye-slash"}},this.event=new o.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.options=this.config.options.sort((function(t,e){return t.label>e.label?1:-1})),this.route.queryParams.subscribe((function(e){return t.updateFilter()})),this.isCollapsed=!this.query&&!document.body.classList.contains("r3sourcer"),this.theme=document.body.classList.contains("r3sourcer")?"r3sourcer":"default"},t.prototype.onChange=function(){this.fs.generateQuery(this.genericQuery(this.config.query,this.data),this.config.key,this.config.listName,this.data),this.changeQuery()},t.prototype.genericQuery=function(t,e){var n="";return e&&(n=t+"="+e),this.query=n,n},t.prototype.changeQuery=function(){this.event.emit({list:this.config.listName})},t.prototype.parseQuery=function(t){this.query=t;var e=t.split("=")[1];this.config.options.filter((function(t){return t.value+""==e+""})).length>0&&(this.data=e)},t.prototype.updateFilter=function(){this.data="",this.query="";var t=this.fs.getQueries(this.config.listName,this.config.key);t?t.byQuery?this.parseQuery(t.query):this.data=t:this.data=""},t.prototype.resetFilter=function(){this.data="",this.query="",this.fs.generateQuery("",this.config.key,this.config.listName),this.changeQuery()},t})();i.a([n.i(o.Output)(),i.b("design:type",o.EventEmitter)],r.prototype,"event",void 0),r=i.a([n.i(o.Component)({selector:"filter-select",template:n(1242)}),i.b("design:paramtypes",[s.a,a.d])],r)},476:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(48);n.d(e,"a",(function(){return r}));var r=(function(t){function e(e){var n=t.call(this)||this;return n.fb=e,n.value=!0,n.checkboxClass="",n.checkboxColor="",n.event=new a.EventEmitter,n}return i.c(e,t),e.prototype.ngOnInit=function(){if(this.addControl(this.config,this.fb),!this.group.get(this.key).value&&!this.config.read_only){var t=this.config.default||!1;this.group.get(this.key).patchValue(t)}this.config.read_only?this.setValue(this.config.value):"icon"===this.config.templateOptions.type&&this.customizeCheckbox(),(this.config.value||!1===this.config.value||null===this.config.value)&&this.group.get(this.key).patchValue(this.config.value)},e.prototype.setValue=function(t){var e=this.config&&this.config.templateOptions.values;e&&(this.checkboxValue=e[t],this.checkboxClass=!0===t?"text-success":!1===t?"text-danger":"text-muted")},e.prototype.customizeCheckbox=function(){var t=this.config.templateOptions.color,e=["primary","danger","info","success","warning"];this.checkboxClass=e.indexOf(t)>-1?"text-"+t:"",this.checkboxClass||(this.checkboxColor=t||"")},e.prototype.ngAfterViewInit=function(){this.checkbox&&this.addFlags(this.checkbox,this.config)},e.prototype.eventHandler=function(t){this.event.emit({type:t.type,el:this.config,value:this.group.controls[this.key].value})},e})(o.a);i.a([n.i(a.ViewChild)("checkbox"),i.b("design:type",Object)],r.prototype,"checkbox",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],r.prototype,"event",void 0),r=i.a([n.i(a.Component)({selector:"form-checkbox",template:n(1244)}),i.b("design:paramtypes",[s.e])],r)},477:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(48),r=n(214),l=n.n(r);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e){var i=t.call(this)||this;return i.fb=e,i.$=n(110),i}return i.c(e,t),e.prototype.ngOnInit=function(){if(this.addControl(this.config,this.fb),this.config.value||this.group.get(this.key).value){var t=this.config.value?this.config.value:this.group.get(this.key).value;this.setDate(t,l.a)}this.mobileDevice=this.identifyDevice()},e.prototype.identifyDevice=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())},e.prototype.ngAfterViewInit=function(){var t=this;if(this.d&&this.addFlags(this.d,this.config),!this.init){var e=this.mobileDevice?"flipbox":"calbox",n=this.mobileDevice?"timeflipbox":"timebox";this.init=!0,this.$(this.d.nativeElement).datebox({mode:e,useClearButton:!0,closeCallback:function(){var e=t.d.nativeElement.value,n=t.t.nativeElement.value;if(e){var i=e+(n?" "+n:"");t.setDate(i,l.a,!0)}else t.group.get(t.key).patchValue(null)}}),"datetime"===this.config.templateOptions.type&&this.$(this.t.nativeElement).datebox({mode:n,overrideTimeFormat:12,overrideTimeOutput:"%I:%M %p",useClearButton:!0,closeCallback:function(){var e=t.d.nativeElement.value,n=t.t.nativeElement.value;if(e){var i=e+(n?" "+n:"");t.setDate(i,l.a,!0)}else t.group.get(t.key).patchValue(null)}}),this.d.nativeElement.readOnly=!1,this.t.nativeElement.readOnly=!1}},e.prototype.updateDate=function(t){"date"===this.config.templateOptions.type?t&&(this.date||(this.date=t.format("YYYY-MM-DD")),this.group.get(this.key).patchValue(t.format("YYYY-MM-DD"))):"datetime"===this.config.templateOptions.type&&t&&(this.date||(this.date=t.format("YYYY-MM-DD")),this.time||(this.time=t.format("hh:mm A")),this.group.get(this.key).patchValue(t.format()))},e.prototype.setDate=function(t,e,n){void 0===n&&(n=!1);var i;t&&(i=n?e(t,"YYYY-MM-DD hh:mm A"):e(t),this.updateDate(i))},e})(o.a);i.a([n.i(a.ViewChild)("d"),i.b("design:type",Object)],c.prototype,"d",void 0),i.a([n.i(a.ViewChild)("t"),i.b("design:type",Object)],c.prototype,"t",void 0),c=i.a([n.i(a.Component)({selector:"form-datepicker",template:n(1245)}),i.b("design:paramtypes",[s.e])],c)},478:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(28),o=n(35);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this.modalService=t,this.genericFormService=e,this.formFieldGroupsEndpoint="/ecore/api/v2/endless-core/formfieldgroups/"}return t.prototype.ngOnInit=function(){this.config.value?this.groups=this.config.value:this.groups=[],this.fields={modelfield:{endpoint:"/ecore/api/v2/endless-core/modelformfields/",label:"Model field"},group:{label:"Custom fields:"},textareafield:{endpoint:"/ecore/api/v2/endless-core/textareaformfields/",label:"TextArea field"},numberfield:{endpoint:"/ecore/api/v2/endless-core/numberformfields/",label:"Number field"},selectfield:{endpoint:"/ecore/api/v2/endless-core/selectformfields/",label:"Select field"},filefield:{endpoint:"/ecore/api/v2/endless-core/fileformfields/",label:"File field"},imagefield:{endpoint:"/ecore/api/v2/endless-core/imageformfields/",label:"Image field"},checkboxfield:{endpoint:"/ecore/api/v2/endless-core/checkboxformfields/",label:"Checkbox field"},datefield:{endpoint:"/ecore/api/v2/endless-core/dateformfields/",label:"Date field"},radiobuttonsfield:{endpoint:"/ecore/api/v2/endless-core/radiobuttonsformfields/",label:"Radio button field"},textfield:{endpoint:"/ecore/api/v2/endless-core/textformfields/",label:"Text field"}},this.types=Object.keys(this.fields)},t.prototype.addGroup=function(){this.modalData={},this.choosenType=null,this.modalData.type="group",this.modalData.title="Group",this.modalData.container=this.groups,this.modalData.endpoint=this.formFieldGroupsEndpoint,this.modalData.data={field_list:{action:"add",data:{value:[],hide:!0}},form:{action:"add",data:{value:this.config.id,hide:!0,default:0}}},this.modalRef=this.modalService.open(this.modal)},t.prototype.addField=function(t,e){this.modalData={},this.choosenType=null,this.modalData.type="field",this.modalData.title="Field",this.modalData.container=t.field_list,this.modalData.data={group:{action:"add",data:{value:e,hide:!0}}},this.modalRef=this.modalService.open(this.modal)},t.prototype.edit=function(t,e,n){this.modalData={},this.choosenType=t.field_type?t.field_type:null,this.modalData.type=n,this.modalData.edit=!0,this.modalData.title=t.__str__,this.modalData.container=e,this.modalData.endpoint="group"===n?this.formFieldGroupsEndpoint:this.fields[t.field_type].endpoint,this.modalData.id=t.id,"group"===n?this.modalData.data={field_list:{action:"add",data:{hide:!0}},form:{action:"add",data:{hide:!0}}}:"field"===n&&(this.modalData.data={group:{action:"add",data:{hide:!0}}}),this.modalRef=this.modalService.open(this.modal)},t.prototype.delete=function(t,e,n){var i="group"===n?this.formFieldGroupsEndpoint:this.fields[t.field_type].endpoint,a=t.id;this.genericFormService.delete(i,a).subscribe((function(t){e.forEach((function(t,n){t.id===a&&e.splice(n,1)}))}))},t.prototype.formEvent=function(t,e,n,i,a){var s=this;if("sendForm"===t.type&&"success"===t.status){if(e(),i)this.updateObject(n,t.data);else{if("field"===a){var o={polymorphic_ctype:{id:this.choosenType}};t.data=Object.assign(o,t.data)}n.push(t.data)}n.sort((function(t,e){return t.position>e.position?1:-1}))}else if("blur"===t.type&&"modelfield"===this.choosenType&&"name"===t.el.key){var r=this.config.fields.filter((function(e){return e.name===t.value}));this.modalData.data=Object.assign({},this.modalData.data),r&&r[0]&&["required","help_text","label","name"].forEach((function(t){s.modalData.data[t]={action:"add",data:{value:r[0][t]}}}))}},t.prototype.updateObject=function(t,e){t.forEach((function(t){t.id===e.id&&(t=Object.assign(t,e))})),t.sort((function(t,e){return t.position>e.position?1:-1}))},t.prototype.setType=function(t){this.choosenType=t,this.modalData.endpoint=this.fields[t].endpoint,this.modalData.data&&"modelfield"===t&&(this.modalData.data.name={action:"add",data:{autocomplete:this.config.fields}})},t})();i.a([n.i(a.ViewChild)("modal"),i.b("design:type",Object)],r.prototype,"modal",void 0),r=i.a([n.i(a.Component)({selector:"form-fields-group",template:n(1246)}),i.b("design:paramtypes",[o.b,s.a])],r)},479:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(48);n.d(e,"a",(function(){return r}));var r=(function(t){function e(e,n){var i=t.call(this)||this;return i.fb=e,i.myElement=n,i.query="",i.list=[],i.limit=10,i.lastElement=0,i.hideAutocomplete=!0,i.modalScrollDistance=2,i.modalScrollThrottle=50,i.event=new a.EventEmitter,i.elementRef=n,i}return i.c(e,t),e.prototype.ngOnInit=function(){if("static"!==this.config.type){if(this.addControl(this.config,this.fb),0===this.config.value||this.config.value||this.config.default||0===this.config.default){var t=0===this.config.value||this.config.value?this.config.value:this.config.default;this.group.get(this.key).patchValue(t)}}else this.config.value instanceof Object?this.displayValue=this.config.value.__str__:this.displayValue=this.config.value},e.prototype.ngAfterViewInit=function(){this.config.read_only||this.input&&this.addFlags(this.input,this.config)},e.prototype.eventHandler=function(t){var e=this;setTimeout((function(){e.group.get(e.key).value&&!e.config.read_only&&e.event.emit({type:t.type,el:e.config,value:e.group.get(e.key).value})}),250)},e.prototype.filter=function(t){this.lastElement=0;var e=this.group.get(t).value;""!==e?(this.config.autocomplete&&(this.filteredList=this.config.autocomplete.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1}))),this.list=this.filteredList,this.generatePreviewList(this.list)):this.generateList()},e.prototype.select=function(t){this.group.get(this.key).patchValue(t),this.filteredList=null,this.generateList()},e.prototype.generateList=function(){this.config.autocomplete&&(this.hideAutocomplete=!1,this.list=this.config.autocomplete.sort((function(t,e){return t.name>e.name?1:-1})),this.generatePreviewList(this.list))},e.prototype.onModalScrollDown=function(){this.generatePreviewList(this.filteredList)},e.prototype.generatePreviewList=function(t){this.lastElement+=this.limit,t&&(this.list=t.slice(0,this.lastElement))},e.prototype.handleClick=function(t){var e=t.target,n=!1;do{e===this.elementRef.nativeElement&&(n=!0),e=e.parentNode}while(e);n||(this.filteredList=[])},e})(o.a);i.a([n.i(a.ViewChild)("input"),i.b("design:type",Object)],r.prototype,"input",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],r.prototype,"event",void 0),i.a([n.i(a.HostListener)("document:click",["$event"]),i.b("design:type",Function),i.b("design:paramtypes",[Object]),i.b("design:returntype",void 0)],r.prototype,"handleClick",null),r=i.a([n.i(a.Component)({selector:"form-input",template:n(1247)}),i.b("design:paramtypes",[s.e,a.ElementRef])],r)},48:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=(function(){function t(){}return t.prototype.addControl=function(t,e){var n=t.key.split(".");n.length>1?this.addControls(this.group,n,e):(this.group.addControl(t.key,e.control(void 0)),this.key=t.key)},t.prototype.addFlags=function(t,e){if("number"===e.templateOptions.type&&(t.nativeElement.step="any"),t.nativeElement.required=e.templateOptions.required,e.templateOptions.max&&(t.nativeElement.maxLength=e.templateOptions.max),e.templateOptions.min){var n=e.templateOptions.min<0?0:e.templateOptions.min;t.nativeElement.minLength=n}e.templateOptions.max&&"number"===e.templateOptions.type&&(t.nativeElement.max=e.templateOptions.max),e.templateOptions.min&&"number"===e.templateOptions.type&&(t.nativeElement.min=e.templateOptions.min),e.templateOptions.cols&&(t.nativeElement.cols=e.templateOptions.cols),e.templateOptions.rows&&(t.nativeElement.rows=e.templateOptions.rows)},t.prototype.addElement=function(t,e,n){t.addControl(e,n.control(""))},t.prototype.addGroup=function(t,e,n){t.addControl(e,n.group({}))},t.prototype.addControls=function(t,e,n){var i=e.shift();0===e.length?(t.get(i)||this.addElement(t,i,n),this.key=i,this.group=t):t.get(i)?this.addControls(t.get(i),e,n):(this.addGroup(t,i,n),this.addControls(t.get(i),e,n))},t})()},480:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){}return t.prototype.ngOnInit=function(){this.data=(t={},t[this.config.parent_field]={action:"add",data:{value:this.config.id}},t),this.isCollapsed=!!this.config.collapsed&&this.config.collapsed;var t},t})();s=i.a([n.i(a.Component)({selector:"form-list",template:n(1248)})],s)},481:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(48);n.d(e,"a",(function(){return r}));var r=(function(t){function e(e){var n=t.call(this)||this;return n.fb=e,n}return i.c(e,t),e.prototype.ngOnInit=function(){this.addControl(this.config,this.fb),this.config.value?(this.optionsArray=this.config.value,this.group.get(this.key).patchValue(this.config.value)):this.optionsArray=[{label:"",value:""}]},e.prototype.updateValue=function(){var t=this.optionsArray.filter((function(t){if((t.label||"0"===t.label)&&(t.value||"0"===t.value))return!0}));t&&this.group.get(this.key).patchValue(t)},e.prototype.addOption=function(){this.optionsArray.push({label:"",value:""})},e.prototype.deleteOption=function(t){this.optionsArray.splice(this.optionsArray.indexOf(t),1),this.updateValue()},e})(o.a);r=i.a([n.i(a.Component)({selector:"form-options",template:n(1249)}),i.b("design:paramtypes",[s.e])],r)},482:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(466),r=n(35),l=n(48);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e,n,i){var a=t.call(this)||this;return a.fb=e,a.modalService=n,a.element=i,a.photoExist=!1,a.fileName="",a.options={audio:!1,video:!0,width:320,height:240,fallbackMode:"callback",fallbackSrc:"assets/jscam_canvas_only.swf",fallbackQuality:85,cameraType:"front"},a.onSuccess=function(t){t instanceof o.b&&(a.flashPlayer=t,a.onFallback())},a.onError=function(t){a.err=t},a}return i.c(e,t),e.prototype.ngOnInit=function(){this.addControl(this.config,this.fb),this.mime="image/jpeg"},e.prototype.ngAfterViewInit=function(){this.addFlags(this.picture,this.config)},e.prototype.upload=function(){this.picture.nativeElement.click()},e.prototype.open=function(){this.photoExist=!1,this.modalService.open(this.modal,{size:"lg"})},e.prototype.getPhoto=function(){this.fileName="";var t=this.createPhoto();this.base64=t.toDataURL(this.mime)},e.prototype.save=function(t){this.base64&&(this.updateValue("image.jpeg",this.base64),t())},e.prototype.createPhoto=function(){this.photoExist=!0;var t=document.getElementsByTagName("video")[0],e=document.getElementsByTagName("canvas")[0];return t?(e.style.maxWidth="100%",e.width=t.videoWidth,e.height=t.videoHeight,e.getContext("2d").drawImage(t,0,0)):this.flashPlayer.capture(),e},e.prototype.fileChangeEvent=function(t){var e=this;this.updateValue("","");var n=t.target.files[0];if(n){var i=new FileReader;i.onload=function(){if(/^image\//.test(n.type)&&i.result){var t=n.name;e.updateValue(t,i.result)}},i.readAsDataURL(n)}},e.prototype.onFallback=function(){var t=this,e=document.getElementsByTagName("canvas")[0];if(e){var n=e.getContext("2d"),i=t.flashPlayer.getCameraSize(),a=i.width,s=i.height,r={imgData:n.getImageData(0,0,a,s),pos:0};e.width=a,e.height=s,n.clearRect(0,0,a,s),o.b.implementExternal({onSave:function(t){try{for(var e=t.split(";"),i=null,o=0;o<a;o++)i=parseInt(e[o],10),r.imgData.data[r.pos+0]=i>>16&255,r.imgData.data[r.pos+1]=i>>8&255,r.imgData.data[r.pos+2]=255&i,r.imgData.data[r.pos+3]=255,r.pos+=4;r.pos>=4*a*s&&(n.putImageData(r.imgData,0,0),r.pos=0)}catch(t){console.error(t)}},debug:function(t,e){},onCapture:function(){t.flashPlayer.save()},onTick:function(t){}})}},e.prototype.updateValue=function(t,e){this.fileName=t,this.group.get(this.key).patchValue(e)},e})(l.a);i.a([n.i(a.ViewChild)("modal"),i.b("design:type",Object)],c.prototype,"modal",void 0),i.a([n.i(a.ViewChild)("picture"),i.b("design:type",Object)],c.prototype,"picture",void 0),c=i.a([n.i(a.Component)({selector:"form-picture",template:n(1250)}),i.b("design:paramtypes",[s.e,r.b,a.ElementRef])],c)},483:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(35),r=n(48),l=n(28);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e,n,i){var s=t.call(this)||this;return s.fb=e,s.modalService=n,s.genericFormService=i,s.limit=10,s.lastElement=0,s.hideAutocomplete=!0,s.modalData={},s.modalScrollDistance=2,s.modalScrollThrottle=50,s.isCollapsed=!1,s.event=new a.EventEmitter,s}return i.c(e,t),e.prototype.ngOnInit=function(){var t=this;if(this.addControl(this.config,this.fb),this.display=this.config.templateOptions.display?this.config.templateOptions.display:"__str__",this.param=this.config.templateOptions.param?this.config.templateOptions.param:"id",this.results=[],this.config.value||this.group.get(this.key).value){var e=this.config.value?this.config.value:this.group.get(this.key).value;if(this.config.many){if(this.config.options&&this.config.options.length){var n=[];this.config.options.forEach((function(i){e.forEach((function(e){e instanceof Object?e[t.param]===i[t.param]&&n.push(i):e===i[t.param]&&n.push(i)})),t.results=n}))}else this.results=e;this.updateData()}else{var i=void 0;e instanceof Object?(this.config.options&&this.config.options.length?this.displayValue=this.config.options.filter((function(n){return n[t.param]===e[t.param]}))[0][this.display]:e[this.display]&&(this.displayValue=e[this.display]),i=e[this.param]):(i=e,this.config.options&&this.config.options.length&&(this.displayValue=this.config.options.filter((function(n){return n[t.param]===e}))[0][this.display])),this.group.get(this.key).patchValue(i)}}this.config.query&&(this.config.currentQuery=""+this.config.query+this.config.id),this.generateDataForList(this.config)},e.prototype.ngOnDestroy=function(){this.modalRef&&this.modalRef.close()},e.prototype.ngAfterContentChecked=function(){this.tableWrapper&&this.checkOverfow()},e.prototype.checkOverfow=function(){if(this.config.metadata){var t=this.tableWrapper.nativeElement.offsetWidth,e=this.config.metadata.length;this.tableWrapper.nativeElement.style.overflowX=t/e<150?"auto":"visible"}},e.prototype.generateDataForList=function(t){var e=this;if(t.list&&t.metadata){this.dataOfList=[];var n=[];if(this.config.value)this.config.value.forEach((function(t){var i=e.createObject();i.id=t.id,e.fillingForm(i.metadata,t,i.data),n.push(i.data.value),e.dataOfList.push(i)})),this.group.get(this.key).patchValue(n);else{var i=this.createObject();this.dataOfList.push(i)}}},e.prototype.createObject=function(){var t={data:this.fb.group({}),metadata:[]};return t.metadata=[].concat(this.config.metadata),t},e.prototype.addObject=function(t){if(t.preventDefault(),t.stopPropagation(),this.dataOfList){var e=this.createObject();this.dataOfList.push(e)}},e.prototype.deleteObject=function(t){var e=this;t.id&&this.genericFormService.delete(this.config.endpoint,t.id).subscribe((function(n){e.dataOfList.splice(e.dataOfList.indexOf(t),1),e.updateValue(void 0)}))},e.prototype.updateValue=function(t){var e=this.dataOfList.map((function(t){var e=t.data.value;return t.id&&(e.id=t.id),e}));this.group.get(this.key).patchValue(e)},e.prototype.fillingForm=function(t,e,n){var i=this;t.forEach((function(t){t.key?i.getValueOfData(e,t.key,n):t.children&&i.fillingForm(t.children,e,n)}))},e.prototype.getValueOfData=function(t,e,n){var i=e.split("."),a=i.shift();0===i.length?t&&n.addControl(e,this.fb.control(t[e])):t[a]&&(n.addControl(a,this.fb.group({})),this.getValueOfData(t[a],i.join("."),n.get(a)))},e.prototype.onModalScrollDown=function(){this.generateList(this.searchValue,!0)},e.prototype.deleteElement=function(t){t(),this.event.emit({type:"delete",endpoint:this.modalData.endpoint,id:this.modalData.id}),this.group.get(this.key).patchValue(""),delete this.config.value,this.displayValue=null},e.prototype.open=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=void 0),e&&(e.preventDefault(),e.stopPropagation()),this.modalData={},this.modalData.type=t,this.modalData.title=this.config.templateOptions.label,this.modalData.endpoint=this.config.endpoint,"edit"!==t&&"delete"!==t||(n?(this.modalData.title=n[this.display],this.modalData.id=n[this.param]):(this.modalData.title=this.displayValue,this.modalData.id=this.group.get(this.key).value)),this.modalRef=this.modalService.open(this.modal,{size:"lg"})},e.prototype.openAutocomplete=function(){var t=this;this.searchValue=null,this.hideAutocomplete=!1,this.generateList(this.searchValue),setTimeout((function(){t.search.nativeElement.focus()}),50)},e.prototype.generateList=function(t,e){var n=this;void 0===e&&(e=!1),this.config.useOptions?(this.hideAutocomplete=!1,this.searchValue?this.filter(this.searchValue):(this.list=this.config.options.filter((function(t){return!(n.results.indexOf(t)>-1)})).sort((function(t,e){return t[n.display]>e[n.display]?1:-1})),this.generatePreviewList(this.list))):(this.hideAutocomplete=!1,this.getOptions(t,this.lastElement,e))},e.prototype.generatePreviewList=function(t){this.lastElement+=this.limit,this.previewList=t.slice(0,this.lastElement)},e.prototype.resetList=function(){var t=this;setTimeout((function(){t.list=null,t.previewList=null,t.lastElement=0,t.hideAutocomplete=!0,t.count=null,t.config.many||(t.searchValue=null)}),150)},e.prototype.filter=function(t){var e=this;if(this.lastElement=0,this.count=null,this.previewList=null,this.config.useOptions){var n=void 0;t&&this.config.options&&(n=this.config.options.filter((function(n){var i=n[e.display];if(i){if(i.toLowerCase().indexOf(t.toLowerCase())>-1)return-1===e.results.indexOf(n)}})),this.list=n,this.generatePreviewList(this.list))}else this.generateList(t)},e.prototype.setValue=function(t){this.config.many?(this.results.push(t),this.updateData()):(this.displayValue=t[this.display],this.group.get(this.key).patchValue(t[this.param])),this.changeList(),this.eventHandler({type:"change"},t[this.param]),this.searchValue=null,this.list=null,this.count=null,this.previewList=null,this.errors=null,this.message=null},e.prototype.deleteItem=function(t){this.results[t]&&(this.results.splice(t,1),this.changeList(),this.updateData())},e.prototype.eventHandler=function(t,e){this.event.emit({type:t.type,el:this.config,value:e})},e.prototype.changeList=function(){this.event.emit({list:this.results})},e.prototype.updateData=function(){var t=this,e=this.results.map((function(e){return e[t.param]}));this.group.get(this.key).patchValue(e)},e.prototype.formEvent=function(t,e,n){"sendForm"===t.type&&"success"===t.status&&(e(),this.group.get(this.key).patchValue(t.data[this.param]),this.config.value=t.data[this.param],this.event.emit({type:"update",el:this.config,currentQuery:this.config.currentQuery}),this.eventHandler({type:"change"},t.data[this.param]))},e.prototype.getOptions=function(t,e,n){var i=this;void 0===n&&(n=!1);var a=this.config.endpoint,s="";t&&(s+="?search="+t+"&"),s+=s?"":"?",s+="limit="+this.limit+"&offset="+e+"&fields="+this.display+"&fields="+this.param,(!this.count||this.count&&e<this.count&&n)&&(this.lastElement+=this.limit,this.genericFormService.getByQuery(a,s).subscribe((function(t){i.count=t.count,t.results&&t.results.length&&(n?(e=i.previewList).push.apply(e,t.results):i.previewList=t.results);var e})))},e})(r.a);i.a([n.i(a.ViewChild)("search"),i.b("design:type",Object)],c.prototype,"search",void 0),i.a([n.i(a.ViewChild)("modal"),i.b("design:type",Object)],c.prototype,"modal",void 0),i.a([n.i(a.ViewChild)("tableWrapper"),i.b("design:type",Object)],c.prototype,"tableWrapper",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],c.prototype,"event",void 0),c=i.a([n.i(a.Component)({selector:"form-related",template:n(1251)}),i.b("design:paramtypes",[s.e,o.b,l.a])],c)},484:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(35),r=n(48);n.d(e,"a",(function(){return l}));var l=(function(t){function e(e,n){var i=t.call(this)||this;return i.fb=e,i.modalService=n,i.event=new a.EventEmitter,i}return i.c(e,t),e.prototype.ngOnInit=function(){this.addControl(this.config,this.fb),this.view=[],this.id=0,this.ruleArray=[],this.previewRule=[],this.data={},this.config.value?(this.data=this.config.value,this.generateView(this.data),this.group.get(this.key).patchValue(this.data)):(this.config.activeMetadata[0].value=null,this.view=[],this.group.get(this.key).patchValue(null))},e.prototype.ngOnDestroy=function(){this.modalRef&&this.modalRef.close()},e.prototype.addNewRule=function(){this.view&&(0===this.view.length||this.view[this.view.length-1].values.length>0)&&(this.id+=1,this.view.push({id:this.id,operator:"or",values:[]}))},e.prototype.open=function(t,e,n,i){void 0===i&&(i=null),this.addType=e||"new",this.editRule=n,this.choice="",this.editValue="",this.editIndex=null,this.app="",this.model="",this.elementValue="",this.config.model=null,this.config.function=null,this.modelsArray=null,this.functionsArray=null,n&&n.values[i]&&(this.editIndex=i,this.editValue=n.values[i]),"state"!==e&&"function"!==e||(this.choice=e,this.ruleArray=this.prepareRuleArray(e,n.id)),this.modalRef=this.modalService.open(t)},e.prototype.done=function(t,e){t();var n;this.elementValue&&this.editRule&&(e&&(n="rule"===e?this.addType:e,this.editRule.type=n),this.editRule.values[this.editIndex]?this.editRule.values[this.editIndex]=this.elementValue:this.editRule.values.push(this.elementValue)),this.reset(),this.generateData(this.view)},e.prototype.delete=function(t){t();var e=this.editRule;e.values.splice(this.editIndex,1),e.values.length||(e.type=null),this.reset()},e.prototype.reset=function(){this.editRule=null,this.editIndex=null,this.ruleArray=[],this.choice=""},e.prototype.prepareRuleArray=function(t,e){var n=[];return this.view.forEach((function(i){i.type&&i.type===t&&i.id<e&&n.push({id:i.id,name:"#"+i.id})})),n},e.prototype.showPreview=function(){var t=this;this.previewRule=[],["state","function"].forEach((function(e){var n=t.view.filter((function(t){return t.type===e})),i=n.pop(),a=t.parseValue(i);t.previewRule.push({label:e[0].toUpperCase()+e.slice(1),value:t.generateStringOfValues(a,e)})}))},e.prototype.parseValue=function(t){var e,n=this;return t&&t.values&&(e=t.values.map((function(e){if("#"===e[0]){var i=n.view.filter((function(t){return+t.id==+e.slice(1)}))[0];e=n.parseValue(i)}if("state"===t.type){var a=n.config.options.filter((function(t){return t.name_before_activation===e}))[0];a&&(e=a.number)}return e})),e.length>1&&e.unshift(t.operator)),e},e.prototype.generateStringOfValues=function(t,e){var n=this;void 0===e&&(e="");var i,a="";if(t){i=t.length>1?t.shift():null;var s=t.map((function(t){if(Array.isArray(t))return t=n.generateStringOfValues(t,e);if("state"===e){var i=n.config.options.filter((function(e){return+e.number==+t}))[0];i&&(t=i.name_before_activation)}return'"'+t+'"'}));a+=i?s.join(" "+i+" "):s.toString()}return"( "+a+" )"},e.prototype.generateArray=function(t){var e={app:"appsArray",model:"modelsArray",function:"functionsArray",options:"statesArray"};if("function"===t||"options"===t){var n=this.editRule.values;this[e[t]]=this.config[t].filter((function(e){return"options"===t?-1===n.indexOf(e.name_before_activation):-1===n.indexOf(e)}))}else this[e[t]]=[].concat(this.config[t])},e.prototype.getRelatedData=function(t){var e={model:{param:"app",query:"?app_name=",endpoint:"/ecore/api/v2/models/"},function:{param:"model",query:"?app_name="+this.app+"&model_name=",endpoint:"/ecore/api/v2/functions/"}};"model"===t?(this.model=null,this.elementValue=null,delete this.config.model,delete this.config.function):"function"===t&&(this.elementValue=null,delete this.config.function),this.event.emit({type:"change",el:{endpoint:e[t].endpoint,type:"rule",related:{field:"rules",param:e[t].param,query:e[t].query,prop:t}},value:[(n={},n[e[t].param]=this[e[t].param],n)]});var n},e.prototype.generateData=function(t){var e=this;["state","function"].forEach((function(t){var n=e.view.filter((function(e){return e.type===t})),i=n.pop(),a=e.parseValue(i);a&&("state"===t?e.data.required_states=a:"function"===t&&(e.data.required_functions=a))})),this.group.get(this.key).patchValue(this.data)},e.prototype.changeActiveStates=function(t){t&&t.list&&(this.data.active=t.list.map((function(t){return t.number}))),this.generateData(this.view)},e.prototype.generateView=function(t){var e=this;Object.keys(t).forEach((function(n){if("active"===n)e.config.activeMetadata[0].value=t[n];else{var i=void 0;"required_states"===n?i="state":"required_functions"===n&&(i="function"),e.generateDataForView([].concat(t[n]),i)}}))},e.prototype.generateDataForView=function(t,e){var n=this;if(0===t.length)return void this.createElement(void 0,"or",this.id+=1,t);if(this.config.options){var i=1===t.length?"or":t.shift(),a=t.map((function(t,i){if(Array.isArray(t)){return"#"+n.generateDataForView(t,e)}if("state"===e){var a=n.config.options.filter((function(e){return e.number===t}))[0];a&&(t=a.name_before_activation)}return t}));return this.createElement(e,i,this.id+=1,a),this.id}},e.prototype.createElement=function(t,e,n,i){this.view.push({id:n,type:t,operator:e,values:i})},e})(r.a);i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],l.prototype,"event",void 0),i.a([n.i(a.ViewChild)("element"),i.b("design:type",Object)],l.prototype,"element",void 0),l=i.a([n.i(a.Component)({selector:"form-rule",template:n(1252)}),i.b("design:paramtypes",[s.e,o.b])],l)},485:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(48);n.d(e,"a",(function(){return r}));var r=(function(t){function e(e){var n=t.call(this)||this;return n.fb=e,n.event=new a.EventEmitter,n}return i.c(e,t),e.prototype.ngOnInit=function(){this.addControl(this.config,this.fb),this.options=this.config.templateOptions.options.sort((function(t,e){return t.label>e.label?1:-1})),this.config.value&&this.group.get(this.key).patchValue(this.config.value)},e.prototype.ngAfterViewInit=function(){this.addFlags(this.select,this.config)},e.prototype.eventHandler=function(t){this.event.emit({type:t.type,el:this.config,value:this.group.get(this.key).value})},e})(o.a);i.a([n.i(a.ViewChild)("select"),i.b("design:type",Object)],r.prototype,"select",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],r.prototype,"event",void 0),r=i.a([n.i(a.Component)({selector:"form-select",template:n(1253)}),i.b("design:paramtypes",[s.e])],r)},486:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(48);n.d(e,"a",(function(){return r}));var r=(function(t){function e(e){var n=t.call(this)||this;return n.fb=e,n}return i.c(e,t),e.prototype.ngOnInit=function(){this.addControl(this.config,this.fb),this.config.value&&this.group.get(this.key).patchValue(this.config.value)},e.prototype.ngAfterViewInit=function(){this.addFlags(this.textarea,this.config)},e})(o.a);i.a([n.i(a.ViewChild)("textarea"),i.b("design:type",Object)],r.prototype,"textarea",void 0),r=i.a([n.i(a.Component)({selector:"form-textarea",template:n(1254)}),i.b("design:paramtypes",[s.e])],r)},487:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(35);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.modalService=t,this.event=new a.EventEmitter,this.stateData={}}return t.prototype.ngOnInit=function(){this.objectEndpoint="/ecore/api/v2/endless-core/workflowobjects/",this.getTimeline()},t.prototype.ngOnDestroy=function(){this.modalRef&&this.modalRef.close()},t.prototype.open=function(t){if(this.modalData={},1===t.state||2===t.state){var e="";1===t.state?e=t.name_before_activation:2===t.state&&(e=t.name_after_activation?t.name_after_activation:t.name_before_activation,this.modalData.id=t.wf_object_id),this.modalData.title=e,this.stateData=this.setDataForState(t),this.modalRef=this.modalService.open(this.stateModal,{size:"lg"})}},t.prototype.getTimeline=function(){var t=this,e=this.config.query.map((function(e){return e+"="+t.config[e]}));this.event.emit({type:"update",el:this.config,query:"?"+e.join("&")})},t.prototype.setDataForState=function(t){var e=this,n=["object_id","state","active"],i={};return n.forEach((function(n){var a="state"===n?t.id:"object_id"!==n||e.config[n];i[n]={action:"add",data:{read_only:!0,value:a,readonly:!0}}})),i},t.prototype.sendEventHandler=function(t,e){"success"===t.status&&(e(),this.getTimeline(),this.modalData=null)},t})();i.a([n.i(a.ViewChild)("stateModal"),i.b("design:type",Object)],o.prototype,"stateModal",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"event",void 0),o=i.a([n.i(a.Component)({selector:"form-timeline",template:n(1255)}),i.b("design:paramtypes",[s.b])],o)},488:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(48),r=n(1),l=n.n(r);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e){var n=t.call(this)||this;return n.fb=e,n.displayMonths=2,n.navigation="select",n.dateFormat="YYYY-MM-DD",n}return i.c(e,t),e.prototype.ngOnInit=function(){this.vacancyDates=[],this.calcMinDate(l.a),this.addControl(this.config,this.fb),this.config&&this.config.value&&(this.vacancyDates=this.generateVacancyDates(this.config.value,l.a),this.group.get(this.key).patchValue(this.config.value))},e.prototype.calcMinDate=function(t){this.minDate={year:t().year(),month:t().month()+1,day:t().date()}},e.prototype.generateVacancyDates=function(t,e){var n=this;return t.map((function(t){var i={shift_date:"",workers:0};return t.shift_date&&(i.shift_date=e(t.shift_date).format(n.dateFormat)),t.workers&&(i.workers=t.workers),i}))},e.prototype.selectVacancyDate=function(t,e){void 0===e&&(e=l.a);var n={shift_date:e().date(t.day).month(t.month-1).year(t.year).format(this.dateFormat),workers:1};this.checkIfExistVacancyDate(this.vacancyDates,n)||(this.vacancyDates.push(n),this.vacancyDates.sort((function(t,e){return t.shift_date>e.shift_date?1:-1})),this.updateResults(this.vacancyDates))},e.prototype.checkIfExistVacancyDate=function(t,e){return!!t.filter((function(t){return t.shift_date===e.shift_date})).length},e.prototype.removeVacancyDate=function(t){var e=this.vacancyDates.indexOf(t);this.vacancyDates.splice(e,1),this.updateResults(this.vacancyDates)},e.prototype.updateResults=function(t){this.group.get(this.key).patchValue(t)},e})(o.a);c=i.a([n.i(a.Component)({selector:"form-vacancy-dates",template:n(1256)}),i.b("design:paramtypes",[s.e])],c)},489:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){}return t.prototype.ngOnInit=function(){this.config.values&&(this.value=this.config.values[this.config.value])},t})();s=i.a([n.i(a.Component)({selector:"list-checkbox",template:n(1259)})],s)},490:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){}return t.prototype.ngOnInit=function(){var t;t=document.body.classList.contains("r3sourcer")?"r3-avatar.png":"avatar.png","picture"===this.config.type?this.src=this.config.value&&this.config.value.thumb?this.config.value.thumb:"/assets/img/"+t:"icon"===this.config.type&&this.config.values&&(this.icon=this.config.values[this.config.value],this.setClass(this.config.value))},t.prototype.setClass=function(t){this.iconClass=!0===t?"text-success":!1===t?"text-danger":"text-muted"},t})();s=i.a([n.i(a.Component)({selector:"list-image",template:n(1260)})],s)},491:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter}return t.prototype.ngOnInit=function(){this.href=this.createHref(this.config.value,this.config.link),this.config.value&&this.config.value instanceof Object?this.value=this.config.value.__str__:this.value=this.config.value},t.prototype.isEmail=function(t){return!!/^[a-z][a-zA-Z0-9_.]*(\.[a-zA-Z][a-zA-Z0-9_.]*)?@[a-z][a-zA-Z-0-9]*\.[a-z]+(\.[a-z]+)?$/.test(t)},t.prototype.isPhone=function(t){return!!/^\+(?:[0-9] ?){6,14}[0-9]$/.test(t)},t.prototype.createHref=function(t,e){return this.isEmail(t)||this.isPhone(t)?""+e:(this.link=!0,""+e)},t.prototype.action=function(t){var e=this.config.endpoint.split("/"),n=e[e.length-2];e.splice(e.length-2,1);var i=e.join("/");t.preventDefault(),t.stopPropagation(),this.event.emit({target:"form",endpoint:i||this.config.endpoint,label:this.element.nativeElement.innerText,id:n||this.config.id})},t.prototype.eventHandler=function(t){this.event.emit(t)},t.prototype.buttonHandler=function(t){this.buttonAction.emit(t)},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"buttonAction",void 0),i.a([n.i(a.ViewChild)("link"),i.b("design:type",Object)],s.prototype,"element",void 0),s=i.a([n.i(a.Component)({selector:"list-link",template:n(1261)})],s)},492:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.config=[]}return t})();s=i.a([n.i(a.Component)({selector:"list-text",template:n(1264)})],s)},493:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.isCollapsed=!1,this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter}return t.prototype.ngOnInit=function(){this.isCollapsed=this.config.collapsed},t.prototype.eventHandler=function(t){this.event.emit(t)},t.prototype.buttonActionHandler=function(t){this.buttonAction.emit(t)},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"buttonAction",void 0),s=i.a([n.i(a.Component)({selector:"form-collapse",template:n(1268)})],s)},494:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter}return t.prototype.eventHandler=function(t){this.event.emit(t)},t.prototype.buttonActionHandler=function(t){this.buttonAction.emit(t)},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"buttonAction",void 0),s=i.a([n.i(a.Component)({selector:"form-hidden",template:n(1269)})],s)},495:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter}return t.prototype.eventHandler=function(t){this.event.emit(t)},t.prototype.buttonActionHandler=function(t){this.buttonAction.emit(t)},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"buttonAction",void 0),s=i.a([n.i(a.Component)({selector:"form-row",template:n(1270)})],s)},496:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter}return t.prototype.sort=function(){this.config.sort&&this.event.emit({type:"sort",name:this.config.name})},t.prototype.eventHandler=function(t){this.event.emit(t)},t.prototype.buttonHandler=function(t){this.buttonAction.emit(t)},t})();i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"buttonAction",void 0),s=i.a([n.i(a.Component)({selector:"list-column",template:n(1272),changeDetection:a.ChangeDetectionStrategy.OnPush})],s)},497:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23),o=n(140),r=n(5);n.n(r);n.d(e,"a",(function(){return l}));var l=(function(){function t(t,e){this.router=t,this.userServise=e}return t.prototype.canActivate=function(){var t=this;return this.userServise.getUserData().map((function(t){return!0})).catch((function(e){return t.router.navigate(["/home"]),r.Observable.of(!1)}))},t})();l=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[s.c,o.a])],l)},498:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(192),o=n(5),r=(n.n(o),n(159)),l=(n.n(r),n(371)),c=(n.n(l),n(790));n.n(c);n.d(e,"a",(function(){return d}));var d=(function(){function t(t){this.http=t,this.contactUrl="/ecore/api/v2/endless-core/contacts/",this.companyUrl="/ecore/api/v2/endless-core/companies/",this.companyLocUrl="/ecore/api/v2/endless-core/companylocalizations/",this.companyAddress="/ecore/api/v2/endless-core/companyaddresses/"}return t.prototype.getCompaniesOfCountry=function(t){return this.http.get(this.companyUrl+"?country="+t+"&limit=-1&fields=name").map((function(t){return t.json()})).catch((function(t){return o.Observable.throw(t.json()||"Server error")}))},t.prototype.getCompany=function(t,e){return this.http.get(this.companyUrl+"?name="+t+"&business_id="+e).map((function(t){return t.json()})).catch((function(t){return o.Observable.throw(t.json()||"Server error")}))},t.prototype.getCompanyLocalization=function(t){return this.http.get(this.companyLocUrl+"?country="+t).map((function(t){return t.json()})).catch((function(t){return o.Observable.throw(t.json()||"Server error")}))},t.prototype.getAddressOfCompany=function(t){return this.http.get(this.companyAddress+"?company="+t).map((function(t){return t.json()})).catch((function(t){return o.Observable.throw(t.json()||"Server error")}))},t.prototype.fieldValidation=function(t,e){return"phone_mobile"===t&&(t="phone"),this.http.get(this.contactUrl+"validate/?"+t+"="+e).map((function(t){return t.json()})).catch((function(t){return o.Observable.throw(t.json()||"Server error")}))},t})();d=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[s.c])],d)},499:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23),o=n(140),r=n(5);n.n(r);n.d(e,"a",(function(){return l}));var l=(function(){function t(t,e){this.router=t,this.UserService=e}return t.prototype.canActivate=function(){var t=this;return this.UserService.getUserData().map((function(e){return t.router.navigate(["/"]),!1})).catch((function(t){return r.Observable.of(!0)}))},t})();l=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[s.c,o.a])],l)},500:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(5);n.n(s);n.d(e,"a",(function(){return o}));var o=(function(){function t(){}return t.prototype.getDataOfPage=function(t,e){var n=this.generateData(e,t);return s.Observable.of(n)},t.prototype.generateData=function(t,e){var n=this.getTypeOfPage(e),i=this.getElementFromList(t,n.path),a={endpoint:i?i.endpoint:"",pathData:n};return n.postfix&&(a.endpoint=a.endpoint+n.id+"/submit/",n.id=null),a},t.prototype.generatePath=function(t){return"/"+t.join("/")+"/"},t.prototype.getTypeOfPage=function(t){var e,n=t.map((function(t){return t.path})),i=n.pop();if("add"===i)e={type:"form",path:this.generatePath(n)};else if("change"===i||"submit"===i){var a=n.pop();e={type:"form",path:this.generatePath(n),id:a},"submit"===i&&(e.postfix="submit",e.modal=!0,e.title="TimeSheet filling")}else"profile"===i?(n.push(i),e={type:"profile",path:this.generatePath(n)}):(n.push(i),e={type:"list",path:this.generatePath(n)});return e},t.prototype.getElementFromList=function(t,e){var n,i=this;return t.forEach((function(t){t.url===e?n||(n=t):t.childrens.length&&(n||(n=i.getElementFromList(t.childrens,e)))})),n},t})();o=i.a([n.i(a.Injectable)()],o)},72:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(28);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.gfs=t,this.queries=[],this.filterList=[],this._filters={},this._paramsOfFilters={}}return Object.defineProperty(t.prototype,"filters",{set:function(t){this._filters[t.endpoint]||(this._filters[t.endpoint]=[],t&&t.list&&this.filterList.indexOf(t.list.list)<0?(this.filterList.push(t.list.list),t.list.filters.forEach((function(e){e.listName=t.list.list,e.endpoint=t.endpoint})),this.parseFilters(t.list.filters,this.paramsOfFilters,t.list.list,!0),(e=this._filters[t.endpoint]).push.apply(e,t.list.filters)):(this._filters={},this.filterList=[]));var e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramsOfFilters",{get:function(){return this._paramsOfFilters},set:function(t){this._paramsOfFilters[t.param]?this._paramsOfFilters[t.param]+="&"+t.value:this._paramsOfFilters[t.param]=t.value;var e=this.getFiltersByEndpoint(t.endpoint);e&&this.parseFilters(e,this.paramsOfFilters,t.list)},enumerable:!0,configurable:!0}),t.prototype.getFiltersByEndpoint=function(t){return this._filters[t]},t.prototype.getFiltersOfList=function(t,e){var n=[];return t&&this._filters[t]&&(n=this._filters[t].filter((function(t){return t.listName===e})),this.deleteFilters(this._filters[t],e)),n},t.prototype.deleteFilters=function(t,e){var n=this;t.forEach((function(i){i.listName===e&&(t.splice(t.indexOf(i),1),n.deleteFilters(t,e))})),this.filterList.splice(this.filterList.indexOf(e),1)},t.prototype.getQuery=function(t){return this.parseQueries(this.queries,t)},t.prototype.generateQuery=function(t,e,n,i){if(void 0===i&&(i=void 0),this.queries.length>0){var a=this.queries.filter((function(t){return t.list===n}));a[0]?a[0].keys[e]={query:t,value:i}:this.queries.push({list:n,keys:(s={},s[e]={query:t,value:i},s)})}else this.queries.push({list:n,keys:(o={},o[e]={query:t,value:i},o)});var s,o},t.prototype.parseQueries=function(t,e){var n="";return t.forEach((function(t){if(t.list===e){Object.keys(t.keys).forEach((function(e){t.keys[e].query&&(n+=t.keys[e].query+"&")}))}})),n=n.substring(0,n.length-1)},t.prototype.parseFilters=function(t,e,n,i){var a=this;void 0===i&&(i=!1),Object.keys(e).length>0&&t.forEach((function(t){if(e[t.query]){var i="";if(e[t.query].indexOf("&")>-1){e[t.query].split("&").forEach((function(e){i+=t.query+"="+e+"&"})),i=i.slice(0,-1)}else i=t.query+"="+e[t.query];a.generateQuery(i,t.key,n)}else if(t.input){var s="";t.input.forEach((function(t){e[t.query]&&(s+=t.query+"="+e[t.query]+"&")})),s&&a.generateQuery(s.substring(0,s.length-1),t.key,n)}}))},t.prototype.getQueries=function(t,e){var n;return this.queries.forEach((function(i){i.list===t&&i.keys[e]&&(i.keys[e].value?n=i.keys[e].value:i.keys[e].query&&(n={byQuery:!0,query:i.keys[e].query}))})),n},t.prototype.resetQueries=function(t){var e;this.queries.forEach((function(n){n.list===t&&(e=n)})),this.queries.indexOf(e)>=0&&this.queries.splice(this.queries.indexOf(e),1),this._paramsOfFilters={}},t})();o=i.a([n.i(a.Injectable)(),i.b("design:paramtypes",[s.a])],o)},812:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=812},814:function(t,e,n){"use strict";var i=n(945);n.d(e,"a",(function(){return i.a}))},944:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){}return t})();s=i.a([n.i(a.Component)({selector:"app",template:"<router-outlet></router-outlet>"})],s)},945:function(t,e,n){"use strict";var i=n(4),a=n(86),s=n(6),o=n(192),r=n(0),l=n(23),c=n(381),d=n(947),p=n(944),u=n(946),f=n(968),h=n(951),m=n(970),g=n(334),v=n(967),y=n(550),b=(n.n(y),n(549)),k=(n.n(b),n(35)),w=n(214),E=n.n(w),O=n(1133),x=(n.n(O),n(1144)),I=(n.n(x),n(987)),C=(n.n(I),n(1146));n.n(C);n.d(e,"a",(function(){return _})),E.a.tz.setDefault("Australia/Sydney");var D=u.a.slice(),_=(function(){function t(){}return t})();_=i.a([n.i(r.NgModule)({bootstrap:[p.a],declarations:[p.a,f.a].concat(h.a),imports:[a.b,s.a,s.b,o.a,l.a.forRoot(d.a,{useHash:!0,preloadingStrategy:l.b}),k.a.forRoot(),g.Ng2Webstorage.forRoot({prefix:"web",separator:"."}),l.a.forRoot(d.a,{useHash:!0,preloadingStrategy:l.b}),v.a,y.Angular2FontawesomeModule],providers:[c.b,D].concat(m.a,[b.CookieService])})],_)},946:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(5),o=(n.n(s),n(789));n.n(o);n.d(e,"a",(function(){return l}));var r=(function(){function t(){}return t.prototype.resolve=function(t,e){return s.Observable.of({res:"I am data"})},t})();r=i.a([n.i(a.Injectable)()],r);var l=[r]},947:function(t,e,n){"use strict";var i=n(468),a=n(470),s=n(469),o=n(471),r=n(497),l=n(499);n.d(e,"a",(function(){return c}));var c=[{path:"",pathMatch:"full",redirectTo:"/"},{path:"home",component:s.a,canActivate:[l.a]},{path:"login",component:a.a,canActivate:[l.a]},{path:"login/:token",component:a.a,canActivate:[l.a]},{path:"registration",component:i.a,canActivate:[l.a]},{path:"registration/password",component:i.a,canActivate:[r.a]},{path:"**",component:o.a,canActivate:[r.a]}]},948:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.route=t,this.list=[]}return t.prototype.ngOnChanges=function(){this.getList()},t.prototype.getList=function(){var t=this;this.route.url.subscribe((function(e){t.navigationList&&(t.list=[],t.generateData(e))}))},t.prototype.generateData=function(t){var e=t.map((function(t){return t.path}));this.generateBreadcrumb(e)},t.prototype.generateBreadcrumb=function(t){var e=this,n="/"+t.join("/")+"/";t.forEach((function(i,a){var s="/"+t.slice(0,a+1).join("/")+"/",o=e.getElement(s,e.navigationList);o?e.list.push({path:s,label:o.name,active:s===n}):"add"!==i&&"change"!==i||!e.formLabel||e.list.push({path:null,label:e.formLabel,active:!0})}))},t.prototype.getElement=function(t,e){var n,i=this;return e.forEach((function(e){e.url===t?n||(n=e):e.childrens&&e.childrens.length&&(n||(n=i.getElement(t,e.childrens)))})),n},t})();i.a([n.i(a.Input)(),i.b("design:type",Array)],o.prototype,"navigationList",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],o.prototype,"formLabel",void 0),o=i.a([n.i(a.Component)({selector:"breadcrumb",template:n(1229),changeDetection:a.ChangeDetectionStrategy.OnPush}),i.b("design:paramtypes",[s.d])],o)},949:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(35),o=n(28),r=n(198);n.d(e,"a",(function(){return l}));var l=(function(){function t(t,e,n){this.modalService=t,this.genericFormService=e,this.navigationService=n,this.userModelsEndpoint="/ecore/api/v2/endless-core/userdashboardmodules/",this.modelsListEndpoint="/ecore/api/v2/endless-core/dashboardmodules/",this.changeWidgetList=new a.EventEmitter}return t.prototype.ngOnChanges=function(){this.pages&&this.userModules&&this.modulesList&&(this.widgetList=[],this.widgets=[],this.generateWidgetList())},t.prototype.ngOnDestroy=function(){this.modalRef&&this.modalRef.close()},t.prototype.openModal=function(){this.selectedWidget=null,this.availableModules=this.getAvaliableModules(),this.modalRef=this.modalService.open(this.modal)},t.prototype.getAvaliableModules=function(){var t=this;return this.modulesList.filter((function(e){var n,i=t.userModules.filter((function(t){if(t.dashboard_module.id===e.id)return!0}));return i&&!i.length&&(n=!0),n}))},t.prototype.selectModule=function(t){this.userModelData={},this.userModelData.dashboard_module=t.id,this.userModelData.position=this.getLastPosition()+1,this.userModelData.ui_config={},this.selectedWidget=t},t.prototype.addModule=function(t){var e=this;t(),this.genericFormService.submitForm(this.userModelsEndpoint,this.userModelData).subscribe((function(t){e.changeWidgetList.emit({changed:!0})}))},t.prototype.removeModule=function(t){var e=this;this.genericFormService.delete(this.userModelsEndpoint,t.id).subscribe((function(t){e.changeWidgetList.emit({changed:!0})}))},t.prototype.getLastPosition=function(){var t=0;return this.widgets.forEach((function(e){e&&e.position&&e.position>t&&(t=e.position)})),t},t.prototype.generateWidgetList=function(){var t=this;this.userModules.forEach((function(e){var n=t.getInfoAboutWidget(e,["module_data"]);if(n){var i=n.module_data.app.split("_").map((function(t){return t.toUpperCase()})).join(" "),a=n.module_data.app.replace(/_/,"-"),s=n.module_data.plural_name.split(" ").join("").toLowerCase(),o="/ecore/api/v2/"+a+"/"+s+"/",r=t.getLinkByEndpoint(t.pages,o),l={label:e.dashboard_module.name,link:e.ui_config&&e.ui_config.display_on_navbar?r||"/":"/",endpoint:o,position:e.position,ui_config:e.ui_config,labelOfWidgetGroup:i,id:e.id};t.widgets.push(l)}}));var e=this.getListOfGroupsName(this.widgets,"labelOfWidgetGroup"),n=this.generateGroupsOfWidgets(e,this.widgets);Object.keys(n).forEach((function(e){t.widgetList.push(n[e])}))},t.prototype.generateGroupsOfWidgets=function(t,e){var n={};return t.forEach((function(t){n[t]={label:t,list:[]},n[t].list=[].concat(e.filter((function(e){return e.labelOfWidgetGroup===t}))),n[t].list.sort((function(t,e){return t.position>e.position?1:-1}))})),n},t.prototype.getInfoAboutWidget=function(t,e){var n={},i=this.modulesList.filter((function(e){if(e.id===t.dashboard_module.id)return!0}));return i&&i[0]&&e.forEach((function(t){n[t]=i[0][t]})),n},t.prototype.getLinkByEndpoint=function(t,e){var n,i=this;return t.forEach((function(t){t&&t.endpoint===e?n=t.url:n||(n=i.getLinkByEndpoint(t.childrens,e))})),n},t.prototype.getListOfGroupsName=function(t,e){var n=[];return t.forEach((function(t){-1===n.indexOf(t[e])&&n.push(t[e])})),n},t})();i.a([n.i(a.ViewChild)("modal"),i.b("design:type",Object)],l.prototype,"modal",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],l.prototype,"modulesList",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],l.prototype,"userModules",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],l.prototype,"changeWidgetList",void 0),i.a([n.i(a.Input)(),i.b("design:type",Array)],l.prototype,"pages",void 0),l=i.a([n.i(a.Component)({selector:"dashboard",template:n(1231)}),i.b("design:paramtypes",[s.b,o.a,r.a])],l)},950:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23),o=n(28);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this.router=t,this.genericFormService=e,this.str=new a.EventEmitter}return t.prototype.eventHandler=function(t){"sendForm"===t.type&&"success"===t.status&&(this.id=t.data.id,this.label=t.data.__str__,this.previewLink="/ecore/form-builds/"+this.id+"/",this.data={groups:{action:"add",data:{fields:t.data.model_fields}}},this.str.emit({str:t.data.__str__}))},t.prototype.eventForm=function(t){t&&t.data?(this.label=t.data.__str__,this.previewLink="/ecore/form-builds/"+t.data.id+"/",this.data={groups:{action:"add",data:{fields:t.data.model_fields,id:t.data.id}}},this.str.emit({str:t.data.__str__})):t.str&&this.str.emit({str:t.str})},t.prototype.delete=function(){var t=this;this.id&&this.genericFormService.delete(this.endpoint,this.id).subscribe((function(e){t.router.navigate([t.path])}))},t})();i.a([n.i(a.Input)(),i.b("design:type",String)],r.prototype,"endpoint",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],r.prototype,"id",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],r.prototype,"path",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],r.prototype,"str",void 0),r=i.a([n.i(a.Component)({selector:"form-builder",template:n(1232)}),i.b("design:paramtypes",[s.c,o.a])],r)},951:function(t,e,n){"use strict";var i=n(468),a=n(470),s=n(953),o=n(952),r=n(948),l=n(471),c=n(949),d=n(950),p=n(469);n.d(e,"a",(function(){return u}));var u=[a.a,i.a,s.a,o.a,r.a,l.a,c.a,d.a,p.a]},952:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(198),o=n(140);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this.navigationService=t,this.userService=e,this.pages=[],this.isCollapsed=!1,this.hideUserMenu=!0}return t.prototype.ngOnInit=function(){this.getUserInformation()},t.prototype.ngAfterViewInit=function(){this.headerHeight=this.header.nativeElement.offsetHeight-1},t.prototype.getUserInformation=function(){this.user&&this.user.contact?this.greeting="Welcome, "+this.user.contact.__str__:this.greeting="Welcome, Anonymous User"},t.prototype.hideUserBlock=function(t){t.preventDefault(),t.stopPropagation(),this.isCollapsed=!1,this.hideUserMenu=!this.hideUserMenu},t.prototype.showNavigation=function(t){t.preventDefault(),t.stopPropagation(),this.hideUserMenu=!0,this.isCollapsed=!this.isCollapsed},t.prototype.logOut=function(){this.userService.logout()},t.prototype.handleClick=function(t){var e=t.target,n=!1;do{(this.nav&&e===this.nav.nativeElement||this.userBlock&&e===this.userBlock.nativeElement)&&(n=!0),e=e.parentNode}while(e);n||(this.isCollapsed&&(this.isCollapsed=!1),this.hideUserMenu||(this.hideUserMenu=!0))},t})();i.a([n.i(a.ViewChild)("header"),i.b("design:type",Object)],r.prototype,"header",void 0),i.a([n.i(a.ViewChild)("list"),i.b("design:type",Object)],r.prototype,"list",void 0),i.a([n.i(a.ViewChild)("item"),i.b("design:type",Object)],r.prototype,"item",void 0),i.a([n.i(a.ViewChild)("nav"),i.b("design:type",Object)],r.prototype,"nav",void 0),i.a([n.i(a.ViewChild)("userBlock"),i.b("design:type",Object)],r.prototype,"userBlock",void 0),i.a([n.i(a.Input)(),i.b("design:type",Array)],r.prototype,"pages",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],r.prototype,"user",void 0),i.a([n.i(a.HostListener)("document:click",["$event"]),i.b("design:type",Function),i.b("design:paramtypes",[Object]),i.b("design:returntype",void 0)],r.prototype,"handleClick",null),r=i.a([n.i(a.Component)({selector:"navigation",template:n(1235)}),i.b("design:paramtypes",[s.a,o.a])],r)},953:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(35),o=n(28);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this.service=t,this.modalService=e,this.endpoint="/ecore/api/v2/endless-candidate/candidatecontacts/",this.contactEndpoint="/ecore/api/v2/endless-core/contacts/",this.skillsEndpoint="/ecore/api/v2/endless-candidate/skillrels/",this.tagsEndpoint="/ecore/api/v2/endless-candidate/tagrels/",this.personalTraits={type:"list",isCollapsed:!1,viewData:[]},this.residency={type:"list",isCollapsed:!1,viewData:[]},this.skills={type:"table",isCollapsed:!1,viewData:[]},this.tags={type:"table",isCollapsed:!1,viewData:[]},this.contactDetails={type:"list",isCollapsed:!1,viewData:[]}}return t.prototype.ngOnInit=function(){this.personalTraits.elementList=["contact.gender","weight","transportation_to_work","strength","language","reliability_score","loyalty_score","total_score"],this.residency.elementList=["residency","visa_type.__str__","visa_expiry_date","nationality"],this.contactDetails.elementList=["email","phone_mobile","address.phone_landline","address.phone_fax","address.city","address.postal_code","address.state","address.country"],this.skills.elementList=["skill","score","prior_experience"],this.tags.elementList=["__str__","verification_evidence","verified_by"],this.id="7a25f402-c421-4412-a9e1-163baea438e8",this.getMetadata(this.endpoint)},t.prototype.ngOnDestroy=function(){this.modalRef&&this.modalRef.close()},t.prototype.openModal=function(t,e,n){this.modalData=null,this.modalData=this.prepareData(t,e,n),this.modalRef=this.modalService.open(this.modal,{size:"lg"})},t.prototype.prepareData=function(t,e,n){var i={title:"",endpoint:"",id:""};return i.title=t||this.data.contact.__str__,i.endpoint=e?this[e+"Endpoint"]:this.endpoint,i.id=n||this.id,i},t.prototype.getMetadata=function(t){var e=this;this.service.getMetadata(this.endpoint+"?type=form").subscribe((function(t){e.metadata=t,e.getData()}),(function(t){return e.error=t}))},t.prototype.getData=function(){var t=this;this.service.getAll(this.endpoint+this.id+"/").subscribe((function(e){t.data=e,t.contactId=e.contact.id,t.generate("personalTraits"),t.generate("residency"),t.getContactMetadata()}),(function(e){return t.error=e}))},t.prototype.getContactMetadata=function(){var t=this;this.service.getMetadata(this.contactEndpoint+"?type=form").subscribe((function(e){t.contactMetadata=e,t.getContactData()}),(function(e){return t.error=e}))},t.prototype.getContactData=function(){var t=this;this.service.getAll(this.contactEndpoint+this.contactId+"/").subscribe((function(e){t.contactData=e,t.generate("contactDetails"),t.getSkillMetadata()}),(function(e){return t.error=e}))},t.prototype.getSkillMetadata=function(){var t=this;this.service.getMetadata(this.skillsEndpoint+"?type=form").subscribe((function(e){t.skillsMetadata=e,t.getTagMetadata()}),(function(e){return t.error=e}))},t.prototype.getTagMetadata=function(){var t=this;this.service.getMetadata(this.tagsEndpoint+"?type=form").subscribe((function(e){t.tagsMetadata=e,t.generateView()}),(function(e){return t.error=e}))},t.prototype.generateView=function(){var t=this;["skills","tags"].forEach((function(e){t.generate(e)}))},t.prototype.generate=function(t){switch(this[t].type){case"list":this.generateList(this[t].elementList,this[t].viewData,t);break;case"table":this.generateTable(this[t].elementList,this[t].viewData,t);break;default:return!1}},t.prototype.generateList=function(t,e,n){var i,a,s=this;"contactDetails"===n?(a=this.contactData,i=this.contactMetadata):(a=this.data,i=this.metadata),t.forEach((function(t){var n,o=[],r=s.getItemFromMetadata(i,t);o.push(r&&r.templateOptions.label?r.templateOptions.label:""),r&&"select"===r.type&&(n=r.templateOptions.options);var l=s.getValueOfData(a,t,n);o.push(l||("nationality"===t?"Other":"")),s.isEmail(l)?o.push("mailto:"):s.isPhone(l)&&o.push("tel:"),e.push(o)}))},t.prototype.generateTable=function(t,e,n){var i=this,a=this[n+"Metadata"],s=this.data;e.label=t.map((function(t){var e=i.getItemFromMetadata(a,t);return e&&e.templateOptions.label?e.templateOptions.label:""}));var o="skills"===n?"candidate_skills":"tags"===n?"tag_rels":null;e.row=[],o&&s[o].forEach((function(n){var s={id:"",values:[]};t.forEach((function(t){var e,o=i.getItemFromMetadata(a,t);o&&"select"===o.type&&(e=o.templateOptions.options);var r=i.getValueOfData(n,t,e);s.id=i.getValueOfData(n,"id"),i.isLink(r)?s.values.push([r]):s.values.push(r||"")})),e.row.push(s)}))},t.prototype.getItemFromMetadata=function(t,e){var n,i=this;return t.forEach((function(t){t.key===e?n=t:t.children&&(n=i.getItemFromMetadata(t.children,e))})),n},t.prototype.getValueOfData=function(t,e,n){void 0===n&&(n=null);var i=e.split("."),a=i.shift();if(0===i.length){var s;return n?n.forEach((function(e){e.value===t[a]&&(s=e.label)})):s=t[a]instanceof Object?t[a].name:t[a],s}return this.getValueOfData(t[a],i.join("."),n)},t.prototype.isEmail=function(t){return!!/^[a-z][a-zA-Z0-9_.]*(\.[a-zA-Z][a-zA-Z0-9_.]*)?@[a-z][a-zA-Z-0-9]*\.[a-z]+(\.[a-z]+)?$/.test(t)},t.prototype.isPhone=function(t){return!!/^\+(?:[0-9] ?){6,14}[0-9]$/.test(t)},t.prototype.isLink=function(t){return!!/^(https?:\/\/)/.test(t)},t.prototype.refreshProfile=function(){var t=this;["personalTraits","residency","contactDetails","skills","tags"].forEach((function(e){t[e].viewData=[],t.generate(e)}))},t.prototype.formEvent=function(t,e){"sendForm"===t.type&&"success"===t.status&&(e(),this.refreshProfile())},t})();i.a([n.i(a.Input)(),i.b("design:type",String)],r.prototype,"id",void 0),i.a([n.i(a.ViewChild)("modal"),i.b("design:type",Object)],r.prototype,"modal",void 0),r=i.a([n.i(a.Component)({selector:"profile",template:n(1236)}),i.b("design:paramtypes",[o.a,s.b])],r)},954:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(35);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.modalService=t,this.event=new a.EventEmitter}return t.prototype.toDoAction=function(){this.action&&this.action.confirm?this.open(this.content):this.action&&!this.action.confirm&&this.event.emit({action:this.action})},t.prototype.open=function(t){var e=this;this.modalService.open(t).result.then((function(t){t&&(e.event.emit({action:e.action}),e.action="")}),(function(t){return!1}))},t})();i.a([n.i(a.Input)(),i.b("design:type",Object)],o.prototype,"config",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"event",void 0),i.a([n.i(a.ViewChild)("content"),i.b("design:type",Object)],o.prototype,"content",void 0),o=i.a([n.i(a.Component)({selector:"action-element",template:n(1238)}),i.b("design:paramtypes",[s.b])],o)},955:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(473),o=n(472),r=n(474),l=n(475);n.d(e,"a",(function(){return d}));var c={date:s.a,choice:o.a,related:r.a,select:l.a},d=(function(){function t(t,e){this.resolver=t,this.container=e,this.event=new a.EventEmitter}return t.prototype.ngOnChanges=function(){this.component&&(this.component.instance.config=this.config,this.component.instance.event=this.event)},t.prototype.ngOnInit=function(){if("search"!==this.config.type){var t=c[this.config.type],e=this.resolver.resolveComponentFactory(t);this.component=this.container.createComponent(e),this.component.instance.config=this.config,this.component.instance.event=this.event}},t})();i.a([n.i(a.Input)(),i.b("design:type",Object)],d.prototype,"config",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],d.prototype,"event",void 0),d=i.a([n.i(a.Directive)({selector:"[filterElement]"}),i.b("design:paramtypes",[a.ComponentFactoryResolver,a.ViewContainerRef])],d)},956:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(6),o=n(479),r=n(495),l=n(284),c=n(485),d=n(477),p=n(486),u=n(493),f=n(476),h=n(483),m=n(484),g=n(487),v=n(482),y=n(494),b=n(488),k=n(480),w=n(478),E=n(481);n.d(e,"a",(function(){return x}));var O={input:o.a,row:r.a,button:l.a,select:c.a,datepicker:d.a,textarea:p.a,collapse:u.a,checkbox:f.a,related:h.a,rule:m.a,timeline:g.a,picture:v.a,hidden:y.a,vacancydates:b.a,list:k.a,static:o.a,fieldsGroup:w.a,formOptions:E.a},x=(function(){function t(t,e){this.resolver=t,this.container=e,this.label=!0,this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter}return t.prototype.ngOnChanges=function(){this.component&&(this.component.instance.config=this.config,this.component.instance.label=this.label,this.component.instance.group=this.group,this.component.instance.errors=this.errors,this.component.instance.event=this.event,this.component.instance.message=this.message,this.component.instance.buttonAction=this.buttonAction)},t.prototype.ngOnInit=function(){if(this.checkElement(this.config.type)){var t=void 0;t="input"===this.config.type&&"picture"===this.config.templateOptions.type?O.picture:O[this.config.type];var e=this.resolver.resolveComponentFactory(t);this.component=this.container.createComponent(e),this.component.instance.config=this.config,this.component.instance.label=this.label,this.component.instance.group=this.group,this.component.instance.errors=this.errors,this.component.instance.event=this.event,this.component.instance.message=this.message,this.component.instance.buttonAction=this.buttonAction}},t.prototype.checkElement=function(t){return!!O[t]},t})();i.a([n.i(a.Input)(),i.b("design:type",Object)],x.prototype,"config",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],x.prototype,"label",void 0),i.a([n.i(a.Input)(),i.b("design:type",s.f)],x.prototype,"group",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],x.prototype,"errors",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],x.prototype,"message",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],x.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],x.prototype,"buttonAction",void 0),x=i.a([n.i(a.Directive)({selector:"[formElement]"}),i.b("design:paramtypes",[a.ComponentFactoryResolver,a.ViewContainerRef])],x)},957:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(28);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.service=t,this.endpoint="",this.data={},this.needData=!0,this.response={},this.errors={},this.relatedField={},this.showResponse=!0,this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter,this.redirect=new a.EventEmitter,this.responseForm=new a.EventEmitter,this.errorForm=new a.EventEmitter,this.str=new a.EventEmitter,this.metadata=[],this.metadataError=[],this.sendData=null,this.splitElements=[],this.show=!1,this.editForm=!1,this.workflowEndpoints={state:"/ecore/api/v2/endless-core/workflownodes/",app:"/ecore/api/v2/apps/"},this.workflowData={}}return t.prototype.ngOnChanges=function(){var t=this;if(this.currentId!==this.id&&(this.currentId=this.id,this.editForm=!0,this.splitElements.forEach((function(e){e.id=t.id})),this.getData(this.splitElements),(e=this.metadata).push.apply(e,this.splitElements),this.parseMetadata(this.metadata,this.data)),this.endpoint!==this.currentEndpoint){/\?/.test(this.endpoint)&&(this.endpoint=this.endpoint.slice(0,this.endpoint.indexOf("?"))),this.currentEndpoint=this.endpoint,this.getMetadata(this.endpoint)}else this.data&&this.metadata&&this.parseMetadata(this.metadata,this.data);var e},t.prototype.formChange=function(t){var e={};Object.keys(t).forEach((function(n){e[n]={action:"add",data:{value:t[n]}}})),this.metadata=this.parseMetadata(this.metadata,e),this.parseError(Object.assign({},this.errors))},t.prototype.getMetadata=function(t){var e=this;this.service.getMetadata(t,"?type=form").subscribe((function(t){e.metadata=e.parseMetadata(t,e.relatedField),e.metadata=e.parseMetadata(t,e.data),e.checkRuleElement(e.metadata),e.checkFormBuilder(e.metadata,e.endpoint),e.getData(e.metadata),(e.id||e.edit)&&e.metadata?(e.id&&(e.editForm=!0),e.show=!1,e.needData?(e.getDataForForm(e.endpoint,e.id),e.updateElements(e.metadata,"id","list",e.id),e.updateElements(e.metadata,"editForm",void 0,!0)):e.show=!0):(e.str.emit({str:"Add"}),e.show=!0)}),(function(t){return e.metadataError=t}))},t.prototype.getDataForForm=function(t,e){var n=this,i=e?""+t+e+"/":t;this.service.getAll(i).subscribe((function(t){n.fillingForm(n.metadata,t),n.show=!0,n.str.emit({str:t&&t.__str__?t.__str__:"",data:t})}))},t.prototype.fillingForm=function(t,e){var n=this;t.forEach((function(i){i.key?n.getValueOfData(e,i.key,i,t):i.children&&n.fillingForm(i.children,e)})),this.getDataForRules(e)},t.prototype.getValueOfData=function(t,e,n,i){var a=e.split("."),s=a.shift();if(0===a.length){if(t&&(n.value=t[e],"related"===n.type)){var o=void 0;n.value?n.value instanceof Object?n.value.id&&n.value.__str__&&(n.options=[n.value]):Array.isArray(n.value)&&n.value.length?n.value[0]instanceof Object||n.list||(o=n.endpoint):o=""+n.endpoint+n.value:n.options=[],o&&this.getRalatedData(i,n.key,o,{},null,null,!0)}}else t[s]&&this.getValueOfData(t[s],a.join("."),n,i)},t.prototype.submitForm=function(t){var e=this,n={};if(n=this.form?Object.assign({},t,this.form):t,this.sendData=n,this.response.message&&(this.response.message=""),this.editForm||this.edit){var i=this.editForm?""+this.endpoint+this.id+"/":this.endpoint;this.service.editForm(i,n).subscribe((function(t){e.parseResponse(t),e.event.emit({type:"sendForm",data:t,status:"success"})}),(function(t){return e.parseError(t.errors)}))}else this.service.submitForm(this.endpoint,n).subscribe((function(t){e.parseResponse(t),e.event.emit({type:"sendForm",data:t,status:"success"})}),(function(t){return e.parseError(t.errors)}))},t.prototype.parseError=function(t){if(t&&t.register)return void this.redirect.emit({field:t.register,value:this.sendData.username});this.resetData(this.errors),this.errors=this.updateErrors(this.errors,t,this.response),this.errorForm.emit(this.errors)},t.prototype.parseResponse=function(t){this.resetData(this.response),!this.editForm&&this.showResponse&&(this.response=t),this.responseForm.emit(t)},t.prototype.eventHandler=function(t){var e=this;if(this.updateWorkflowData(t),"update"===t.type&&"related"===t.el.type)this.getData(this.metadata,t.el.key,t.currentQuery);else if("change"===t.type&&"related"===t.el.type&&t.el.related){var n=t.el.related.field,i=""+t.el.related.query+t.value[0][t.el.related.param];this.resetRalatedData(this.metadata,t.el.related.reset),this.getData(this.metadata,n,i)}else if("change"===t.type&&"rule"===t.el.type){var n=t.el.related.field,i=""+t.el.related.query+t.value[0][t.el.related.param];this.getRalatedData(this.metadata,n,t.el.endpoint,null,i,t.el.related.prop,!1)}else"delete"===t.type?this.service.delete(t.endpoint,t.id).subscribe((function(t){return e.parseResponse(t)}),(function(t){return e.parseError(t)})):"update"===t.type&&"timeline"===t.el.key&&this.getRalatedData(this.metadata,t.el.key,t.el.endpoint,null,t.query,null,!0);this.event.emit(t)},t.prototype.buttonActionHandler=function(t){this.buttonAction.emit(t)},t.prototype.getRelatedMetadata=function(t,e,n){var i=this;this.service.getMetadata(n,"?type=formset").subscribe((function(n){i.parseMetadata(t,(a={},a[e]={action:"add",data:{metadata:n.fields}},a)),i.getData(n.fields);var a}))},t.prototype.getRalatedData=function(t,e,n,i,a,s,o){var r=this;void 0===a&&(a=null),void 0===s&&(s="options"),void 0===o&&(o=!0);var l;i&&(l=this.generateQueryForRelatedFields(i)),a?(l&&(a+="&"+l),this.service.getByQuery(n,a).subscribe((function(n){if(r.parseMetadata(t,(l={},l[e]={action:"add",data:(c={},c[s]=n.results?n.results:n,c.currentQuery=a,c)},l),o),"rules"===e){if(n.results){var i=r.getElementFromMetadata(t,"rules");r.updateValueOfRules(n.results),r.parseMetadata(i.activeMetadata,(d={},d[e]={action:"add",data:(p={},p[s]=n.results?n.results:n,p.currentQuery=a,p)},d),o)}r.workflowData.company&&r.workflowData.number&&r.workflowData.workflow&&o&&r.updateMetadata(t,e)}else o&&r.updateMetadata(t,e);var l,c,d,p}))):this.service.getAll(n).subscribe((function(n){r.parseMetadata(t,(i={},i[e]={action:"add",data:(a={},a[s]=n.results?n.results:n,a)},i));var i,a}))},t.prototype.generateQueryForRelatedFields=function(t){var e="",n=t.display?t.display:"__str__",i=t.param?t.param:"id";return t.code2&&(e+="fields="+t.code2+"&"),e+="fields="+n+"&fields="+i},t.prototype.getData=function(t,e,n){var i=this;void 0===e&&(e=null),void 0===n&&(n=null),t.forEach((function(a){if("related"===a.type){if(a.key===e&&i.getRalatedData(t,e,a.endpoint,{},n+"&limit=-1"),!a.relate&&!e){var s={};a.templateOptions.display?s.display=a.templateOptions.display:a.templateOptions.param&&(s.param=a.templateOptions.param);var o=a.key.split(".");o.indexOf("country")>-1&&(s.code2="code2",i.getRalatedData(t,a.key,a.endpoint,s,"?limit=-1")),a.options=[],a.list&&i.getRelatedMetadata(t,a.key,a.endpoint)}}else a.children&&i.getData(a.children,e,n)}))},t.prototype.parseMetadata=function(t,e,n){var i=this;return void 0===n&&(n=!0),t.forEach((function(a){if("hidden"===a.type&&(a.hide=i.hide),a&&a.key&&e&&e[a.key]){if("add"===e[a.key].action){a=Object.assign(a,e[a.key].data);var s=i.getElementFromMetadata(t,a.key);s.related&&i.resetRalatedData(t,s.related.reset),n&&i.updateMetadata(t,a.key)}else if(e[a.key].update){var s=i.getElementFromMetadata(t,a.key);s.related&&i.resetRalatedData(t,s.related.reset),s.value=e[a.key].value,e[a.key].block&&(s.readonly=!0),i.getRalatedData(t,a.key,a.endpoint,{},""+e[a.key].query+e[a.key].id+"&limit=-1")}else if("update"===e[a.key].action&&e[a.key].block){var s=i.getElementFromMetadata(t,a.key);s.read_only=!0}}else a&&a.children&&i.parseMetadata(a.children,e)})),t},t.prototype.resetRalatedData=function(t,e,n){var i=this;void 0===n&&(n="options"),t.forEach((function(t){t.key===e?(delete t[n],delete t.value):t.children&&i.resetRalatedData(t.children,e)}))},t.prototype.updateErrors=function(t,e,n,i){var a=this;void 0===i&&(i="");var s=t||{};return Object.keys(e).forEach((function(t){e[t].length?i?(s[i+"."+t]=e[t],delete n[i+"."+t]):(s[t]=e[t],delete n[t]):a.updateErrors(s,e[t],n,t)})),s},t.prototype.resetData=function(t){Object.keys(t).forEach((function(e){delete t[e]}))},t.prototype.checkRuleElement=function(t){var e=this,n={type:"related",key:"rules",read_only:!1,many:!0,useOptions:!0,templateOptions:{label:"Active",display:"name_before_activation",param:"number"}},i=this.getElementFromMetadata(t,"rules");i&&(i.activeMetadata=[n],Object.keys(this.workflowEndpoints).forEach((function(t){var a=[i,n],s=e.workflowEndpoints[t],o="state"===t?"options":t;e.getRalatedData(a,"rules",s,null,"?default=2",o,"app"===t)})))},t.prototype.getElementFromMetadata=function(t,e){var n=this,i=null;return t.forEach((function(t){t.key===e?i||(i=t):t.children&&(i||(i=n.getElementFromMetadata(t.children,e)))})),i},t.prototype.updateWorkflowData=function(t){t&&t.el&&("workflow"!==t.el.key&&"number"!==t.el.key&&"company"!==t.el.key||(this.workflowData[t.el.key]=Array.isArray(t.value)?t.value[0].id:t.value,this.getDataOfWorkflownode()))},t.prototype.getDataOfWorkflownode=function(){var t=this,e=Object.keys(this.workflowData);if(3===e.length){var n=[];e.forEach((function(e){t.workflowData[e]&&"number"!==e&&"el"!==e&&n.push(e+"="+t.workflowData[e])}));this.getElementFromMetadata(this.metadata,"rules");this.getRalatedData(this.metadata,"rules",this.workflowEndpoints.state,null,"?"+n.join("&"))}},t.prototype.updateMetadata=function(t,e){var n=this,i=this.getElementFromMetadata(t,e);t.forEach((function(a,s){a.key===e?t.splice(s,1,Object.assign({},i)):a.children&&n.updateMetadata(a.children,e)}))},t.prototype.updateValueOfRules=function(t){var e=this;if(t&&t.length>0){var n=t.filter((function(t){return t.number===+e.workflowData.number}))[0],i=this.getElementFromMetadata(this.metadata,"rules");i.value=n?n.rules:null}},t.prototype.getDataForRules=function(t){var e=this;if(this.getElementFromMetadata(this.metadata,"rules")&&(["company","number","workflow"].forEach((function(n){t[n]&&(e.workflowData[n]=t[n])})),this.workflowData.workflow&&this.workflowData.company)){var n=Object.keys(this.workflowData),i=this.workflowEndpoints.state,a=[];n.forEach((function(t){e.workflowData[t]&&"number"!==t&&"el"!==t&&(e.workflowData[t].id?a.push(t+"="+e.workflowData[t].id):a.push(t+"="+e.workflowData[t]))})),this.getRalatedData(this.metadata,"rules",i,null,"?"+a.join("&"))}},t.prototype.updateElements=function(t,e,n,i){var a=this;void 0===n&&(n=void 0),t.forEach((function(t){n&&t.type===n?t[e]=i:n?t.children&&a.updateElements(t.children,e,n,i):(t[e]=i,t.children&&a.updateElements(t.children,e,n,i))}))},t.prototype.checkFormBuilder=function(t,e){if("/ecore/api/v2/endless-core/forms/"===e){var n;t.forEach((function(e,i){e.key==="groups"&&(n=t.splice(i,1)[0])})),n&&(n.read_only=!1,n.createOnly=!0,n.type="fieldsGroup",this.editForm?t.push(n):this.splitElements.push(n))}"/ecore/api/v2/endless-core/selectformfields/"!==e&&"/ecore/api/v2/endless-core/radiobuttonsformfields/"!==e||t.forEach((function(t){"choices"===t.key&&(t.type="formOptions")}))},t})();i.a([n.i(a.Input)(),i.b("design:type",String)],o.prototype,"endpoint",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],o.prototype,"data",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],o.prototype,"modal",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],o.prototype,"title",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],o.prototype,"needData",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],o.prototype,"response",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],o.prototype,"errors",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],o.prototype,"relatedField",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],o.prototype,"form",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],o.prototype,"id",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],o.prototype,"commonFields",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],o.prototype,"hide",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],o.prototype,"edit",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],o.prototype,"showResponse",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"buttonAction",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"redirect",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"responseForm",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"errorForm",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],o.prototype,"str",void 0),o=i.a([n.i(a.Component)({selector:"generic-form",template:n(1257)}),i.b("design:paramtypes",[s.a])],o)},958:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(28),o=n(72),r=n(23);n.d(e,"a",(function(){return l}));var l=(function(){function t(t,e,n,i){this.gfs=t,this.fs=e,this.route=n,this.router=i,this.endpoint="",this.inForm=!1,this.tables=[],this.first=!1,this.tableId=1,this.existingIds=[],this.pagination={},this.minimizedTable=[]}return t.prototype.ngOnInit=function(){this.tables.push(this.createTableData(this.endpoint))},t.prototype.getMetadata=function(t,e,n,i){var a=this;void 0===n&&(n=!1),void 0===i&&(i=null),this.gfs.getMetadata(t).subscribe((function(s){e.metadata=s,i&&setTimeout((function(){i.update=s}),300),n||(e.list=s.list.list,a.existingIds.push(a.tableId),e.id=a.tableId++,e&&!e.first&&(e.metadata.list.list+=e.id,e.list+=e.id,e.limit=a.limit,e.offset=0),a.inForm?a.getData(t,e.query,e):a.route.queryParams.subscribe((function(t){var n=a.getTable(e.list);n&&n.first&&a.parseUrl(t,e.list)})))}))},t.prototype.getData=function(t,e,n,i,a){var s=this;void 0===e&&(e=null),void 0===i&&(i=!1),void 0===a&&(a=null),i?this.gfs.getAll(t).subscribe((function(e){n.refresh=!1,s.calcPagination(e),s.getMetadata(t,n)})):e?this.gfs.getByQuery(t,e).subscribe((function(t){n.data=t,s.calcPagination(t),n.refresh=!1,a&&setTimeout((function(){a.update=t}),150)})):this.gfs.getAll(t).subscribe((function(t){n.data=t,s.calcPagination(t),n.refresh=!1,a&&setTimeout((function(){a.update=t}),150)}))},t.prototype.calcPagination=function(t){if(!this.limit){var e=t.results.length;this.count=t.count,this.limit=this.calcLimit(t.count,e)||null,this.limit&&this.updateTables("limit")}},t.prototype.calcLimit=function(t,e){return t>e?e:null},t.prototype.updateTables=function(t){var e=this;this.tables.forEach((function(n){n[t]=e[t]}))},t.prototype.eventHandler=function(t){var e=this.getTable(t.list);if(e.query||(e.query={}),"sort"===t.type||"pagination"===t.type||"filter"===t.type||"update"===t.type){if(e.refresh=!0,"update"===t.type)return void this.getData(this.getTable(t.list).endpoint,this.generateQuery(e.query),e);if(e.query[t.type]===t.query)return void(e.refresh=!1);e.query[t.type]=t.query,"pagination"===t.type&&(e.innerTables={}),e&&e.first&&!this.inForm?"filter"===t.type?this.updateUrl(e.query,t.list,!0):this.updateUrl(e.query,t.list,!1):(this.getData(this.getTable(t.list).endpoint,this.generateQuery(e.query),e),t.query&&t.query.split("&").forEach((function(t){var n=t.split("=");"offset"===n[0]&&(e.offset=n[1])})))}else"close"===t.type?this.tables.splice(this.tables.indexOf(e),1):"active"===t.type?(this.resetActiveTable(this.tables),e.active=!0):"action"===t.type?this.callAction(t.data,t.action.endpoint,e,t):"minimize"===t.type&&(e.minimized=!0,e.maximize=!1,this.minimizedTable.push(e))},t.prototype.action=function(t,e){var n=this.minimizedTable.indexOf(e),i=this.tables.indexOf(e);switch(t){case"minimize":e.minimized=!1;break;case"maximize":e.maximize=!0;break;case"close":-1!==n&&-1!==i&&this.tables.splice(i,1)}-1!==n&&-1!==i&&this.minimizedTable.splice(n,1)},t.prototype.generateQuery=function(t){var e=/\?/,n="";return n=e.test(this.endpoint)?"&":"?",Object.keys(t).forEach((function(e){t[e]&&(n+=t[e]+"&")})),n.slice(0,n.length-1)},t.prototype.createTableData=function(t){var e={endpoint:t,innerTables:{}};if(this.first){var n=this.getFirstTable();e.parentEndpoint=n.endpoint,this.getMetadata(t,e),this.getData(t,null,e)}else e.first=!0,this.first=!0,this.getData(t,null,e,!0);return e},t.prototype.getTable=function(t){return this.tables.filter((function(e){return e.list===t}))[0]},t.prototype.getFirstTable=function(){return this.tables.filter((function(t){return t&&t.first}))[0]},t.prototype.resetActiveTable=function(t){t.forEach((function(t){t.active=!1}))},t.prototype.listHandler=function(t){if(this.checkList(t.endpoint)&&!t.innerTable&&this.tables.length<10)this.tables.push(this.createTableData(t.endpoint));else if(t.innerTable){var e=this.getTable(t.list);e.innerTables=Object.assign({},e.innerTables),e.innerTables[t.row]=e.innerTables[t.row]||{},e.innerTables[t.row][t.key]={},this.getMetadata(t.endpoint,e.innerTables[t.row][t.key],e),this.getData(t.endpoint,null,e.innerTables[t.row][t.key],!1,e)}},t.prototype.checkList=function(t){return!this.tables.filter((function(e){return e.endpoint===t})).length},t.prototype.callAction=function(t,e,n,i){var a=this,s=[];Object.keys(t).forEach((function(e){t[e]&&s.push(e)})),this.gfs.callAction(e,s).subscribe((function(t){"success"===t.status&&(i.action.reload?a.getData(n.endpoint,a.generateQuery(n.query),n):n.actionData=t)}),(function(t){a.err=t}))},t.prototype.updateUrl=function(t,e,n){var i=this,a={};Object.keys(t).forEach((function(n){t[n]&&t[n].split("&").forEach((function(t,s){var o=t.split("="),r="filter"===n?"f.":"sort"===n?"s.":"pagination"===n?"p.":"";if("pagination"===n)return void(a[e+"."+r+"page"]=i.setPage(o[0],o[1]));"f."===r?a[e+"."+r+o[0]+"-"+s]=o[1]:a[e+"."+r+o[0]]=o[1]}))})),n&&(a[e+".p.page"]=1),this.router.navigate([],{queryParams:a})},t.prototype.parseUrl=function(t,e){var n=this;this.fs.resetQueries(e);var i={},a={},s={filter:"",sort:"",pagination:""},o=this.getTable(e),r=Object.keys(t),l=!r.length;r.forEach((function(o){var r=o.split(".");if(r[0]===e)if(l=!0,"f"===r[1]){var c=r.slice(2).toString();n.fs.paramsOfFilters={param:c.slice(0,c.indexOf("-")),value:t[o],list:e,endpoint:n.endpoint},s.filter+=c.slice(0,c.indexOf("-"))+"="+t[o]+"&"}else if("p"===r[1]){"page"===r[2]&&(i.page=(t[o]-1)*n.limit>n.count&&1!==n.limit?1:t[o],s.pagination="limit="+n.limit+"&offset="+(isNaN(n.limit*(i.page-1))?0:n.limit*(i.page-1)))}else if("s"===r[1]){var d=t[o].split(",");d.forEach((function(t){var e="-"===t[0]?"desc":"asc";a[t.substring("-"===t[0]?1:0)]=e})),s.sort+=r[2]+"="+t[o]}})),o.limit=this.limit,o.offset=0;var c=i.page;c&&(o.offset=1===c?0:(c-1)*this.limit),o.sorted=a,Object.keys(s).forEach((function(t){"filter"===t&&(s[t]=s[t].substring(0,s[t].length-1))})),l&&(o.query=s,this.getData(o.endpoint,this.generateQuery(o.query),o))},t.prototype.setPage=function(t,e){if(this.pagination[t]=e,this.pagination.limit&&this.pagination.offset)return this.pagination.offset/this.pagination.limit+1},t})();i.a([n.i(a.Input)(),i.b("design:type",String)],l.prototype,"endpoint",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],l.prototype,"inForm",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],l.prototype,"data",void 0),l=i.a([n.i(a.Component)({selector:"generic-list",template:n(1258)}),i.b("design:paramtypes",[s.a,o.a,r.d,r.c])],l)},959:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(492),o=n(496),r=n(491),l=n(489),c=n(284),d=n(490);n.d(e,"a",(function(){return u}));var p={text:s.a,column:o.a,link:r.a,input:s.a,static:s.a,checkbox:l.a,select:l.a,button:c.a,datetime:s.a,related:s.a,picture:d.a,icon:d.a,date:s.a,datepicker:s.a,textarea:s.a},u=(function(){function t(t,e){this.resolver=t,this.container=e,this.event=new a.EventEmitter,this.buttonAction=new a.EventEmitter}return t.prototype.ngOnChanges=function(){this.component&&(this.component.instance.config=this.config)},t.prototype.ngOnInit=function(){if(this.config.type){var t=p[this.config.type],e=this.resolver.resolveComponentFactory(t);this.component=this.container.createComponent(e),this.component.instance.config=this.config,this.component.instance.length=this.length,this.component.instance.event=this.event,this.component.instance.buttonAction=this.buttonAction}else if(this.config.length||this.config.name){var t=p.column,e=this.resolver.resolveComponentFactory(t);this.component=this.container.createComponent(e),this.component.instance.config=this.config,this.component.instance.length=this.length,this.component.instance.head=this.head,this.component.instance.event=this.event,this.component.instance.buttonAction=this.buttonAction}},t})();i.a([n.i(a.Input)(),i.b("design:type",Object)],u.prototype,"config",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],u.prototype,"length",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],u.prototype,"head",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],u.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],u.prototype,"buttonAction",void 0),u=i.a([n.i(a.Directive)({selector:"[listElement]"}),i.b("design:paramtypes",[a.ComponentFactoryResolver,a.ViewContainerRef])],u)},960:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(23),o=n(72);n.d(e,"a",(function(){return r}));var r=(function(){function t(t,e){this.fs=t,this.route=e,this.event=new a.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.route.queryParams.subscribe((function(e){return t.updateSearchBar()}))},t.prototype.search=function(t){t.preventDefault(),t.stopPropagation(),this.fs.generateQuery("search="+this.searchValue,"search",this.list,{data:this.searchValue,query:this.searchValue}),this.changeQuery()},t.prototype.changeQuery=function(){this.event.emit({list:this.list})},t.prototype.updateSearchBar=function(){var t=this.fs.getQueries(this.list,"search");t?t.byQuery?this.searchValue=t.query.split("=")[1]:this.searchValue=t.data:this.searchValue=""},t})();i.a([n.i(a.Input)(),i.b("design:type",String)],r.prototype,"list",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],r.prototype,"event",void 0),r=i.a([n.i(a.Component)({selector:"list-search-bar",template:n(1262)}),i.b("design:paramtypes",[o.a,s.d])],r)},961:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){}return t})();i.a([n.i(a.Input)(),i.b("design:type",Object)],s.prototype,"config",void 0),s=i.a([n.i(a.Component)({selector:"list-table",template:n(1263)})],s)},962:function(t,e,n){"use strict";var i=n(4),a=n(6),s=n(0);n.d(e,"a",(function(){return o}));var o=(function(){function t(t){this.fb=t,this.config=[],this.errors={},this.message={},this.submit=new s.EventEmitter,this.formChange=new s.EventEmitter,this.event=new s.EventEmitter,this.buttonAction=new s.EventEmitter,this.resourseData=new s.EventEmitter}return t.prototype.ngOnInit=function(){this.form=this.fb.group({}),this.currentForm=this.config},t.prototype.ngOnChanges=function(){if(this.addData(this.data,this.form),this.config!==this.currentForm&&void 0!==this.currentForm){this.currentForm=this.config;var t=this.getValues(this.form,this.commonFields);this.formChange.emit(t),this.form=this.fb.group({})}},t.prototype.getValues=function(t,e){var n=this,i={};return e&&e.forEach((function(e){i[e]=n.getValue(t,e)})),i},t.prototype.getValue=function(t,e){if(t){if(e.indexOf(".")>-1){var n=e.split(".");return this.getValue(t.get(n.shift()),n.join("."))}return t.get(e).value}},t.prototype.handleSubmit=function(t){t.preventDefault(),t.stopPropagation(),this.submit.emit(this.form.value)},t.prototype.eventHandler=function(t){this.event.emit(t)},t.prototype.buttonActionHandler=function(t){this.buttonAction.emit(t)},t.prototype.resourseDataHandler=function(t){this.resourseData.emit(t)},t.prototype.addData=function(t,e){var n=this;if(t&&e){Object.keys(t).forEach((function(i){i.indexOf(".")>-1?n.updateForm(i.split("."),t,e,i):n.updateForm([i],t,e,i)}))}},t.prototype.updateForm=function(t,e,n,i){var a=t.shift();0===t.length?"update"===e[i].action&&n.get(a).patchValue(e[i].value):this.updateForm(t,e,n.get(a),i)},t})();i.a([n.i(s.Input)(),i.b("design:type",Array)],o.prototype,"config",void 0),i.a([n.i(s.Input)(),i.b("design:type",Object)],o.prototype,"errors",void 0),i.a([n.i(s.Input)(),i.b("design:type",Object)],o.prototype,"message",void 0),i.a([n.i(s.Input)(),i.b("design:type",Object)],o.prototype,"data",void 0),i.a([n.i(s.Input)(),i.b("design:type",Object)],o.prototype,"commonFields",void 0),i.a([n.i(s.Output)(),i.b("design:type",s.EventEmitter)],o.prototype,"submit",void 0),i.a([n.i(s.Output)(),i.b("design:type",s.EventEmitter)],o.prototype,"formChange",void 0),i.a([n.i(s.Output)(),i.b("design:type",s.EventEmitter)],o.prototype,"event",void 0),i.a([n.i(s.Output)(),i.b("design:type",s.EventEmitter)],o.prototype,"buttonAction",void 0),i.a([n.i(s.Output)(),i.b("design:type",s.EventEmitter)],o.prototype,"resourseData",void 0),o=i.a([n.i(s.Component)({selector:"dynamic-form",template:n(1265)}),i.b("design:paramtypes",[a.e])],o)},963:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(72),o=n(35),r=n(86),l=n(28),c=n(214),d=n.n(c);n.d(e,"a",(function(){return p}));var p=(function(){function t(t,e,n,i){this.filterService=t,this.modalService=e,this.genericFormService=n,this.sanitizer=i,this.refresh=!1,this.inForm=!1,this.event=new a.EventEmitter,this.list=new a.EventEmitter,this.body=[],this.filtersOfList=[],this.selectedAll=!1,this.modalInfo={},this.pagination={},this.pageSize=0,this.poped=!1,this.move=!1,this.refreshing=!1}return t.prototype.ngOnInit=function(){this.config.list.filters&&this.config.list.search_enabled?this.config.list.filters.push({type:"search",query:"search",key:"search"}):this.config.list.search_enabled&&(this.config.list.filters=[{type:"search",query:"search",key:"search"}]),this.config.list.filters&&(this.filterService.filters={endpoint:this.parentEndpoint||this.endpoint,list:this.config.list},this.filtersOfList=this.filterService.getFiltersByEndpoint(this.endpoint)),this.innerTableCall={row:"",cell:""}},t.prototype.ngOnChanges=function(){var t=this,e=this.config,n=this.data,i=this.innerTables;if(this.actionData!==this.currentActionData)return this.currentActionData=this.actionData,void(this.actionEndpoint.indexOf("/sendsms/")>-1&&setTimeout((function(){t.openFrame(t.currentActionData.phone_number)}),250));if(this.tabs||(this.tabs=this.config.list.tabs),e.list.columns&&this.updateMetadataByTabs(e.list.columns),n&&this.initPagination(n),this.maximize&&this.unpopedTable(),this.sorted){this.sortedColumns=this.sorted;var a=Object.keys(this.sorted);a.length?a.forEach((function(n){t.updateSort(e.list.columns,n,t.sorted[n])})):this.config.list.columns.forEach((function(e){t.resetSort(e,!1)}))}if(this.datatable.nativeElement.style.zIndex=this.active?100:5*this.id,e&&n.results&&(this.select=this.resetSelectedElements(n.results),e.list&&(this.sortedColumns=this.getSortedColumns(e.list.columns),this.body=this.prepareData(e.list.columns,n.results,e.list.highlight))),i&&this.innerTableCall){if(i[this.innerTableCall.row]){if(i[this.innerTableCall.row][this.innerTableCall.cell]){var s=i[this.innerTableCall.row][this.innerTableCall.cell];s.metadata&&s.data&&(s.body=this.prepareData(s.metadata.list.columns,s.data.results))}}}},t.prototype.ngOnDestroy=function(){this.first&&(this.filterService.filters={endpoint:this.endpoint,list:null},this.modalRef&&this.modalRef.close())},t.prototype.ngAfterContentChecked=function(){this.checkOverfow()},t.prototype.ngAfterViewInit=function(){if(this.datatable){var t=this.datatable.nativeElement.getElementsByClassName("list-buttons"),e=this.datatable.nativeElement.getElementsByClassName("filter-wrapper"),n=window.innerWidth,i=window.innerHeight,a=void 0;if(t&&t.length&&n>992&&(a=t[0].offsetHeight,e&&e.length&&(document.body.classList.contains("r3sourcer")&&(e[0].style.top=a+"px"),e[0].style.height=i-100-a+"px")),this.first){var s=this.datatable.nativeElement.getElementsByClassName("table"),o=this.datatable.nativeElement.offsetParent,r=o.getElementsByClassName("datatable-wrapper")[0];if(this.tableWrapper){o.offsetHeight-this.tableWrapper.nativeElement.offsetTop<s[0].offsetHeight&&(r.style.maxHeight=o.offsetHeight-70+"px",this.datatable.nativeElement.style.maxHeight=o.offsetHeight-70+"px");var l=this.tableWrapper.nativeElement,c=l.parentElement.parentElement.offsetHeight;l.style.maxHeight=c-l.offsetTop+"px"}}}},t.prototype.checkOverfow=function(){var t=this.tableWrapper.nativeElement.offsetWidth,e=0;this.config.list.columns.forEach((function(t){t.tab?t.tab&&!t.tab.is_collapsed&&(e+=1):e+=1})),this.tableWrapper.nativeElement.style.overflowX=t/e<150?"auto":"visible"},t.prototype.changeTab=function(t){if(this.tabs){this.tabs.forEach((function(e){e===t&&(e.is_collapsed=!e.is_collapsed)}));this.tabs.filter((function(t){return t.is_collapsed}))}},t.prototype.getTabOfColumn=function(t){var e;if(this.tabs){var n=this.tabs.filter((function(e){var n=!1;return e.fields.forEach((function(e){e===t&&(n=!0)})),n}));n.length&&(e=n[0])}return e},t.prototype.updateMetadataByTabs=function(t){var e=this;t.forEach((function(t){t.tab=e.getTabOfColumn(t.name)}))},t.prototype.prepareData=function(t,e,n){var i=this;void 0===n&&(n=null);var a=[];return e.forEach((function(e){var s={id:e.id,__str__:e.__str__,content:[]};n&&i.addHighlight(n.field,e,s,n.values),t.forEach((function(t){var n={id:e.id,label:t.label,name:t.name,content:[],contextMenu:t.context_menu,tab:i.getTabOfColumn(t.name)};t.content.forEach((function(a){var s,o={};if(o.rowId=e.id,o.key=t.name,o.name=a.field,o.type=a.type,o.values=a.values,"icon"===a.type){var r=i.config.fields.filter((function(t){return t.key===a.field}));r&&r.length>0&&(o.values=r[0].templateOptions.values)}a.link?o.link=i.format(a.link,e):a.endpoint&&(o.endpoint=i.format(a.endpoint,e),"evaluate"===t.name&&(i.evaluateEndpoint=a.endpoint)),"static"===a.type&&(o.value=i.format(a.text,e),o.label=a.label),"button"===a.type&&(o.confirm=a.confirm,o.options=a.options,o.color=a.color,o.repeat=a.repeat,a.hidden&&i.setValue(e,a.hidden.split("."),o,"hidden"),a.replace_by&&i.setValue(e,a.replace_by.split("."),o,"replace_by"),o.list=!0,o.templateOptions={label:a.label,icon:a.icon?a.icon.slice(a.icon.indexOf("-")+1):null,small:!0,mb:!1,p:!0,action:a.action,text:i.format(a.text,e)}),a.fields?(o.fields=[],a.fields.forEach((function(t,n){var a=Object.assign({},t);o.fields[n]=a,s=t.field.split("."),i.setValue(e,s,a)}))):a.field&&(s=a.field.split("."),i.setValue(e,s,o)),i.checkValue(o)||delete n.contextMenu,n.content.push(o)})),s.content.push(n)})),a.push(s)})),a},t.prototype.getSortedColumns=function(t){var e={};return t.forEach((function(t){t.sorted&&(e[t.sort_field]=t.sorted)})),e},t.prototype.sorting=function(t){if(this.sortedColumns[t.sort_field])this.sortedColumns[t.sort_field]="asc"===this.sortedColumns[t.sort_field]?"desc":"asc",t.sorted="asc"===t.sorted?"desc":"asc";else{var e="asc";this.sortedColumns[t.sort_field]=e,t.sorted=e}this.event.emit({type:"sort",list:this.config.list.list,query:this.sortTable(this.sortedColumns)})},t.prototype.resetSort=function(t,e){delete t.sorted,delete this.sortedColumns[t.sort_field],e&&this.event.emit({type:"sort",list:this.config.list.list,query:this.sortTable(this.sortedColumns)})},t.prototype.updateSort=function(t,e,n){t.forEach((function(t){e===t.sort_field&&(t.sorted=n)}))},t.prototype.getValue=function(t,e){var n=this,i="";return t.forEach((function(t){if(t.name===e){var a="";t.content.forEach((function(t){t.value&&(a+=t.value+" ")})),i=a}else t.content&&n.getValue(t.content,e)})),i},t.prototype.setValue=function(t,e,n,i){void 0===i&&(i="value");var a=e.shift();0===e.length?"related"!==n.type||n[i]?n[i]||("datepicker"===n.type||"datetime"===n.type?n[i]=d.a.tz(t[a],"Australia/Sydney").format("YYYY-MM-DD hh:mm A"):n[i]=t[a]):n[i]=t[a]?t[a].__str__:"":t[a]&&this.setValue(t[a],e,n)},t.prototype.checkValue=function(t){if(t.value)return!!t.value;if(t.fields){var e="";return t.fields.forEach((function(t){t.value&&(e=t.value)})),!!e}},t.prototype.selectAll=function(){var t=this;Object.keys(this.select).forEach((function(e){t.select[e]=t.selectedAll}))},t.prototype.resetSelectedElements=function(t){var e={};return t.forEach((function(t){e[t.id]=!1})),e},t.prototype.actionHandler=function(t){this.actionEndpoint=t.action.endpoint,this.event.emit({type:"action",list:this.config.list.list,action:t.action,data:this.select})},t.prototype.filterHandler=function(t){this.event.emit({type:"filter",list:t.list,query:this.filterService.getQuery(t.list)})},t.prototype.openModal=function(t,e){this.modalInfo.endpoint=e.endpoint,this.modalInfo.label=e.label,this.modalInfo.type="form",this.open(t,{size:"lg"})},t.prototype.open=function(t,e){void 0===e&&(e={}),this.modalRef=this.modalService.open(t,e)},t.prototype.initPagination=function(t){if(t!==this.currentData||t.count!==this.count){this.selectedAll=!1;var e=t.count,n=t.results.length;if(this.count=n,0===n)return this.pageSize=10,void(this.page=1);this.offset?this.offset&&(this.page=this.offset/this.limit+1):this.page=1,this.limit?this.pageSize=e/this.limit*10:this.pageSize=10}},t.prototype.sortTable=function(t){var e="ordering=",n="";return Object.keys(t).forEach((function(e){"desc"===t[e]?n+="-"+e+",":"asc"===t[e]&&(n+=e+",")})),e+=n.slice(0,n.length-1)},t.prototype.pageChange=function(){var t;this.selectedAll=!1,this.select={},t=2===this.page?"limit="+this.limit+"&offset="+this.limit:1===this.page?"limit="+this.limit+"&offset=0":"limit="+this.limit+"&offset="+this.limit*(this.page-1),this.event.emit({type:"pagination",list:this.config.list.list,query:t})},t.prototype.popedTable=function(){this.filtersOfList=this.filterService.getFiltersOfList(this.parentEndpoint,this.config.list.list),this.poped=!0},t.prototype.unpopedTable=function(){this.config.list.filters&&(this.filterService.filters={endpoint:this.parentEndpoint,list:this.config.list}),this.poped=!1,this.minimized=!1,this.maximize=!1},t.prototype.minimizeTable=function(){this.minimized=!0,this.event.emit({type:"minimize",list:this.config.list.list})},t.prototype.closeTable=function(){this.event.emit({type:"close",list:this.config.list.list}),this.filterService.resetQueries(this.config.list.list)},t.prototype.buttonHandler=function(t){if(this.modalInfo={},t&&t.value)switch(t.value){case"openMap":this.openMap(t.el.fields);break;case"openList":case"openDiff":this[t.value](t.el.endpoint,t.el);break;case"approveTimesheet":this.approveTimesheet(t);break;case"openForm":this.openForm(t);break;case"changeTimesheet":this.changeTimesheet(t);break;case"callAction":this.setAction(t);break;case"evaluateCandidate":this.evaluate(t);break;case"sendSMS":this.openFrame(t.el.fields);break;case"previewInvoice":this.showPreview(t);break;case"printInvoice":this.printPDF(t);break;default:return}},t.prototype.openForm=function(t){this.modalInfo={},this.modalInfo.type="form",this.modalInfo.endpoint=t.el.endpoint,this.modalInfo.label=t.el.value,this.open(this.modal,{size:"lg"})},t.prototype.setAction=function(t){this.modalInfo={},this.modalInfo.type="action",this.modalInfo.endpoint=t.el.endpoint,t.el.confirm&&t.el.options?(this.modalInfo.message=t.el.options.message,this.modalInfo.agree_label=t.el.options.agree_label,this.modalInfo.decline_label=t.el.options.decline_label,this.open(this.confirmModal)):this.callAction(this.modalInfo)},t.prototype.callAction=function(t,e){var n=this;void 0===e&&(e=void 0),e&&e();var i=t.endpoint;this.genericFormService.submitForm(i,{}).subscribe((function(t){n.event.emit({type:"update",list:n.config.list.list})}))},t.prototype.openMap=function(t){var e=this;t.forEach((function(t){var n=t.field.split(".");e.modalInfo[n[n.length-1]]=+t.value})),this.modalInfo.type="map",this.open(this.modal,{size:"lg"})},t.prototype.evaluate=function(t){var e=this.data.results.filter((function(e){return e.id===t.el.rowId}))[0];this.modalInfo={},this.modalInfo.type="evaluate",this.modalInfo.endpoint=t.el.endpoint,this.modalInfo.edit=!0,this.modalInfo.needData=!1,this.modalInfo.label={picture:e.picture&&e.picture.thumb?e.picture.thumb:"/assets/img/avatar.png",name:e.vacancy_offer.candidate_contact.contact.__str__},this.open(this.evaluateModal)},t.prototype.changeTimesheet=function(t){var e=this.data.results.filter((function(e){return e.id===t.el.rowId}))[0];this.modalInfo={},this.modalInfo.type="evaluate",this.modalInfo.endpoint=t.el.endpoint,this.modalInfo.edit=!0,this.modalInfo.needData=!1,this.modalInfo.data={shift_started_at:{action:"add",data:{value:e.shift_started_at}},break_started_at:{action:"add",data:{value:e.break_started_at}},break_ended_at:{action:"add",data:{value:e.break_ended_at}},shift_ended_at:{action:"add",data:{value:e.shift_ended_at}}},this.modalInfo.label={picture:e.picture&&e.picture.thumb?e.picture.thumb:"/assets/img/avatar.png",name:e.vacancy_offer.candidate_contact.contact.__str__},this.open(this.evaluateModal,{size:"lg"});var n=document.getElementsByClassName("modal-content")[0];n&&(n.style.overflow="visible")},t.prototype.approveTimesheet=function(t){var e=this.data.results.filter((function(e){return e.id===t.el.rowId}))[0];this.approveEndpoint=t.el.endpoint,t.el.endpoint=this.format(this.evaluateEndpoint,e),this.evaluate(t)},t.prototype.openFrame=function(t,e){void 0===e&&(e="recipient");var n="?",i=[];if(t&&t.length&&t.forEach((function(t){t&&(t instanceof Object?t.value&&i.push(t.value):i.push(t))})),i&&i.length){i.forEach((function(t){n+=e+"[]="+encodeURIComponent(t)+"&"})),n=n.slice(0,n.length-1);var a=void 0;this.modalInfo={},a="recipient"===e?"/ecore/twilio/":"",a+=n,this.modalInfo.url=this.sanitizer.bypassSecurityTrustResourceUrl(a),this.open(this.sendMessageModal)}},t.prototype.eventHandler=function(t){this.modalInfo={},this.modalInfo.type=t.target,this.modalInfo.endpoint=t.endpoint,this.modalInfo.label=t.label,this.modalInfo.id=t.id,this.open(this.modal,{size:"lg"})},t.prototype.addObject=function(){this.modalInfo={},this.modalInfo.type="form",this.modalInfo.endpoint=this.endpoint,this.modalInfo.label="Add "+this.config.list.label,this.open(this.modal,{size:"lg"})},t.prototype.editObject=function(t,e){void 0===e&&(e=void 0),this.modalInfo={},this.modalInfo.type="form",this.modalInfo.endpoint=this.endpoint,this.modalInfo.label=e||"Edit",this.modalInfo.id=t,this.open(this.modal,{size:"lg"})},t.prototype.activeTable=function(t){this.poped&&this.event.emit({type:"active",list:this.config.list.list})},t.prototype.addHighlight=function(t,e,n,i){var a=t.split("."),s=a.shift();if(0===a.length){var o=e[t];n.highlight=!1,"boolean"==typeof i[o]?n.highlight={highlight:!0}:o&&(n.highlight={color:i[o]})}else this.addHighlight(a.join("."),e[s],n,i)},t.prototype.openList=function(t){this.list.emit({endpoint:t})},t.prototype.openDiff=function(t,e){this.innerTableCall.row=e.rowId,this.innerTableCall.cell=e.key,this.list.emit({endpoint:t,innerTable:!0,list:this.config.list.list,key:e.key,row:e.rowId})},t.prototype.format=function(t,e){for(var n,i,a,s="{",o="}",r=[],l=0;t;){var c=t.indexOf(s,l),d=t.indexOf(o,l),p=t.substring(c+1,d);if(-1===c||-1===d){a=t.substr(l),""!==a&&r.push(a);break}i=this.getPropValue(e,p),n=t.substring(l,c),r.push(n),r.push(i),l=d+1}return r.join("")},t.prototype.getPropValue=function(t,e){var n=e.split("."),i=n.shift();if(n.length){if(t)return this.getPropValue(t[i],n.join("."))}else if(t){if(i.indexOf("__")>-1){var a=i.split("__"),s=["date","time"];if(s.indexOf(a[1])>-1)return d.a.tz(t[a[0]],"Australia/Sydney").format("time"===a[1]?"hh:mm A":"YYYY-MM-DD")}return t[i]}},t.prototype.formEvent=function(t,e){"sendForm"===t.type&&"success"===t.status&&(e(),this.event.emit({type:"update",list:this.config.list.list}))},t.prototype.evaluateEvent=function(t,e){var n=this;"sendForm"===t.type&&"success"===t.status&&(e(),this.approveEndpoint?this.genericFormService.editForm(this.approveEndpoint,{}).subscribe((function(t){n.event.emit({type:"update",list:n.config.list.list}),n.approveEndpoint=null})):this.formEvent(t,e))},t.prototype.buttonAction=function(t){if(t&&t.type)switch(t.type){case"add_object":this.addObject();break;case"poped_table":this.popedTable();break;default:return}},t.prototype.showPreview=function(t){var e=this;this.genericFormService.getAll(t.el.endpoint).subscribe((function(t){e.modalInfo={url:{url:t.pdf}},e.open(e.showPreviewInvoice,{size:"lg"})}))},t.prototype.printPDF=function(t){var e=this;this.genericFormService.getAll(t.el.endpoint).subscribe((function(t){e.modalInfo={url:e.sanitizer.bypassSecurityTrustResourceUrl(t.pdf)},e.open(e.sendMessageModal,{size:"lg"})}))},t})();i.a([n.i(a.Input)(),i.b("design:type",Object)],p.prototype,"config",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],p.prototype,"data",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],p.prototype,"first",void 0),i.a([n.i(a.Input)(),i.b("design:type",Number)],p.prototype,"id",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],p.prototype,"active",void 0),i.a([n.i(a.Input)(),i.b("design:type",Number)],p.prototype,"limit",void 0),i.a([n.i(a.Input)(),i.b("design:type",Number)],p.prototype,"offset",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],p.prototype,"sorted",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],p.prototype,"innerTables",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],p.prototype,"update",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],p.prototype,"minimized",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],p.prototype,"maximize",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],p.prototype,"refresh",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],p.prototype,"endpoint",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],p.prototype,"parentEndpoint",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],p.prototype,"inForm",void 0),i.a([n.i(a.Input)(),i.b("design:type",Object)],p.prototype,"actionData",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],p.prototype,"event",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],p.prototype,"list",void 0),i.a([n.i(a.ViewChild)("modal"),i.b("design:type",Object)],p.prototype,"modal",void 0),i.a([n.i(a.ViewChild)("confirmModal"),i.b("design:type",Object)],p.prototype,"confirmModal",void 0),i.a([n.i(a.ViewChild)("evaluateModal"),i.b("design:type",Object)],p.prototype,"evaluateModal",void 0),i.a([n.i(a.ViewChild)("sendMessageModal"),i.b("design:type",Object)],p.prototype,"sendMessageModal",void 0),i.a([n.i(a.ViewChild)("datatable"),i.b("design:type",Object)],p.prototype,"datatable",void 0),i.a([n.i(a.ViewChild)("tableWrapper"),i.b("design:type",Object)],p.prototype,"tableWrapper",void 0),i.a([n.i(a.ViewChild)("showPreviewInvoice"),i.b("design:type",Object)],p.prototype,"showPreviewInvoice",void 0),p=i.a([n.i(a.Component)({selector:"dynamic-list",template:n(1266)}),i.b("design:paramtypes",[s.a,o.b,l.a,r.d])],p)},964:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.config=[],this.event=new a.EventEmitter,this.direction="down"}return t.prototype.changeQuery=function(t){this.event.emit(t)},t})();i.a([n.i(a.Input)(),i.b("design:type",Array)],s.prototype,"config",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"event",void 0),s=i.a([n.i(a.Component)({selector:"filter-block",template:n(1267)})],s)},965:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){this.event=new a.EventEmitter}return t.prototype.buttonAction=function(t){this.event.emit({type:t})},t})();i.a([n.i(a.Input)(),i.b("design:type",Array)],s.prototype,"buttons",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],s.prototype,"first",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],s.prototype,"inForm",void 0),i.a([n.i(a.Input)(),i.b("design:type",String)],s.prototype,"label",void 0),i.a([n.i(a.Input)(),i.b("design:type",Boolean)],s.prototype,"poped",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"event",void 0),s=i.a([n.i(a.Component)({selector:"list-buttons",template:n(1271),changeDetection:a.ChangeDetectionStrategy.OnPush})],s)},966:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(t){this.el=t,this.active=new a.EventEmitter,this.isMovable=!1,this.pos={x:0,y:0},this.elem=t.nativeElement}return t.prototype.onMouseDown=function(t){this.down()},t.prototype.onMouseMove=function(t){this.move(t)},t.prototype.onMouseUp=function(t){this.end()},t.prototype.onTouchStart=function(){this.down()},t.prototype.onToucMove=function(t){this.move(t)},t.prototype.onTouchEnd=function(){this.end()},t.prototype.updatePosition=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.pos.x+=t,this.pos.y+=e,this.parent.style.left=this.pos.x+this.offsetLeft+"px",this.parent.style.top=this.pos.y+this.offsetTop+"px"},t.prototype.down=function(){this.offsetTop=this.parent.offsetTop,this.offsetLeft=this.parent.offsetLeft,this.updatePosition(),this.isMovable=!0,this.elem.style.cursor="move",this.active.emit(!0)},t.prototype.move=function(t){this.isMovable&&this.updatePosition(t.movementX,t.movementY)},t.prototype.end=function(){this.isMovable=!1,this.pos.x=0,this.pos.y=0,this.elem.style.cursor="default"},t})();i.a([n.i(a.Input)(),i.b("design:type",Object)],s.prototype,"parent",void 0),i.a([n.i(a.Output)(),i.b("design:type",a.EventEmitter)],s.prototype,"active",void 0),i.a([n.i(a.HostListener)("mousedown",["$event"]),i.b("design:type",Function),i.b("design:paramtypes",[Object]),i.b("design:returntype",void 0)],s.prototype,"onMouseDown",null),i.a([n.i(a.HostListener)("document:mousemove",["$event"]),i.b("design:type",Function),i.b("design:paramtypes",[Object]),i.b("design:returntype",void 0)],s.prototype,"onMouseMove",null),i.a([n.i(a.HostListener)("document:mouseup",["$event"]),i.b("design:type",Function),i.b("design:paramtypes",[Object]),i.b("design:returntype",void 0)],s.prototype,"onMouseUp",null),i.a([n.i(a.HostListener)("touchstart"),i.b("design:type",Function),i.b("design:paramtypes",[]),i.b("design:returntype",void 0)],s.prototype,"onTouchStart",null),i.a([n.i(a.HostListener)("document:touchmove",["$event"]),i.b("design:type",Function),i.b("design:paramtypes",[Object]),i.b("design:returntype",void 0)],s.prototype,"onToucMove",null),i.a([n.i(a.HostListener)("touchstart"),i.b("design:type",Function),i.b("design:paramtypes",[]),i.b("design:returntype",void 0)],s.prototype,"onTouchEnd",null),s=i.a([n.i(a.Directive)({selector:"[move]"}),i.b("design:paramtypes",[a.ElementRef])],s)},967:function(t,e,n){"use strict";var i=n(4),a=n(0),s=n(8),o=n(6),r=n(35),l=n(550),c=(n.n(l),n(23)),d=n(980),p=(n.n(d),n(983)),u=(n.n(p),n(466)),f=n(1200),h=n(1149),m=(n.n(h),n(957)),g=n(962),v=n(956),y=n(479),b=n(495),k=n(284),w=n(485),E=n(477),O=n(486),x=n(493),I=n(476),C=n(483),D=n(484),_=n(487),j=n(482),F=n(494),M=n(488),A=n(478),L=n(481),S=n(958),V=n(963),T=n(959),q=n(492),R=n(491),H=n(496),z=n(964),P=n(473),Q=n(472),$=n(474),N=n(955),B=n(72),W=n(489),U=n(475),Y=n(961),G=n(490),Z=n(480),X=n(965),J=n(960),K=n(954),tt=n(28),et=n(966);n.d(e,"a",(function(){return nt}));var nt=(function(){function t(){}return t})();nt=i.a([n.i(a.NgModule)({imports:[s.CommonModule,o.b,r.a.forRoot(),l.Angular2FontawesomeModule,o.a,c.a,d.AgmCoreModule.forRoot(),p.InfiniteScrollModule],exports:[m.a,S.a],declarations:[g.a,y.a,v.a,b.a,k.a,w.a,E.a,O.a,x.a,m.a,I.a,C.a,V.a,T.a,q.a,R.a,H.a,z.a,P.a,Q.a,$.a,N.a,K.a,S.a,W.a,et.a,U.a,Y.a,D.a,_.a,j.a,u.a,F.a,M.a,G.a,Z.a,X.a,A.a,L.a,J.a,f.a,h.PdfViewerComponent],providers:[tt.a,B.a],entryComponents:[y.a,b.a,k.a,w.a,E.a,O.a,x.a,I.a,C.a,q.a,R.a,H.a,P.a,Q.a,$.a,W.a,U.a,D.a,_.a,j.a,F.a,M.a,G.a,Z.a,A.a,L.a]})],nt)},968:function(t,e,n){"use strict";var i=n(969);n.d(e,"a",(function(){return i.a}))},969:function(t,e,n){"use strict";var i=n(4),a=n(0);n.d(e,"a",(function(){return s}));var s=(function(){function t(){}return t})();s=i.a([n.i(a.Component)({selector:"no-content",template:"\n    <div>\n      <h1>404: page missing</h1>\n    </div>\n  "})],s)},970:function(t,e,n){"use strict";var i=n(285),a=n(498),s=n(198),o=n(140),r=n(497),l=n(499),c=n(500);n.d(e,"a",(function(){return d}));var d=[i.a,a.a,s.a,o.a,r.a,l.a,c.a]}},[1325]);